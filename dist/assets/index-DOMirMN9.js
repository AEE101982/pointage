function p2(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(t,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ih={exports:{}},iu={},sh={exports:{}},Ht={};var _g;function Fw(){if(_g)return Ht;_g=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function C(ue){return ue===null||typeof ue!="object"?null:(ue=A&&ue[A]||ue["@@iterator"],typeof ue=="function"?ue:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,O={};function k(ue,j,ae){this.props=ue,this.context=j,this.refs=O,this.updater=ae||N}k.prototype.isReactComponent={},k.prototype.setState=function(ue,j){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,j,"setState")},k.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function K(){}K.prototype=k.prototype;function z(ue,j,ae){this.props=ue,this.context=j,this.refs=O,this.updater=ae||N}var B=z.prototype=new K;B.constructor=z,b(B,k.prototype),B.isPureReactComponent=!0;var Q=Array.isArray,Se=Object.prototype.hasOwnProperty,ve={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function fe(ue,j,ae){var ee,re={},oe=null,qe=null;if(j!=null)for(ee in j.ref!==void 0&&(qe=j.ref),j.key!==void 0&&(oe=""+j.key),j)Se.call(j,ee)&&!G.hasOwnProperty(ee)&&(re[ee]=j[ee]);var De=arguments.length-2;if(De===1)re.children=ae;else if(1<De){for(var Xe=Array(De),Ve=0;Ve<De;Ve++)Xe[Ve]=arguments[Ve+2];re.children=Xe}if(ue&&ue.defaultProps)for(ee in De=ue.defaultProps,De)re[ee]===void 0&&(re[ee]=De[ee]);return{$$typeof:t,type:ue,key:oe,ref:qe,props:re,_owner:ve.current}}function Z(ue,j){return{$$typeof:t,type:ue.type,key:j,ref:ue.ref,props:ue.props,_owner:ue._owner}}function Ne(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===t}function Te(ue){var j={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(ae){return j[ae]})}var we=/\/+/g;function Re(ue,j){return typeof ue=="object"&&ue!==null&&ue.key!=null?Te(""+ue.key):j.toString(36)}function at(ue,j,ae,ee,re){var oe=typeof ue;(oe==="undefined"||oe==="boolean")&&(ue=null);var qe=!1;if(ue===null)qe=!0;else switch(oe){case"string":case"number":qe=!0;break;case"object":switch(ue.$$typeof){case t:case e:qe=!0}}if(qe)return qe=ue,re=re(qe),ue=ee===""?"."+Re(qe,0):ee,Q(re)?(ae="",ue!=null&&(ae=ue.replace(we,"$&/")+"/"),at(re,j,ae,"",function(Ve){return Ve})):re!=null&&(Ne(re)&&(re=Z(re,ae+(!re.key||qe&&qe.key===re.key?"":(""+re.key).replace(we,"$&/")+"/")+ue)),j.push(re)),1;if(qe=0,ee=ee===""?".":ee+":",Q(ue))for(var De=0;De<ue.length;De++){oe=ue[De];var Xe=ee+Re(oe,De);qe+=at(oe,j,ae,Xe,re)}else if(Xe=C(ue),typeof Xe=="function")for(ue=Xe.call(ue),De=0;!(oe=ue.next()).done;)oe=oe.value,Xe=ee+Re(oe,De++),qe+=at(oe,j,ae,Xe,re);else if(oe==="object")throw j=String(ue),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return qe}function le(ue,j,ae){if(ue==null)return ue;var ee=[],re=0;return at(ue,ee,"","",function(oe){return j.call(ae,oe,re++)}),ee}function pt(ue){if(ue._status===-1){var j=ue._result;j=j(),j.then(function(ae){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=ae)},function(ae){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=ae)}),ue._status===-1&&(ue._status=0,ue._result=j)}if(ue._status===1)return ue._result.default;throw ue._result}var Ke={current:null},We={transition:null},nt={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:We,ReactCurrentOwner:ve};function $e(){throw Error("act(...) is not supported in production builds of React.")}return Ht.Children={map:le,forEach:function(ue,j,ae){le(ue,function(){j.apply(this,arguments)},ae)},count:function(ue){var j=0;return le(ue,function(){j++}),j},toArray:function(ue){return le(ue,function(j){return j})||[]},only:function(ue){if(!Ne(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}},Ht.Component=k,Ht.Fragment=r,Ht.Profiler=o,Ht.PureComponent=z,Ht.StrictMode=i,Ht.Suspense=w,Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nt,Ht.act=$e,Ht.cloneElement=function(ue,j,ae){if(ue==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ue+".");var ee=b({},ue.props),re=ue.key,oe=ue.ref,qe=ue._owner;if(j!=null){if(j.ref!==void 0&&(oe=j.ref,qe=ve.current),j.key!==void 0&&(re=""+j.key),ue.type&&ue.type.defaultProps)var De=ue.type.defaultProps;for(Xe in j)Se.call(j,Xe)&&!G.hasOwnProperty(Xe)&&(ee[Xe]=j[Xe]===void 0&&De!==void 0?De[Xe]:j[Xe])}var Xe=arguments.length-2;if(Xe===1)ee.children=ae;else if(1<Xe){De=Array(Xe);for(var Ve=0;Ve<Xe;Ve++)De[Ve]=arguments[Ve+2];ee.children=De}return{$$typeof:t,type:ue.type,key:re,ref:oe,props:ee,_owner:qe}},Ht.createContext=function(ue){return ue={$$typeof:d,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ue.Provider={$$typeof:c,_context:ue},ue.Consumer=ue},Ht.createElement=fe,Ht.createFactory=function(ue){var j=fe.bind(null,ue);return j.type=ue,j},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(ue){return{$$typeof:m,render:ue}},Ht.isValidElement=Ne,Ht.lazy=function(ue){return{$$typeof:E,_payload:{_status:-1,_result:ue},_init:pt}},Ht.memo=function(ue,j){return{$$typeof:x,type:ue,compare:j===void 0?null:j}},Ht.startTransition=function(ue){var j=We.transition;We.transition={};try{ue()}finally{We.transition=j}},Ht.unstable_act=$e,Ht.useCallback=function(ue,j){return Ke.current.useCallback(ue,j)},Ht.useContext=function(ue){return Ke.current.useContext(ue)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(ue){return Ke.current.useDeferredValue(ue)},Ht.useEffect=function(ue,j){return Ke.current.useEffect(ue,j)},Ht.useId=function(){return Ke.current.useId()},Ht.useImperativeHandle=function(ue,j,ae){return Ke.current.useImperativeHandle(ue,j,ae)},Ht.useInsertionEffect=function(ue,j){return Ke.current.useInsertionEffect(ue,j)},Ht.useLayoutEffect=function(ue,j){return Ke.current.useLayoutEffect(ue,j)},Ht.useMemo=function(ue,j){return Ke.current.useMemo(ue,j)},Ht.useReducer=function(ue,j,ae){return Ke.current.useReducer(ue,j,ae)},Ht.useRef=function(ue){return Ke.current.useRef(ue)},Ht.useState=function(ue){return Ke.current.useState(ue)},Ht.useSyncExternalStore=function(ue,j,ae){return Ke.current.useSyncExternalStore(ue,j,ae)},Ht.useTransition=function(){return Ke.current.useTransition()},Ht.version="18.3.1",Ht}var Ag;function Zh(){return Ag||(Ag=1,sh.exports=Fw()),sh.exports}var Sg;function Bw(){if(Sg)return iu;Sg=1;var t=Zh(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(m,w,x){var E,A={},C=null,N=null;x!==void 0&&(C=""+x),w.key!==void 0&&(C=""+w.key),w.ref!==void 0&&(N=w.ref);for(E in w)i.call(w,E)&&!c.hasOwnProperty(E)&&(A[E]=w[E]);if(m&&m.defaultProps)for(E in w=m.defaultProps,w)A[E]===void 0&&(A[E]=w[E]);return{$$typeof:e,type:m,key:C,ref:N,props:A,_owner:o.current}}return iu.Fragment=r,iu.jsx=d,iu.jsxs=d,iu}var Tg;function Uw(){return Tg||(Tg=1,ih.exports=Bw()),ih.exports}var Je=Uw(),ze=Zh();const Gr=Qh(ze),jw=p2({__proto__:null,default:Gr},[ze]);var Hc={},ah={exports:{}},Jn={},oh={exports:{}},lh={};var Cg;function Hw(){return Cg||(Cg=1,(function(t){function e(We,nt){var $e=We.length;We.push(nt);e:for(;0<$e;){var ue=$e-1>>>1,j=We[ue];if(0<o(j,nt))We[ue]=nt,We[$e]=j,$e=ue;else break e}}function r(We){return We.length===0?null:We[0]}function i(We){if(We.length===0)return null;var nt=We[0],$e=We.pop();if($e!==nt){We[0]=$e;e:for(var ue=0,j=We.length,ae=j>>>1;ue<ae;){var ee=2*(ue+1)-1,re=We[ee],oe=ee+1,qe=We[oe];if(0>o(re,$e))oe<j&&0>o(qe,re)?(We[ue]=qe,We[oe]=$e,ue=oe):(We[ue]=re,We[ee]=$e,ue=ee);else if(oe<j&&0>o(qe,$e))We[ue]=qe,We[oe]=$e,ue=oe;else break e}}return nt}function o(We,nt){var $e=We.sortIndex-nt.sortIndex;return $e!==0?$e:We.id-nt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();t.unstable_now=function(){return d.now()-m}}var w=[],x=[],E=1,A=null,C=3,N=!1,b=!1,O=!1,k=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(We){for(var nt=r(x);nt!==null;){if(nt.callback===null)i(x);else if(nt.startTime<=We)i(x),nt.sortIndex=nt.expirationTime,e(w,nt);else break;nt=r(x)}}function Q(We){if(O=!1,B(We),!b)if(r(w)!==null)b=!0,pt(Se);else{var nt=r(x);nt!==null&&Ke(Q,nt.startTime-We)}}function Se(We,nt){b=!1,O&&(O=!1,K(fe),fe=-1),N=!0;var $e=C;try{for(B(nt),A=r(w);A!==null&&(!(A.expirationTime>nt)||We&&!Te());){var ue=A.callback;if(typeof ue=="function"){A.callback=null,C=A.priorityLevel;var j=ue(A.expirationTime<=nt);nt=t.unstable_now(),typeof j=="function"?A.callback=j:A===r(w)&&i(w),B(nt)}else i(w);A=r(w)}if(A!==null)var ae=!0;else{var ee=r(x);ee!==null&&Ke(Q,ee.startTime-nt),ae=!1}return ae}finally{A=null,C=$e,N=!1}}var ve=!1,G=null,fe=-1,Z=5,Ne=-1;function Te(){return!(t.unstable_now()-Ne<Z)}function we(){if(G!==null){var We=t.unstable_now();Ne=We;var nt=!0;try{nt=G(!0,We)}finally{nt?Re():(ve=!1,G=null)}}else ve=!1}var Re;if(typeof z=="function")Re=function(){z(we)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,le=at.port2;at.port1.onmessage=we,Re=function(){le.postMessage(null)}}else Re=function(){k(we,0)};function pt(We){G=We,ve||(ve=!0,Re())}function Ke(We,nt){fe=k(function(){We(t.unstable_now())},nt)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(We){We.callback=null},t.unstable_continueExecution=function(){b||N||(b=!0,pt(Se))},t.unstable_forceFrameRate=function(We){0>We||125<We?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<We?Math.floor(1e3/We):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return r(w)},t.unstable_next=function(We){switch(C){case 1:case 2:case 3:var nt=3;break;default:nt=C}var $e=C;C=nt;try{return We()}finally{C=$e}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(We,nt){switch(We){case 1:case 2:case 3:case 4:case 5:break;default:We=3}var $e=C;C=We;try{return nt()}finally{C=$e}},t.unstable_scheduleCallback=function(We,nt,$e){var ue=t.unstable_now();switch(typeof $e=="object"&&$e!==null?($e=$e.delay,$e=typeof $e=="number"&&0<$e?ue+$e:ue):$e=ue,We){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=$e+j,We={id:E++,callback:nt,priorityLevel:We,startTime:$e,expirationTime:j,sortIndex:-1},$e>ue?(We.sortIndex=$e,e(x,We),r(w)===null&&We===r(x)&&(O?(K(fe),fe=-1):O=!0,Ke(Q,$e-ue))):(We.sortIndex=j,e(w,We),b||N||(b=!0,pt(Se))),We},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(We){var nt=C;return function(){var $e=C;C=nt;try{return We.apply(this,arguments)}finally{C=$e}}}})(lh)),lh}var Ig;function zw(){return Ig||(Ig=1,oh.exports=Hw()),oh.exports}var Og;function Ww(){if(Og)return Jn;Og=1;var t=Zh(),e=zw();function r(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function c(s,u){d(s,u),d(s+"Capture",u)}function d(s,u){for(o[s]=u,s=0;s<u.length;s++)i.add(u[s])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},A={};function C(s){return w.call(A,s)?!0:w.call(E,s)?!1:x.test(s)?A[s]=!0:(E[s]=!0,!1)}function N(s,u,p,y){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,u,p,y){if(u===null||typeof u>"u"||N(s,u,p,y))return!0;if(y)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function O(s,u,p,y,T,I,P){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=T,this.mustUseProperty=p,this.propertyName=s,this.type=u,this.sanitizeURL=I,this.removeEmptyString=P}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new O(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];k[u]=new O(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new O(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new O(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new O(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new O(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new O(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new O(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new O(s,5,!1,s.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function z(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(K,z);k[u]=new O(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(K,z);k[u]=new O(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(K,z);k[u]=new O(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new O(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new O(s,1,!1,s.toLowerCase(),null,!0,!0)});function B(s,u,p,y){var T=k.hasOwnProperty(u)?k[u]:null;(T!==null?T.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(b(u,p,T,y)&&(p=null),y||T===null?C(u)&&(p===null?s.removeAttribute(u):s.setAttribute(u,""+p)):T.mustUseProperty?s[T.propertyName]=p===null?T.type===3?!1:"":p:(u=T.attributeName,y=T.attributeNamespace,p===null?s.removeAttribute(u):(T=T.type,p=T===3||T===4&&p===!0?"":""+p,y?s.setAttributeNS(y,u,p):s.setAttribute(u,p))))}var Q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Se=Symbol.for("react.element"),ve=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),Te=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),Ke=Symbol.for("react.offscreen"),We=Symbol.iterator;function nt(s){return s===null||typeof s!="object"?null:(s=We&&s[We]||s["@@iterator"],typeof s=="function"?s:null)}var $e=Object.assign,ue;function j(s){if(ue===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);ue=u&&u[1]||""}return`
`+ue+s}var ae=!1;function ee(s,u){if(!s||ae)return"";ae=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ae){var y=Ae}Reflect.construct(s,[],u)}else{try{u.call()}catch(Ae){y=Ae}s.call(u.prototype)}else{try{throw Error()}catch(Ae){y=Ae}s()}}catch(Ae){if(Ae&&y&&typeof Ae.stack=="string"){for(var T=Ae.stack.split(`
`),I=y.stack.split(`
`),P=T.length-1,J=I.length-1;1<=P&&0<=J&&T[P]!==I[J];)J--;for(;1<=P&&0<=J;P--,J--)if(T[P]!==I[J]){if(P!==1||J!==1)do if(P--,J--,0>J||T[P]!==I[J]){var ne=`
`+T[P].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=P&&0<=J);break}}}finally{ae=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?j(s):""}function re(s){switch(s.tag){case 5:return j(s.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return s=ee(s.type,!1),s;case 11:return s=ee(s.type.render,!1),s;case 1:return s=ee(s.type,!0),s;default:return""}}function oe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case G:return"Fragment";case ve:return"Portal";case Z:return"Profiler";case fe:return"StrictMode";case Re:return"Suspense";case at:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Te:return(s.displayName||"Context")+".Consumer";case Ne:return(s._context.displayName||"Context")+".Provider";case we:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case le:return u=s.displayName||null,u!==null?u:oe(s.type)||"Memo";case pt:u=s._payload,s=s._init;try{return oe(s(u))}catch{}}return null}function qe(s){var u=s.type;switch(s.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=u.render,s=s.displayName||s.name||"",u.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(u);case 8:return u===fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function De(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xe(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ve(s){var u=Xe(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),y=""+s[u];if(!s.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var T=p.get,I=p.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return T.call(this)},set:function(P){y=""+P,I.call(this,P)}}),Object.defineProperty(s,u,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(P){y=""+P},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Tt(s){s._valueTracker||(s._valueTracker=Ve(s))}function Mt(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var p=u.getValue(),y="";return s&&(y=Xe(s)?s.checked?"true":"false":s.value),s=y,s!==p?(u.setValue(s),!0):!1}function mt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Pt(s,u){var p=u.checked;return $e({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function Ar(s,u){var p=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;p=De(u.value!=null?u.value:p),s._wrapperState={initialChecked:y,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function $t(s,u){u=u.checked,u!=null&&B(s,"checked",u,!1)}function et(s,u){$t(s,u);var p=De(u.value),y=u.type;if(p!=null)y==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(y==="submit"||y==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?Ct(s,u.type,p):u.hasOwnProperty("defaultValue")&&Ct(s,u.type,De(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function kt(s,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,p||u===s.value||(s.value=u),s.defaultValue=u}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function Ct(s,u,p){(u!=="number"||mt(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var on=Array.isArray;function it(s,u,p,y){if(s=s.options,u){u={};for(var T=0;T<p.length;T++)u["$"+p[T]]=!0;for(p=0;p<s.length;p++)T=u.hasOwnProperty("$"+s[p].value),s[p].selected!==T&&(s[p].selected=T),T&&y&&(s[p].defaultSelected=!0)}else{for(p=""+De(p),u=null,T=0;T<s.length;T++){if(s[T].value===p){s[T].selected=!0,y&&(s[T].defaultSelected=!0);return}u!==null||s[T].disabled||(u=s[T])}u!==null&&(u.selected=!0)}}function Fi(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return $e({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ys(s,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(r(92));if(on(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),p=u}s._wrapperState={initialValue:De(p)}}function Sr(s,u){var p=De(u.value),y=De(u.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),u.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),y!=null&&(s.defaultValue=""+y)}function Bi(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}function ln(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function is(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?ln(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ur,Xr=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,y,T){MSApp.execUnsafeLocalFunction(function(){return s(u,p,y,T)})}:s})(function(s,u){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=u;else{for(Ur=Ur||document.createElement("div"),Ur.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Ur.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function Ui(s,u){if(u){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=u;return}}s.textContent=u}var ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Eo=["Webkit","ms","Moz","O"];Object.keys(ni).forEach(function(s){Eo.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),ni[u]=ni[s]})});function cr(s,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||ni.hasOwnProperty(s)&&ni[s]?(""+u).trim():u+"px"}function Ze(s,u){s=s.style;for(var p in u)if(u.hasOwnProperty(p)){var y=p.indexOf("--")===0,T=cr(p,u[p],y);p==="float"&&(p="cssFloat"),y?s.setProperty(p,T):s[p]=T}}var yr=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vt(s,u){if(u){if(yr[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function sr(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ai=null;function ss(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Es=null,Bt=null,bn=null;function as(s){if(s=Wl(s)){if(typeof Es!="function")throw Error(r(280));var u=s.stateNode;u&&(u=tc(u),Es(s.stateNode,s.type,u))}}function Da(s){Bt?bn?bn.push(s):bn=[s]:Bt=s}function kn(){if(Bt){var s=Bt,u=bn;if(bn=Bt=null,as(s),u)for(s=0;s<u.length;s++)as(u[s])}}function Ks(s,u){return s(u)}function jr(){}var Si=!1;function _s(s,u,p){if(Si)return s(u,p);Si=!0;try{return Ks(s,u,p)}finally{Si=!1,(Bt!==null||bn!==null)&&(jr(),kn())}}function un(s,u){var p=s.stateNode;if(p===null)return null;var y=tc(p);if(y===null)return null;p=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var Ma=!1;if(m)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Ma=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Ma=!1}function Pa(s,u,p,y,T,I,P,J,ne){var Ae=Array.prototype.slice.call(arguments,3);try{u.apply(p,Ae)}catch(Fe){this.onError(Fe)}}var Rr=!1,Xn=null,L=!1,U=null,H={onError:function(s){Rr=!0,Xn=s}};function V(s,u,p,y,T,I,P,J,ne){Rr=!1,Xn=null,Pa.apply(H,arguments)}function X(s,u,p,y,T,I,P,J,ne){if(V.apply(this,arguments),Rr){if(Rr){var Ae=Xn;Rr=!1,Xn=null}else throw Error(r(198));L||(L=!0,U=Ae)}}function q(s){var u=s,p=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(p=u.return),s=u.return;while(s)}return u.tag===3?p:null}function pe(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function Ie(s){if(q(s)!==s)throw Error(r(188))}function he(s){var u=s.alternate;if(!u){if(u=q(s),u===null)throw Error(r(188));return u!==s?null:s}for(var p=s,y=u;;){var T=p.return;if(T===null)break;var I=T.alternate;if(I===null){if(y=T.return,y!==null){p=y;continue}break}if(T.child===I.child){for(I=T.child;I;){if(I===p)return Ie(T),s;if(I===y)return Ie(T),u;I=I.sibling}throw Error(r(188))}if(p.return!==y.return)p=T,y=I;else{for(var P=!1,J=T.child;J;){if(J===p){P=!0,p=T,y=I;break}if(J===y){P=!0,y=T,p=I;break}J=J.sibling}if(!P){for(J=I.child;J;){if(J===p){P=!0,p=I,y=T;break}if(J===y){P=!0,y=I,p=T;break}J=J.sibling}if(!P)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?s:u}function me(s){return s=he(s),s!==null?ye(s):null}function ye(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var u=ye(s);if(u!==null)return u;s=s.sibling}return null}var be=e.unstable_scheduleCallback,Be=e.unstable_cancelCallback,He=e.unstable_shouldYield,Ye=e.unstable_requestPaint,Pe=e.unstable_now,St=e.unstable_getCurrentPriorityLevel,Ce=e.unstable_ImmediatePriority,ar=e.unstable_UserBlockingPriority,bt=e.unstable_NormalPriority,Yn=e.unstable_LowPriority,os=e.unstable_IdlePriority,Lt=null,Et=null;function Ft(s){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Lt,s,void 0,(s.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:Hr,Sl=Math.log,Tl=Math.LN2;function Hr(s){return s>>>=0,s===0?32:31-(Sl(s)/Tl|0)|0}var ii=64,_o=4194304;function ur(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function si(s,u){var p=s.pendingLanes;if(p===0)return 0;var y=0,T=s.suspendedLanes,I=s.pingedLanes,P=p&268435455;if(P!==0){var J=P&~T;J!==0?y=ur(J):(I&=P,I!==0&&(y=ur(I)))}else P=p&~T,P!==0?y=ur(P):I!==0&&(y=ur(I));if(y===0)return 0;if(u!==0&&u!==y&&(u&T)===0&&(T=y&-y,I=u&-u,T>=I||T===16&&(I&4194240)!==0))return u;if((y&4)!==0&&(y|=p&16),u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=y;0<u;)p=31-pr(u),T=1<<p,y|=s[p],u&=~T;return y}function F0(s,u){switch(s){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $s(s,u){for(var p=s.suspendedLanes,y=s.pingedLanes,T=s.expirationTimes,I=s.pendingLanes;0<I;){var P=31-pr(I),J=1<<P,ne=T[P];ne===-1?((J&p)===0||(J&y)!==0)&&(T[P]=F0(J,u)):ne<=u&&(s.expiredLanes|=J),I&=~J}}function Zt(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Zr(){var s=ii;return ii<<=1,(ii&4194240)===0&&(ii=64),s}function de(s){for(var u=[],p=0;31>p;p++)u.push(s);return u}function W(s,u,p){s.pendingLanes|=u,u!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,u=31-pr(u),s[u]=p}function ht(s,u){var p=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u,u=s.entanglements;var y=s.eventTimes;for(s=s.expirationTimes;0<p;){var T=31-pr(p),I=1<<T;u[T]=0,y[T]=-1,s[T]=-1,p&=~I}}function br(s,u){var p=s.entangledLanes|=u;for(s=s.entanglements;p;){var y=31-pr(p),T=1<<y;T&u|s[y]&u&&(s[y]|=u),p&=~T}}var Dt=0;function Uu(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ao,Dn,gt,fr,Cl,Il=!1,qs=[],ai=null,Ti=null,ls=null,Er=new Map,ji=new Map,wn=[],yt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ju(s,u){switch(s){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Er.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(u.pointerId)}}function Ot(s,u,p,y,T,I){return s===null||s.nativeEvent!==I?(s={blockedOn:u,domEventName:p,eventSystemFlags:y,nativeEvent:I,targetContainers:[T]},u!==null&&(u=Wl(u),u!==null&&Dn(u)),s):(s.eventSystemFlags|=y,u=s.targetContainers,T!==null&&u.indexOf(T)===-1&&u.push(T),s)}function Jr(s,u,p,y,T){switch(u){case"focusin":return ai=Ot(ai,s,u,p,y,T),!0;case"dragenter":return Ti=Ot(Ti,s,u,p,y,T),!0;case"mouseover":return ls=Ot(ls,s,u,p,y,T),!0;case"pointerover":var I=T.pointerId;return Er.set(I,Ot(Er.get(I)||null,s,u,p,y,T)),!0;case"gotpointercapture":return I=T.pointerId,ji.set(I,Ot(ji.get(I)||null,s,u,p,y,T)),!0}return!1}function Hu(s){var u=Ga(s.target);if(u!==null){var p=q(u);if(p!==null){if(u=p.tag,u===13){if(u=pe(p),u!==null){s.blockedOn=u,Cl(s.priority,function(){gt(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qs(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var p=So(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var y=new p.constructor(p.type,p);Ai=y,p.target.dispatchEvent(y),Ai=null}else return u=Wl(p),u!==null&&Dn(u),s.blockedOn=p,!1;u.shift()}return!0}function Ol(s,u,p){Qs(s)&&p.delete(u)}function As(){Il=!1,ai!==null&&Qs(ai)&&(ai=null),Ti!==null&&Qs(Ti)&&(Ti=null),ls!==null&&Qs(ls)&&(ls=null),Er.forEach(Ol),ji.forEach(Ol)}function La(s,u){s.blockedOn===u&&(s.blockedOn=null,Il||(Il=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,As)))}function Hi(s){function u(T){return La(T,s)}if(0<qs.length){La(qs[0],s);for(var p=1;p<qs.length;p++){var y=qs[p];y.blockedOn===s&&(y.blockedOn=null)}}for(ai!==null&&La(ai,s),Ti!==null&&La(Ti,s),ls!==null&&La(ls,s),Er.forEach(u),ji.forEach(u),p=0;p<wn.length;p++)y=wn[p],y.blockedOn===s&&(y.blockedOn=null);for(;0<wn.length&&(p=wn[0],p.blockedOn===null);)Hu(p),p.blockedOn===null&&wn.shift()}var Ci=Q.ReactCurrentBatchConfig,us=!0;function zu(s,u,p,y){var T=Dt,I=Ci.transition;Ci.transition=null;try{Dt=1,Ss(s,u,p,y)}finally{Dt=T,Ci.transition=I}}function Fa(s,u,p,y){var T=Dt,I=Ci.transition;Ci.transition=null;try{Dt=4,Ss(s,u,p,y)}finally{Dt=T,Ci.transition=I}}function Ss(s,u,p,y){if(us){var T=So(s,u,p,y);if(T===null)Y0(s,u,y,en,p),ju(s,y);else if(Jr(T,s,u,p,y))y.stopPropagation();else if(ju(s,y),u&4&&-1<yt.indexOf(s)){for(;T!==null;){var I=Wl(T);if(I!==null&&Ao(I),I=So(s,u,p,y),I===null&&Y0(s,u,y,en,p),I===T)break;T=I}T!==null&&y.stopPropagation()}else Y0(s,u,y,null,p)}}var en=null;function So(s,u,p,y){if(en=null,s=ss(y),s=Ga(s),s!==null)if(u=q(s),u===null)s=null;else if(p=u.tag,p===13){if(s=pe(u),s!==null)return s;s=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null);return en=s,null}function Nl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(St()){case Ce:return 1;case ar:return 4;case bt:case Yn:return 16;case os:return 536870912;default:return 16}default:return 16}}var zi=null,Rl=null,To=null;function Wu(){if(To)return To;var s,u=Rl,p=u.length,y,T="value"in zi?zi.value:zi.textContent,I=T.length;for(s=0;s<p&&u[s]===T[s];s++);var P=p-s;for(y=1;y<=P&&u[p-y]===T[I-y];y++);return To=T.slice(s,1<y?1-y:void 0)}function Gt(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function Ba(){return!0}function Ua(){return!1}function kr(s){function u(p,y,T,I,P){this._reactName=p,this._targetInst=T,this.type=y,this.nativeEvent=I,this.target=P,this.currentTarget=null;for(var J in s)s.hasOwnProperty(J)&&(p=s[J],this[J]=p?p(I):I[J]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Ba:Ua,this.isPropagationStopped=Ua,this}return $e(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),u}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_e=kr(Zs),Rt=$e({},Zs,{view:0,detail:0}),tn=kr(Rt),Js,Co,ja,Io=$e({},Rt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ja&&(ja&&s.type==="mousemove"?(Js=s.screenX-ja.screenX,Co=s.screenY-ja.screenY):Co=Js=0,ja=s),Js)},movementY:function(s){return"movementY"in s?s.movementY:Co}}),Vu=kr(Io),bl=$e({},Io,{dataTransfer:0}),zr=kr(bl),kl=$e({},Rt,{relatedTarget:0}),hr=kr(kl),Oo=$e({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ts=kr(Oo),Jt=$e({},Zs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),xt=kr(Jt),B0=$e({},Zs,{data:0}),or=kr(B0),Cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ea={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ii(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=U0[s])?!!u[s]:!1}function Ha(){return Ii}var Gu=$e({},Rt,{key:function(s){if(s.key){var u=Cs[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=Gt(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ea[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(s){return s.type==="keypress"?Gt(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Gt(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Dl=kr(Gu),Xu=$e({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ml=kr(Xu),j0=$e({},Rt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),ta=kr(j0),Pl=$e({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),H0=kr(Pl),za=$e({},Io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),z0=kr(za),cs=[9,13,27,32],ra=m&&"CompositionEvent"in window,cn=null;m&&"documentMode"in document&&(cn=document.documentMode);var Yu=m&&"TextEvent"in window&&!cn,oi=m&&(!ra||cn&&8<cn&&11>=cn),Ku=" ",No=!1;function $u(s,u){switch(s){case"keyup":return cs.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ll(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vn=!1;function W0(s,u){switch(s){case"compositionend":return Ll(u);case"keypress":return u.which!==32?null:(No=!0,Ku);case"textInput":return s=u.data,s===Ku&&No?null:s;default:return null}}function Fl(s,u){if(vn)return s==="compositionend"||!ra&&$u(s,u)?(s=Wu(),To=Rl=zi=null,vn=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return oi&&u.locale!=="ko"?null:u.data;default:return null}}var Wa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wt(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!Wa[s.type]:u==="textarea"}function Va(s,u,p,y){Da(y),u=Zu(u,"onChange"),0<u.length&&(p=new _e("onChange","change",null,p,y),s.push({event:p,listeners:u}))}var D=null,n=null;function a(s){B1(s,0)}function l(s){var u=ko(s);if(Mt(u))return s}function f(s,u){if(s==="change")return u}var h=!1;if(m){var g;if(m){var v="oninput"in document;if(!v){var _=document.createElement("div");_.setAttribute("oninput","return;"),v=typeof _.oninput=="function"}g=v}else g=!1;h=g&&(!document.documentMode||9<document.documentMode)}function S(){D&&(D.detachEvent("onpropertychange",R),n=D=null)}function R(s){if(s.propertyName==="value"&&l(n)){var u=[];Va(u,n,s,ss(s)),_s(a,u)}}function M(s,u,p){s==="focusin"?(S(),D=u,n=p,D.attachEvent("onpropertychange",R)):s==="focusout"&&S()}function F(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return l(n)}function Y(s,u){if(s==="click")return l(u)}function te(s,u){if(s==="input"||s==="change")return l(u)}function ie(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var ce=typeof Object.is=="function"?Object.is:ie;function Ee(s,u){if(ce(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var p=Object.keys(s),y=Object.keys(u);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var T=p[y];if(!w.call(u,T)||!ce(s[T],u[T]))return!1}return!0}function je(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ge(s,u){var p=je(s);s=0;for(var y;p;){if(p.nodeType===3){if(y=s+p.textContent.length,s<=u&&y>=u)return{node:p,offset:u-s};s=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=je(p)}}function Le(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?Le(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function jt(){for(var s=window,u=mt();u instanceof s.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)s=u.contentWindow;else break;u=mt(s.document)}return u}function Nt(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function Mn(s){var u=jt(),p=s.focusedElem,y=s.selectionRange;if(u!==p&&p&&p.ownerDocument&&Le(p.ownerDocument.documentElement,p)){if(y!==null&&Nt(p)){if(u=y.start,s=y.end,s===void 0&&(s=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(s,p.value.length);else if(s=(u=p.ownerDocument||document)&&u.defaultView||window,s.getSelection){s=s.getSelection();var T=p.textContent.length,I=Math.min(y.start,T);y=y.end===void 0?I:Math.min(y.end,T),!s.extend&&I>y&&(T=y,y=I,I=T),T=Ge(p,I);var P=Ge(p,y);T&&P&&(s.rangeCount!==1||s.anchorNode!==T.node||s.anchorOffset!==T.offset||s.focusNode!==P.node||s.focusOffset!==P.offset)&&(u=u.createRange(),u.setStart(T.node,T.offset),s.removeAllRanges(),I>y?(s.addRange(u),s.extend(P.node,P.offset)):(u.setEnd(P.node,P.offset),s.addRange(u)))}}for(u=[],s=p;s=s.parentNode;)s.nodeType===1&&u.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)s=u[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var li=m&&"documentMode"in document&&11>=document.documentMode,Wr=null,qt=null,Tr=null,yn=!1;function Is(s,u,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;yn||Wr==null||Wr!==mt(y)||(y=Wr,"selectionStart"in y&&Nt(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Tr&&Ee(Tr,y)||(Tr=y,y=Zu(qt,"onSelect"),0<y.length&&(u=new _e("onSelect","select",null,u,p),s.push({event:u,listeners:y}),u.target=Wr)))}function Wi(s,u){var p={};return p[s.toLowerCase()]=u.toLowerCase(),p["Webkit"+s]="webkit"+u,p["Moz"+s]="moz"+u,p}var na={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionend:Wi("Transition","TransitionEnd")},Bl={},R1={};m&&(R1=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function qu(s){if(Bl[s])return Bl[s];if(!na[s])return s;var u=na[s],p;for(p in u)if(u.hasOwnProperty(p)&&p in R1)return Bl[s]=u[p];return s}var b1=qu("animationend"),k1=qu("animationiteration"),D1=qu("animationstart"),M1=qu("transitionend"),P1=new Map,L1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ia(s,u){P1.set(s,u),c(u,[s])}for(var V0=0;V0<L1.length;V0++){var G0=L1[V0],Xm=G0.toLowerCase(),Ym=G0[0].toUpperCase()+G0.slice(1);ia(Xm,"on"+Ym)}ia(b1,"onAnimationEnd"),ia(k1,"onAnimationIteration"),ia(D1,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(M1,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Km=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ul));function F1(s,u,p){var y=s.type||"unknown-event";s.currentTarget=p,X(y,u,void 0,s),s.currentTarget=null}function B1(s,u){u=(u&4)!==0;for(var p=0;p<s.length;p++){var y=s[p],T=y.event;y=y.listeners;e:{var I=void 0;if(u)for(var P=y.length-1;0<=P;P--){var J=y[P],ne=J.instance,Ae=J.currentTarget;if(J=J.listener,ne!==I&&T.isPropagationStopped())break e;F1(T,J,Ae),I=ne}else for(P=0;P<y.length;P++){if(J=y[P],ne=J.instance,Ae=J.currentTarget,J=J.listener,ne!==I&&T.isPropagationStopped())break e;F1(T,J,Ae),I=ne}}}if(L)throw s=U,L=!1,U=null,s}function xr(s,u){var p=u[J0];p===void 0&&(p=u[J0]=new Set);var y=s+"__bubble";p.has(y)||(U1(u,s,2,!1),p.add(y))}function X0(s,u,p){var y=0;u&&(y|=4),U1(p,s,y,u)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function jl(s){if(!s[Qu]){s[Qu]=!0,i.forEach(function(p){p!=="selectionchange"&&(Km.has(p)||X0(p,!1,s),X0(p,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[Qu]||(u[Qu]=!0,X0("selectionchange",!1,u))}}function U1(s,u,p,y){switch(Nl(u)){case 1:var T=zu;break;case 4:T=Fa;break;default:T=Ss}p=T.bind(null,u,p,s),T=void 0,!Ma||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(T=!0),y?T!==void 0?s.addEventListener(u,p,{capture:!0,passive:T}):s.addEventListener(u,p,!0):T!==void 0?s.addEventListener(u,p,{passive:T}):s.addEventListener(u,p,!1)}function Y0(s,u,p,y,T){var I=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var P=y.tag;if(P===3||P===4){var J=y.stateNode.containerInfo;if(J===T||J.nodeType===8&&J.parentNode===T)break;if(P===4)for(P=y.return;P!==null;){var ne=P.tag;if((ne===3||ne===4)&&(ne=P.stateNode.containerInfo,ne===T||ne.nodeType===8&&ne.parentNode===T))return;P=P.return}for(;J!==null;){if(P=Ga(J),P===null)return;if(ne=P.tag,ne===5||ne===6){y=I=P;continue e}J=J.parentNode}}y=y.return}_s(function(){var Ae=I,Fe=ss(p),Ue=[];e:{var Me=P1.get(s);if(Me!==void 0){var st=_e,ut=s;switch(s){case"keypress":if(Gt(p)===0)break e;case"keydown":case"keyup":st=Dl;break;case"focusin":ut="focus",st=hr;break;case"focusout":ut="blur",st=hr;break;case"beforeblur":case"afterblur":st=hr;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=zr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=ta;break;case b1:case k1:case D1:st=Ts;break;case M1:st=H0;break;case"scroll":st=tn;break;case"wheel":st=z0;break;case"copy":case"cut":case"paste":st=xt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Ml}var ct=(u&4)!==0,Vr=!ct&&s==="scroll",ge=ct?Me!==null?Me+"Capture":null:Me;ct=[];for(var se=Ae,xe;se!==null;){xe=se;var Qe=xe.stateNode;if(xe.tag===5&&Qe!==null&&(xe=Qe,ge!==null&&(Qe=un(se,ge),Qe!=null&&ct.push(Hl(se,Qe,xe)))),Vr)break;se=se.return}0<ct.length&&(Me=new st(Me,ut,null,p,Fe),Ue.push({event:Me,listeners:ct}))}}if((u&7)===0){e:{if(Me=s==="mouseover"||s==="pointerover",st=s==="mouseout"||s==="pointerout",Me&&p!==Ai&&(ut=p.relatedTarget||p.fromElement)&&(Ga(ut)||ut[Os]))break e;if((st||Me)&&(Me=Fe.window===Fe?Fe:(Me=Fe.ownerDocument)?Me.defaultView||Me.parentWindow:window,st?(ut=p.relatedTarget||p.toElement,st=Ae,ut=ut?Ga(ut):null,ut!==null&&(Vr=q(ut),ut!==Vr||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(st=null,ut=Ae),st!==ut)){if(ct=Vu,Qe="onMouseLeave",ge="onMouseEnter",se="mouse",(s==="pointerout"||s==="pointerover")&&(ct=Ml,Qe="onPointerLeave",ge="onPointerEnter",se="pointer"),Vr=st==null?Me:ko(st),xe=ut==null?Me:ko(ut),Me=new ct(Qe,se+"leave",st,p,Fe),Me.target=Vr,Me.relatedTarget=xe,Qe=null,Ga(Fe)===Ae&&(ct=new ct(ge,se+"enter",ut,p,Fe),ct.target=xe,ct.relatedTarget=Vr,Qe=ct),Vr=Qe,st&&ut)t:{for(ct=st,ge=ut,se=0,xe=ct;xe;xe=Ro(xe))se++;for(xe=0,Qe=ge;Qe;Qe=Ro(Qe))xe++;for(;0<se-xe;)ct=Ro(ct),se--;for(;0<xe-se;)ge=Ro(ge),xe--;for(;se--;){if(ct===ge||ge!==null&&ct===ge.alternate)break t;ct=Ro(ct),ge=Ro(ge)}ct=null}else ct=null;st!==null&&j1(Ue,Me,st,ct,!1),ut!==null&&Vr!==null&&j1(Ue,Vr,ut,ct,!0)}}e:{if(Me=Ae?ko(Ae):window,st=Me.nodeName&&Me.nodeName.toLowerCase(),st==="select"||st==="input"&&Me.type==="file")var ft=f;else if(Wt(Me))if(h)ft=te;else{ft=F;var wt=M}else(st=Me.nodeName)&&st.toLowerCase()==="input"&&(Me.type==="checkbox"||Me.type==="radio")&&(ft=Y);if(ft&&(ft=ft(s,Ae))){Va(Ue,ft,p,Fe);break e}wt&&wt(s,Me,Ae),s==="focusout"&&(wt=Me._wrapperState)&&wt.controlled&&Me.type==="number"&&Ct(Me,"number",Me.value)}switch(wt=Ae?ko(Ae):window,s){case"focusin":(Wt(wt)||wt.contentEditable==="true")&&(Wr=wt,qt=Ae,Tr=null);break;case"focusout":Tr=qt=Wr=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,Is(Ue,p,Fe);break;case"selectionchange":if(li)break;case"keydown":case"keyup":Is(Ue,p,Fe)}var vt;if(ra)e:{switch(s){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else vn?$u(s,p)&&(It="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(It="onCompositionStart");It&&(oi&&p.locale!=="ko"&&(vn||It!=="onCompositionStart"?It==="onCompositionEnd"&&vn&&(vt=Wu()):(zi=Fe,Rl="value"in zi?zi.value:zi.textContent,vn=!0)),wt=Zu(Ae,It),0<wt.length&&(It=new or(It,s,null,p,Fe),Ue.push({event:It,listeners:wt}),vt?It.data=vt:(vt=Ll(p),vt!==null&&(It.data=vt)))),(vt=Yu?W0(s,p):Fl(s,p))&&(Ae=Zu(Ae,"onBeforeInput"),0<Ae.length&&(Fe=new or("onBeforeInput","beforeinput",null,p,Fe),Ue.push({event:Fe,listeners:Ae}),Fe.data=vt))}B1(Ue,u)})}function Hl(s,u,p){return{instance:s,listener:u,currentTarget:p}}function Zu(s,u){for(var p=u+"Capture",y=[];s!==null;){var T=s,I=T.stateNode;T.tag===5&&I!==null&&(T=I,I=un(s,p),I!=null&&y.unshift(Hl(s,I,T)),I=un(s,u),I!=null&&y.push(Hl(s,I,T))),s=s.return}return y}function Ro(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function j1(s,u,p,y,T){for(var I=u._reactName,P=[];p!==null&&p!==y;){var J=p,ne=J.alternate,Ae=J.stateNode;if(ne!==null&&ne===y)break;J.tag===5&&Ae!==null&&(J=Ae,T?(ne=un(p,I),ne!=null&&P.unshift(Hl(p,ne,J))):T||(ne=un(p,I),ne!=null&&P.push(Hl(p,ne,J)))),p=p.return}P.length!==0&&s.push({event:u,listeners:P})}var $m=/\r\n?/g,qm=/\u0000|\uFFFD/g;function H1(s){return(typeof s=="string"?s:""+s).replace($m,`
`).replace(qm,"")}function Ju(s,u,p){if(u=H1(u),H1(s)!==u&&p)throw Error(r(425))}function ec(){}var K0=null,$0=null;function q0(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Q0=typeof setTimeout=="function"?setTimeout:void 0,Qm=typeof clearTimeout=="function"?clearTimeout:void 0,z1=typeof Promise=="function"?Promise:void 0,Zm=typeof queueMicrotask=="function"?queueMicrotask:typeof z1<"u"?function(s){return z1.resolve(null).then(s).catch(Jm)}:Q0;function Jm(s){setTimeout(function(){throw s})}function Z0(s,u){var p=u,y=0;do{var T=p.nextSibling;if(s.removeChild(p),T&&T.nodeType===8)if(p=T.data,p==="/$"){if(y===0){s.removeChild(T),Hi(u);return}y--}else p!=="$"&&p!=="$?"&&p!=="$!"||y++;p=T}while(p);Hi(u)}function sa(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return s}function W1(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return s;u--}else p==="/$"&&u++}s=s.previousSibling}return null}var bo=Math.random().toString(36).slice(2),fs="__reactFiber$"+bo,zl="__reactProps$"+bo,Os="__reactContainer$"+bo,J0="__reactEvents$"+bo,ew="__reactListeners$"+bo,tw="__reactHandles$"+bo;function Ga(s){var u=s[fs];if(u)return u;for(var p=s.parentNode;p;){if(u=p[Os]||p[fs]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(s=W1(s);s!==null;){if(p=s[fs])return p;s=W1(s)}return u}s=p,p=s.parentNode}return null}function Wl(s){return s=s[fs]||s[Os],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ko(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function tc(s){return s[zl]||null}var ef=[],Do=-1;function aa(s){return{current:s}}function mr(s){0>Do||(s.current=ef[Do],ef[Do]=null,Do--)}function dr(s,u){Do++,ef[Do]=s.current,s.current=u}var oa={},Pn=aa(oa),Kn=aa(!1),Xa=oa;function Mo(s,u){var p=s.type.contextTypes;if(!p)return oa;var y=s.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var T={},I;for(I in p)T[I]=u[I];return y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=T),T}function $n(s){return s=s.childContextTypes,s!=null}function rc(){mr(Kn),mr(Pn)}function V1(s,u,p){if(Pn.current!==oa)throw Error(r(168));dr(Pn,u),dr(Kn,p)}function G1(s,u,p){var y=s.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return p;y=y.getChildContext();for(var T in y)if(!(T in u))throw Error(r(108,qe(s)||"Unknown",T));return $e({},p,y)}function nc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||oa,Xa=Pn.current,dr(Pn,s),dr(Kn,Kn.current),!0}function X1(s,u,p){var y=s.stateNode;if(!y)throw Error(r(169));p?(s=G1(s,u,Xa),y.__reactInternalMemoizedMergedChildContext=s,mr(Kn),mr(Pn),dr(Pn,s)):mr(Kn),dr(Kn,p)}var Ns=null,ic=!1,tf=!1;function Y1(s){Ns===null?Ns=[s]:Ns.push(s)}function rw(s){ic=!0,Y1(s)}function la(){if(!tf&&Ns!==null){tf=!0;var s=0,u=Dt;try{var p=Ns;for(Dt=1;s<p.length;s++){var y=p[s];do y=y(!0);while(y!==null)}Ns=null,ic=!1}catch(T){throw Ns!==null&&(Ns=Ns.slice(s+1)),be(Ce,la),T}finally{Dt=u,tf=!1}}return null}var Po=[],Lo=0,sc=null,ac=0,Oi=[],Ni=0,Ya=null,Rs=1,bs="";function Ka(s,u){Po[Lo++]=ac,Po[Lo++]=sc,sc=s,ac=u}function K1(s,u,p){Oi[Ni++]=Rs,Oi[Ni++]=bs,Oi[Ni++]=Ya,Ya=s;var y=Rs;s=bs;var T=32-pr(y)-1;y&=~(1<<T),p+=1;var I=32-pr(u)+T;if(30<I){var P=T-T%5;I=(y&(1<<P)-1).toString(32),y>>=P,T-=P,Rs=1<<32-pr(u)+T|p<<T|y,bs=I+s}else Rs=1<<I|p<<T|y,bs=s}function rf(s){s.return!==null&&(Ka(s,1),K1(s,1,0))}function nf(s){for(;s===sc;)sc=Po[--Lo],Po[Lo]=null,ac=Po[--Lo],Po[Lo]=null;for(;s===Ya;)Ya=Oi[--Ni],Oi[Ni]=null,bs=Oi[--Ni],Oi[Ni]=null,Rs=Oi[--Ni],Oi[Ni]=null}var ui=null,ci=null,_r=!1,Vi=null;function $1(s,u){var p=Di(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=s,u=s.deletions,u===null?(s.deletions=[p],s.flags|=16):u.push(p)}function q1(s,u){switch(s.tag){case 5:var p=s.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,ui=s,ci=sa(u.firstChild),!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,ui=s,ci=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=Ya!==null?{id:Rs,overflow:bs}:null,s.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=Di(18,null,null,0),p.stateNode=u,p.return=s,s.child=p,ui=s,ci=null,!0):!1;default:return!1}}function sf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function af(s){if(_r){var u=ci;if(u){var p=u;if(!q1(s,u)){if(sf(s))throw Error(r(418));u=sa(p.nextSibling);var y=ui;u&&q1(s,u)?$1(y,p):(s.flags=s.flags&-4097|2,_r=!1,ui=s)}}else{if(sf(s))throw Error(r(418));s.flags=s.flags&-4097|2,_r=!1,ui=s}}}function Q1(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;ui=s}function oc(s){if(s!==ui)return!1;if(!_r)return Q1(s),_r=!0,!1;var u;if((u=s.tag!==3)&&!(u=s.tag!==5)&&(u=s.type,u=u!=="head"&&u!=="body"&&!q0(s.type,s.memoizedProps)),u&&(u=ci)){if(sf(s))throw Z1(),Error(r(418));for(;u;)$1(s,u),u=sa(u.nextSibling)}if(Q1(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(u===0){ci=sa(s.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}s=s.nextSibling}ci=null}}else ci=ui?sa(s.stateNode.nextSibling):null;return!0}function Z1(){for(var s=ci;s;)s=sa(s.nextSibling)}function Fo(){ci=ui=null,_r=!1}function of(s){Vi===null?Vi=[s]:Vi.push(s)}var nw=Q.ReactCurrentBatchConfig;function Vl(s,u,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var y=p.stateNode}if(!y)throw Error(r(147,s));var T=y,I=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===I?u.ref:(u=function(P){var J=T.refs;P===null?delete J[I]:J[I]=P},u._stringRef=I,u)}if(typeof s!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,s))}return s}function lc(s,u){throw s=Object.prototype.toString.call(u),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s))}function J1(s){var u=s._init;return u(s._payload)}function ed(s){function u(ge,se){if(s){var xe=ge.deletions;xe===null?(ge.deletions=[se],ge.flags|=16):xe.push(se)}}function p(ge,se){if(!s)return null;for(;se!==null;)u(ge,se),se=se.sibling;return null}function y(ge,se){for(ge=new Map;se!==null;)se.key!==null?ge.set(se.key,se):ge.set(se.index,se),se=se.sibling;return ge}function T(ge,se){return ge=xa(ge,se),ge.index=0,ge.sibling=null,ge}function I(ge,se,xe){return ge.index=xe,s?(xe=ge.alternate,xe!==null?(xe=xe.index,xe<se?(ge.flags|=2,se):xe):(ge.flags|=2,se)):(ge.flags|=1048576,se)}function P(ge){return s&&ge.alternate===null&&(ge.flags|=2),ge}function J(ge,se,xe,Qe){return se===null||se.tag!==6?(se=Zf(xe,ge.mode,Qe),se.return=ge,se):(se=T(se,xe),se.return=ge,se)}function ne(ge,se,xe,Qe){var ft=xe.type;return ft===G?Fe(ge,se,xe.props.children,Qe,xe.key):se!==null&&(se.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===pt&&J1(ft)===se.type)?(Qe=T(se,xe.props),Qe.ref=Vl(ge,se,xe),Qe.return=ge,Qe):(Qe=kc(xe.type,xe.key,xe.props,null,ge.mode,Qe),Qe.ref=Vl(ge,se,xe),Qe.return=ge,Qe)}function Ae(ge,se,xe,Qe){return se===null||se.tag!==4||se.stateNode.containerInfo!==xe.containerInfo||se.stateNode.implementation!==xe.implementation?(se=Jf(xe,ge.mode,Qe),se.return=ge,se):(se=T(se,xe.children||[]),se.return=ge,se)}function Fe(ge,se,xe,Qe,ft){return se===null||se.tag!==7?(se=ro(xe,ge.mode,Qe,ft),se.return=ge,se):(se=T(se,xe),se.return=ge,se)}function Ue(ge,se,xe){if(typeof se=="string"&&se!==""||typeof se=="number")return se=Zf(""+se,ge.mode,xe),se.return=ge,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Se:return xe=kc(se.type,se.key,se.props,null,ge.mode,xe),xe.ref=Vl(ge,null,se),xe.return=ge,xe;case ve:return se=Jf(se,ge.mode,xe),se.return=ge,se;case pt:var Qe=se._init;return Ue(ge,Qe(se._payload),xe)}if(on(se)||nt(se))return se=ro(se,ge.mode,xe,null),se.return=ge,se;lc(ge,se)}return null}function Me(ge,se,xe,Qe){var ft=se!==null?se.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ft!==null?null:J(ge,se,""+xe,Qe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case Se:return xe.key===ft?ne(ge,se,xe,Qe):null;case ve:return xe.key===ft?Ae(ge,se,xe,Qe):null;case pt:return ft=xe._init,Me(ge,se,ft(xe._payload),Qe)}if(on(xe)||nt(xe))return ft!==null?null:Fe(ge,se,xe,Qe,null);lc(ge,xe)}return null}function st(ge,se,xe,Qe,ft){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return ge=ge.get(xe)||null,J(se,ge,""+Qe,ft);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case Se:return ge=ge.get(Qe.key===null?xe:Qe.key)||null,ne(se,ge,Qe,ft);case ve:return ge=ge.get(Qe.key===null?xe:Qe.key)||null,Ae(se,ge,Qe,ft);case pt:var wt=Qe._init;return st(ge,se,xe,wt(Qe._payload),ft)}if(on(Qe)||nt(Qe))return ge=ge.get(xe)||null,Fe(se,ge,Qe,ft,null);lc(se,Qe)}return null}function ut(ge,se,xe,Qe){for(var ft=null,wt=null,vt=se,It=se=0,dn=null;vt!==null&&It<xe.length;It++){vt.index>It?(dn=vt,vt=null):dn=vt.sibling;var Yt=Me(ge,vt,xe[It],Qe);if(Yt===null){vt===null&&(vt=dn);break}s&&vt&&Yt.alternate===null&&u(ge,vt),se=I(Yt,se,It),wt===null?ft=Yt:wt.sibling=Yt,wt=Yt,vt=dn}if(It===xe.length)return p(ge,vt),_r&&Ka(ge,It),ft;if(vt===null){for(;It<xe.length;It++)vt=Ue(ge,xe[It],Qe),vt!==null&&(se=I(vt,se,It),wt===null?ft=vt:wt.sibling=vt,wt=vt);return _r&&Ka(ge,It),ft}for(vt=y(ge,vt);It<xe.length;It++)dn=st(vt,ge,It,xe[It],Qe),dn!==null&&(s&&dn.alternate!==null&&vt.delete(dn.key===null?It:dn.key),se=I(dn,se,It),wt===null?ft=dn:wt.sibling=dn,wt=dn);return s&&vt.forEach(function(ma){return u(ge,ma)}),_r&&Ka(ge,It),ft}function ct(ge,se,xe,Qe){var ft=nt(xe);if(typeof ft!="function")throw Error(r(150));if(xe=ft.call(xe),xe==null)throw Error(r(151));for(var wt=ft=null,vt=se,It=se=0,dn=null,Yt=xe.next();vt!==null&&!Yt.done;It++,Yt=xe.next()){vt.index>It?(dn=vt,vt=null):dn=vt.sibling;var ma=Me(ge,vt,Yt.value,Qe);if(ma===null){vt===null&&(vt=dn);break}s&&vt&&ma.alternate===null&&u(ge,vt),se=I(ma,se,It),wt===null?ft=ma:wt.sibling=ma,wt=ma,vt=dn}if(Yt.done)return p(ge,vt),_r&&Ka(ge,It),ft;if(vt===null){for(;!Yt.done;It++,Yt=xe.next())Yt=Ue(ge,Yt.value,Qe),Yt!==null&&(se=I(Yt,se,It),wt===null?ft=Yt:wt.sibling=Yt,wt=Yt);return _r&&Ka(ge,It),ft}for(vt=y(ge,vt);!Yt.done;It++,Yt=xe.next())Yt=st(vt,ge,It,Yt.value,Qe),Yt!==null&&(s&&Yt.alternate!==null&&vt.delete(Yt.key===null?It:Yt.key),se=I(Yt,se,It),wt===null?ft=Yt:wt.sibling=Yt,wt=Yt);return s&&vt.forEach(function(Lw){return u(ge,Lw)}),_r&&Ka(ge,It),ft}function Vr(ge,se,xe,Qe){if(typeof xe=="object"&&xe!==null&&xe.type===G&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case Se:e:{for(var ft=xe.key,wt=se;wt!==null;){if(wt.key===ft){if(ft=xe.type,ft===G){if(wt.tag===7){p(ge,wt.sibling),se=T(wt,xe.props.children),se.return=ge,ge=se;break e}}else if(wt.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===pt&&J1(ft)===wt.type){p(ge,wt.sibling),se=T(wt,xe.props),se.ref=Vl(ge,wt,xe),se.return=ge,ge=se;break e}p(ge,wt);break}else u(ge,wt);wt=wt.sibling}xe.type===G?(se=ro(xe.props.children,ge.mode,Qe,xe.key),se.return=ge,ge=se):(Qe=kc(xe.type,xe.key,xe.props,null,ge.mode,Qe),Qe.ref=Vl(ge,se,xe),Qe.return=ge,ge=Qe)}return P(ge);case ve:e:{for(wt=xe.key;se!==null;){if(se.key===wt)if(se.tag===4&&se.stateNode.containerInfo===xe.containerInfo&&se.stateNode.implementation===xe.implementation){p(ge,se.sibling),se=T(se,xe.children||[]),se.return=ge,ge=se;break e}else{p(ge,se);break}else u(ge,se);se=se.sibling}se=Jf(xe,ge.mode,Qe),se.return=ge,ge=se}return P(ge);case pt:return wt=xe._init,Vr(ge,se,wt(xe._payload),Qe)}if(on(xe))return ut(ge,se,xe,Qe);if(nt(xe))return ct(ge,se,xe,Qe);lc(ge,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,se!==null&&se.tag===6?(p(ge,se.sibling),se=T(se,xe),se.return=ge,ge=se):(p(ge,se),se=Zf(xe,ge.mode,Qe),se.return=ge,ge=se),P(ge)):p(ge,se)}return Vr}var Bo=ed(!0),td=ed(!1),uc=aa(null),cc=null,Uo=null,lf=null;function uf(){lf=Uo=cc=null}function cf(s){var u=uc.current;mr(uc),s._currentValue=u}function ff(s,u,p){for(;s!==null;){var y=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),s===p)break;s=s.return}}function jo(s,u){cc=s,lf=Uo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&u)!==0&&(qn=!0),s.firstContext=null)}function Ri(s){var u=s._currentValue;if(lf!==s)if(s={context:s,memoizedValue:u,next:null},Uo===null){if(cc===null)throw Error(r(308));Uo=s,cc.dependencies={lanes:0,firstContext:s}}else Uo=Uo.next=s;return u}var $a=null;function hf(s){$a===null?$a=[s]:$a.push(s)}function rd(s,u,p,y){var T=u.interleaved;return T===null?(p.next=p,hf(u)):(p.next=T.next,T.next=p),u.interleaved=p,ks(s,y)}function ks(s,u){s.lanes|=u;var p=s.alternate;for(p!==null&&(p.lanes|=u),p=s,s=s.return;s!==null;)s.childLanes|=u,p=s.alternate,p!==null&&(p.childLanes|=u),p=s,s=s.return;return p.tag===3?p.stateNode:null}var ua=!1;function df(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nd(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ds(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function ca(s,u,p){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(Xt&2)!==0){var T=y.pending;return T===null?u.next=u:(u.next=T.next,T.next=u),y.pending=u,ks(s,p)}return T=y.interleaved,T===null?(u.next=u,hf(y)):(u.next=T.next,T.next=u),y.interleaved=u,ks(s,p)}function fc(s,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var y=u.lanes;y&=s.pendingLanes,p|=y,u.lanes=p,br(s,p)}}function id(s,u){var p=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var T=null,I=null;if(p=p.firstBaseUpdate,p!==null){do{var P={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};I===null?T=I=P:I=I.next=P,p=p.next}while(p!==null);I===null?T=I=u:I=I.next=u}else T=I=u;p={baseState:y.baseState,firstBaseUpdate:T,lastBaseUpdate:I,shared:y.shared,effects:y.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=u:s.next=u,p.lastBaseUpdate=u}function hc(s,u,p,y){var T=s.updateQueue;ua=!1;var I=T.firstBaseUpdate,P=T.lastBaseUpdate,J=T.shared.pending;if(J!==null){T.shared.pending=null;var ne=J,Ae=ne.next;ne.next=null,P===null?I=Ae:P.next=Ae,P=ne;var Fe=s.alternate;Fe!==null&&(Fe=Fe.updateQueue,J=Fe.lastBaseUpdate,J!==P&&(J===null?Fe.firstBaseUpdate=Ae:J.next=Ae,Fe.lastBaseUpdate=ne))}if(I!==null){var Ue=T.baseState;P=0,Fe=Ae=ne=null,J=I;do{var Me=J.lane,st=J.eventTime;if((y&Me)===Me){Fe!==null&&(Fe=Fe.next={eventTime:st,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var ut=s,ct=J;switch(Me=u,st=p,ct.tag){case 1:if(ut=ct.payload,typeof ut=="function"){Ue=ut.call(st,Ue,Me);break e}Ue=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=ct.payload,Me=typeof ut=="function"?ut.call(st,Ue,Me):ut,Me==null)break e;Ue=$e({},Ue,Me);break e;case 2:ua=!0}}J.callback!==null&&J.lane!==0&&(s.flags|=64,Me=T.effects,Me===null?T.effects=[J]:Me.push(J))}else st={eventTime:st,lane:Me,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Fe===null?(Ae=Fe=st,ne=Ue):Fe=Fe.next=st,P|=Me;if(J=J.next,J===null){if(J=T.shared.pending,J===null)break;Me=J,J=Me.next,Me.next=null,T.lastBaseUpdate=Me,T.shared.pending=null}}while(!0);if(Fe===null&&(ne=Ue),T.baseState=ne,T.firstBaseUpdate=Ae,T.lastBaseUpdate=Fe,u=T.shared.interleaved,u!==null){T=u;do P|=T.lane,T=T.next;while(T!==u)}else I===null&&(T.shared.lanes=0);Za|=P,s.lanes=P,s.memoizedState=Ue}}function sd(s,u,p){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var y=s[u],T=y.callback;if(T!==null){if(y.callback=null,y=p,typeof T!="function")throw Error(r(191,T));T.call(y)}}}var Gl={},hs=aa(Gl),Xl=aa(Gl),Yl=aa(Gl);function qa(s){if(s===Gl)throw Error(r(174));return s}function gf(s,u){switch(dr(Yl,u),dr(Xl,s),dr(hs,Gl),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:is(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=is(u,s)}mr(hs),dr(hs,u)}function Ho(){mr(hs),mr(Xl),mr(Yl)}function ad(s){qa(Yl.current);var u=qa(hs.current),p=is(u,s.type);u!==p&&(dr(Xl,s),dr(hs,p))}function pf(s){Xl.current===s&&(mr(hs),mr(Xl))}var Cr=aa(0);function dc(s){for(var u=s;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var xf=[];function mf(){for(var s=0;s<xf.length;s++)xf[s]._workInProgressVersionPrimary=null;xf.length=0}var gc=Q.ReactCurrentDispatcher,wf=Q.ReactCurrentBatchConfig,Qa=0,Ir=null,rn=null,fn=null,pc=!1,Kl=!1,$l=0,iw=0;function Ln(){throw Error(r(321))}function vf(s,u){if(u===null)return!1;for(var p=0;p<u.length&&p<s.length;p++)if(!ce(s[p],u[p]))return!1;return!0}function yf(s,u,p,y,T,I){if(Qa=I,Ir=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,gc.current=s===null||s.memoizedState===null?lw:uw,s=p(y,T),Kl){I=0;do{if(Kl=!1,$l=0,25<=I)throw Error(r(301));I+=1,fn=rn=null,u.updateQueue=null,gc.current=cw,s=p(y,T)}while(Kl)}if(gc.current=wc,u=rn!==null&&rn.next!==null,Qa=0,fn=rn=Ir=null,pc=!1,u)throw Error(r(300));return s}function Ef(){var s=$l!==0;return $l=0,s}function ds(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ir.memoizedState=fn=s:fn=fn.next=s,fn}function bi(){if(rn===null){var s=Ir.alternate;s=s!==null?s.memoizedState:null}else s=rn.next;var u=fn===null?Ir.memoizedState:fn.next;if(u!==null)fn=u,rn=s;else{if(s===null)throw Error(r(310));rn=s,s={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},fn===null?Ir.memoizedState=fn=s:fn=fn.next=s}return fn}function ql(s,u){return typeof u=="function"?u(s):u}function _f(s){var u=bi(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var y=rn,T=y.baseQueue,I=p.pending;if(I!==null){if(T!==null){var P=T.next;T.next=I.next,I.next=P}y.baseQueue=T=I,p.pending=null}if(T!==null){I=T.next,y=y.baseState;var J=P=null,ne=null,Ae=I;do{var Fe=Ae.lane;if((Qa&Fe)===Fe)ne!==null&&(ne=ne.next={lane:0,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),y=Ae.hasEagerState?Ae.eagerState:s(y,Ae.action);else{var Ue={lane:Fe,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null};ne===null?(J=ne=Ue,P=y):ne=ne.next=Ue,Ir.lanes|=Fe,Za|=Fe}Ae=Ae.next}while(Ae!==null&&Ae!==I);ne===null?P=y:ne.next=J,ce(y,u.memoizedState)||(qn=!0),u.memoizedState=y,u.baseState=P,u.baseQueue=ne,p.lastRenderedState=y}if(s=p.interleaved,s!==null){T=s;do I=T.lane,Ir.lanes|=I,Za|=I,T=T.next;while(T!==s)}else T===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function Af(s){var u=bi(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var y=p.dispatch,T=p.pending,I=u.memoizedState;if(T!==null){p.pending=null;var P=T=T.next;do I=s(I,P.action),P=P.next;while(P!==T);ce(I,u.memoizedState)||(qn=!0),u.memoizedState=I,u.baseQueue===null&&(u.baseState=I),p.lastRenderedState=I}return[I,y]}function od(){}function ld(s,u){var p=Ir,y=bi(),T=u(),I=!ce(y.memoizedState,T);if(I&&(y.memoizedState=T,qn=!0),y=y.queue,Sf(fd.bind(null,p,y,s),[s]),y.getSnapshot!==u||I||fn!==null&&fn.memoizedState.tag&1){if(p.flags|=2048,Ql(9,cd.bind(null,p,y,T,u),void 0,null),hn===null)throw Error(r(349));(Qa&30)!==0||ud(p,u,T)}return T}function ud(s,u,p){s.flags|=16384,s={getSnapshot:u,value:p},u=Ir.updateQueue,u===null?(u={lastEffect:null,stores:null},Ir.updateQueue=u,u.stores=[s]):(p=u.stores,p===null?u.stores=[s]:p.push(s))}function cd(s,u,p,y){u.value=p,u.getSnapshot=y,hd(u)&&dd(s)}function fd(s,u,p){return p(function(){hd(u)&&dd(s)})}function hd(s){var u=s.getSnapshot;s=s.value;try{var p=u();return!ce(s,p)}catch{return!0}}function dd(s){var u=ks(s,1);u!==null&&Ki(u,s,1,-1)}function gd(s){var u=ds();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:s},u.queue=s,s=s.dispatch=ow.bind(null,Ir,s),[u.memoizedState,s]}function Ql(s,u,p,y){return s={tag:s,create:u,destroy:p,deps:y,next:null},u=Ir.updateQueue,u===null?(u={lastEffect:null,stores:null},Ir.updateQueue=u,u.lastEffect=s.next=s):(p=u.lastEffect,p===null?u.lastEffect=s.next=s:(y=p.next,p.next=s,s.next=y,u.lastEffect=s)),s}function pd(){return bi().memoizedState}function xc(s,u,p,y){var T=ds();Ir.flags|=s,T.memoizedState=Ql(1|u,p,void 0,y===void 0?null:y)}function mc(s,u,p,y){var T=bi();y=y===void 0?null:y;var I=void 0;if(rn!==null){var P=rn.memoizedState;if(I=P.destroy,y!==null&&vf(y,P.deps)){T.memoizedState=Ql(u,p,I,y);return}}Ir.flags|=s,T.memoizedState=Ql(1|u,p,I,y)}function xd(s,u){return xc(8390656,8,s,u)}function Sf(s,u){return mc(2048,8,s,u)}function md(s,u){return mc(4,2,s,u)}function wd(s,u){return mc(4,4,s,u)}function vd(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function yd(s,u,p){return p=p!=null?p.concat([s]):null,mc(4,4,vd.bind(null,u,s),p)}function Tf(){}function Ed(s,u){var p=bi();u=u===void 0?null:u;var y=p.memoizedState;return y!==null&&u!==null&&vf(u,y[1])?y[0]:(p.memoizedState=[s,u],s)}function _d(s,u){var p=bi();u=u===void 0?null:u;var y=p.memoizedState;return y!==null&&u!==null&&vf(u,y[1])?y[0]:(s=s(),p.memoizedState=[s,u],s)}function Ad(s,u,p){return(Qa&21)===0?(s.baseState&&(s.baseState=!1,qn=!0),s.memoizedState=p):(ce(p,u)||(p=Zr(),Ir.lanes|=p,Za|=p,s.baseState=!0),u)}function sw(s,u){var p=Dt;Dt=p!==0&&4>p?p:4,s(!0);var y=wf.transition;wf.transition={};try{s(!1),u()}finally{Dt=p,wf.transition=y}}function Sd(){return bi().memoizedState}function aw(s,u,p){var y=ga(s);if(p={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null},Td(s))Cd(u,p);else if(p=rd(s,u,p,y),p!==null){var T=zn();Ki(p,s,y,T),Id(p,u,y)}}function ow(s,u,p){var y=ga(s),T={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null};if(Td(s))Cd(u,T);else{var I=s.alternate;if(s.lanes===0&&(I===null||I.lanes===0)&&(I=u.lastRenderedReducer,I!==null))try{var P=u.lastRenderedState,J=I(P,p);if(T.hasEagerState=!0,T.eagerState=J,ce(J,P)){var ne=u.interleaved;ne===null?(T.next=T,hf(u)):(T.next=ne.next,ne.next=T),u.interleaved=T;return}}catch{}p=rd(s,u,T,y),p!==null&&(T=zn(),Ki(p,s,y,T),Id(p,u,y))}}function Td(s){var u=s.alternate;return s===Ir||u!==null&&u===Ir}function Cd(s,u){Kl=pc=!0;var p=s.pending;p===null?u.next=u:(u.next=p.next,p.next=u),s.pending=u}function Id(s,u,p){if((p&4194240)!==0){var y=u.lanes;y&=s.pendingLanes,p|=y,u.lanes=p,br(s,p)}}var wc={readContext:Ri,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},lw={readContext:Ri,useCallback:function(s,u){return ds().memoizedState=[s,u===void 0?null:u],s},useContext:Ri,useEffect:xd,useImperativeHandle:function(s,u,p){return p=p!=null?p.concat([s]):null,xc(4194308,4,vd.bind(null,u,s),p)},useLayoutEffect:function(s,u){return xc(4194308,4,s,u)},useInsertionEffect:function(s,u){return xc(4,2,s,u)},useMemo:function(s,u){var p=ds();return u=u===void 0?null:u,s=s(),p.memoizedState=[s,u],s},useReducer:function(s,u,p){var y=ds();return u=p!==void 0?p(u):u,y.memoizedState=y.baseState=u,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},y.queue=s,s=s.dispatch=aw.bind(null,Ir,s),[y.memoizedState,s]},useRef:function(s){var u=ds();return s={current:s},u.memoizedState=s},useState:gd,useDebugValue:Tf,useDeferredValue:function(s){return ds().memoizedState=s},useTransition:function(){var s=gd(!1),u=s[0];return s=sw.bind(null,s[1]),ds().memoizedState=s,[u,s]},useMutableSource:function(){},useSyncExternalStore:function(s,u,p){var y=Ir,T=ds();if(_r){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),hn===null)throw Error(r(349));(Qa&30)!==0||ud(y,u,p)}T.memoizedState=p;var I={value:p,getSnapshot:u};return T.queue=I,xd(fd.bind(null,y,I,s),[s]),y.flags|=2048,Ql(9,cd.bind(null,y,I,p,u),void 0,null),p},useId:function(){var s=ds(),u=hn.identifierPrefix;if(_r){var p=bs,y=Rs;p=(y&~(1<<32-pr(y)-1)).toString(32)+p,u=":"+u+"R"+p,p=$l++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=iw++,u=":"+u+"r"+p.toString(32)+":";return s.memoizedState=u},unstable_isNewReconciler:!1},uw={readContext:Ri,useCallback:Ed,useContext:Ri,useEffect:Sf,useImperativeHandle:yd,useInsertionEffect:md,useLayoutEffect:wd,useMemo:_d,useReducer:_f,useRef:pd,useState:function(){return _f(ql)},useDebugValue:Tf,useDeferredValue:function(s){var u=bi();return Ad(u,rn.memoizedState,s)},useTransition:function(){var s=_f(ql)[0],u=bi().memoizedState;return[s,u]},useMutableSource:od,useSyncExternalStore:ld,useId:Sd,unstable_isNewReconciler:!1},cw={readContext:Ri,useCallback:Ed,useContext:Ri,useEffect:Sf,useImperativeHandle:yd,useInsertionEffect:md,useLayoutEffect:wd,useMemo:_d,useReducer:Af,useRef:pd,useState:function(){return Af(ql)},useDebugValue:Tf,useDeferredValue:function(s){var u=bi();return rn===null?u.memoizedState=s:Ad(u,rn.memoizedState,s)},useTransition:function(){var s=Af(ql)[0],u=bi().memoizedState;return[s,u]},useMutableSource:od,useSyncExternalStore:ld,useId:Sd,unstable_isNewReconciler:!1};function Gi(s,u){if(s&&s.defaultProps){u=$e({},u),s=s.defaultProps;for(var p in s)u[p]===void 0&&(u[p]=s[p]);return u}return u}function Cf(s,u,p,y){u=s.memoizedState,p=p(y,u),p=p==null?u:$e({},u,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var vc={isMounted:function(s){return(s=s._reactInternals)?q(s)===s:!1},enqueueSetState:function(s,u,p){s=s._reactInternals;var y=zn(),T=ga(s),I=Ds(y,T);I.payload=u,p!=null&&(I.callback=p),u=ca(s,I,T),u!==null&&(Ki(u,s,T,y),fc(u,s,T))},enqueueReplaceState:function(s,u,p){s=s._reactInternals;var y=zn(),T=ga(s),I=Ds(y,T);I.tag=1,I.payload=u,p!=null&&(I.callback=p),u=ca(s,I,T),u!==null&&(Ki(u,s,T,y),fc(u,s,T))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var p=zn(),y=ga(s),T=Ds(p,y);T.tag=2,u!=null&&(T.callback=u),u=ca(s,T,y),u!==null&&(Ki(u,s,y,p),fc(u,s,y))}};function Od(s,u,p,y,T,I,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,I,P):u.prototype&&u.prototype.isPureReactComponent?!Ee(p,y)||!Ee(T,I):!0}function Nd(s,u,p){var y=!1,T=oa,I=u.contextType;return typeof I=="object"&&I!==null?I=Ri(I):(T=$n(u)?Xa:Pn.current,y=u.contextTypes,I=(y=y!=null)?Mo(s,T):oa),u=new u(p,I),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=vc,s.stateNode=u,u._reactInternals=s,y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=T,s.__reactInternalMemoizedMaskedChildContext=I),u}function Rd(s,u,p,y){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,y),u.state!==s&&vc.enqueueReplaceState(u,u.state,null)}function If(s,u,p,y){var T=s.stateNode;T.props=p,T.state=s.memoizedState,T.refs={},df(s);var I=u.contextType;typeof I=="object"&&I!==null?T.context=Ri(I):(I=$n(u)?Xa:Pn.current,T.context=Mo(s,I)),T.state=s.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(Cf(s,u,I,p),T.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(u=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),u!==T.state&&vc.enqueueReplaceState(T,T.state,null),hc(s,p,T,y),T.state=s.memoizedState),typeof T.componentDidMount=="function"&&(s.flags|=4194308)}function zo(s,u){try{var p="",y=u;do p+=re(y),y=y.return;while(y);var T=p}catch(I){T=`
Error generating stack: `+I.message+`
`+I.stack}return{value:s,source:u,stack:T,digest:null}}function Of(s,u,p){return{value:s,source:null,stack:p??null,digest:u??null}}function Nf(s,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var fw=typeof WeakMap=="function"?WeakMap:Map;function bd(s,u,p){p=Ds(-1,p),p.tag=3,p.payload={element:null};var y=u.value;return p.callback=function(){Cc||(Cc=!0,Vf=y),Nf(s,u)},p}function kd(s,u,p){p=Ds(-1,p),p.tag=3;var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var T=u.value;p.payload=function(){return y(T)},p.callback=function(){Nf(s,u)}}var I=s.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(p.callback=function(){Nf(s,u),typeof y!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var P=u.stack;this.componentDidCatch(u.value,{componentStack:P!==null?P:""})}),p}function Dd(s,u,p){var y=s.pingCache;if(y===null){y=s.pingCache=new fw;var T=new Set;y.set(u,T)}else T=y.get(u),T===void 0&&(T=new Set,y.set(u,T));T.has(p)||(T.add(p),s=Tw.bind(null,s,u,p),u.then(s,s))}function Md(s){do{var u;if((u=s.tag===13)&&(u=s.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return s;s=s.return}while(s!==null);return null}function Pd(s,u,p,y,T){return(s.mode&1)===0?(s===u?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=Ds(-1,1),u.tag=2,ca(p,u,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=T,s)}var hw=Q.ReactCurrentOwner,qn=!1;function Hn(s,u,p,y){u.child=s===null?td(u,null,p,y):Bo(u,s.child,p,y)}function Ld(s,u,p,y,T){p=p.render;var I=u.ref;return jo(u,T),y=yf(s,u,p,y,I,T),p=Ef(),s!==null&&!qn?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~T,Ms(s,u,T)):(_r&&p&&rf(u),u.flags|=1,Hn(s,u,y,T),u.child)}function Fd(s,u,p,y,T){if(s===null){var I=p.type;return typeof I=="function"&&!Qf(I)&&I.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=I,Bd(s,u,I,y,T)):(s=kc(p.type,null,y,u,u.mode,T),s.ref=u.ref,s.return=u,u.child=s)}if(I=s.child,(s.lanes&T)===0){var P=I.memoizedProps;if(p=p.compare,p=p!==null?p:Ee,p(P,y)&&s.ref===u.ref)return Ms(s,u,T)}return u.flags|=1,s=xa(I,y),s.ref=u.ref,s.return=u,u.child=s}function Bd(s,u,p,y,T){if(s!==null){var I=s.memoizedProps;if(Ee(I,y)&&s.ref===u.ref)if(qn=!1,u.pendingProps=y=I,(s.lanes&T)!==0)(s.flags&131072)!==0&&(qn=!0);else return u.lanes=s.lanes,Ms(s,u,T)}return Rf(s,u,p,y,T)}function Ud(s,u,p){var y=u.pendingProps,T=y.children,I=s!==null?s.memoizedState:null;if(y.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},dr(Vo,fi),fi|=p;else{if((p&1073741824)===0)return s=I!==null?I.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s,cachePool:null,transitions:null},u.updateQueue=null,dr(Vo,fi),fi|=s,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=I!==null?I.baseLanes:p,dr(Vo,fi),fi|=y}else I!==null?(y=I.baseLanes|p,u.memoizedState=null):y=p,dr(Vo,fi),fi|=y;return Hn(s,u,T,p),u.child}function jd(s,u){var p=u.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function Rf(s,u,p,y,T){var I=$n(p)?Xa:Pn.current;return I=Mo(u,I),jo(u,T),p=yf(s,u,p,y,I,T),y=Ef(),s!==null&&!qn?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~T,Ms(s,u,T)):(_r&&y&&rf(u),u.flags|=1,Hn(s,u,p,T),u.child)}function Hd(s,u,p,y,T){if($n(p)){var I=!0;nc(u)}else I=!1;if(jo(u,T),u.stateNode===null)Ec(s,u),Nd(u,p,y),If(u,p,y,T),y=!0;else if(s===null){var P=u.stateNode,J=u.memoizedProps;P.props=J;var ne=P.context,Ae=p.contextType;typeof Ae=="object"&&Ae!==null?Ae=Ri(Ae):(Ae=$n(p)?Xa:Pn.current,Ae=Mo(u,Ae));var Fe=p.getDerivedStateFromProps,Ue=typeof Fe=="function"||typeof P.getSnapshotBeforeUpdate=="function";Ue||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(J!==y||ne!==Ae)&&Rd(u,P,y,Ae),ua=!1;var Me=u.memoizedState;P.state=Me,hc(u,y,P,T),ne=u.memoizedState,J!==y||Me!==ne||Kn.current||ua?(typeof Fe=="function"&&(Cf(u,p,Fe,y),ne=u.memoizedState),(J=ua||Od(u,p,J,y,Me,ne,Ae))?(Ue||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(u.flags|=4194308)):(typeof P.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=ne),P.props=y,P.state=ne,P.context=Ae,y=J):(typeof P.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{P=u.stateNode,nd(s,u),J=u.memoizedProps,Ae=u.type===u.elementType?J:Gi(u.type,J),P.props=Ae,Ue=u.pendingProps,Me=P.context,ne=p.contextType,typeof ne=="object"&&ne!==null?ne=Ri(ne):(ne=$n(p)?Xa:Pn.current,ne=Mo(u,ne));var st=p.getDerivedStateFromProps;(Fe=typeof st=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(J!==Ue||Me!==ne)&&Rd(u,P,y,ne),ua=!1,Me=u.memoizedState,P.state=Me,hc(u,y,P,T);var ut=u.memoizedState;J!==Ue||Me!==ut||Kn.current||ua?(typeof st=="function"&&(Cf(u,p,st,y),ut=u.memoizedState),(Ae=ua||Od(u,p,Ae,y,Me,ut,ne)||!1)?(Fe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(y,ut,ne),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(y,ut,ne)),typeof P.componentDidUpdate=="function"&&(u.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof P.componentDidUpdate!="function"||J===s.memoizedProps&&Me===s.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||J===s.memoizedProps&&Me===s.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=ut),P.props=y,P.state=ut,P.context=ne,y=Ae):(typeof P.componentDidUpdate!="function"||J===s.memoizedProps&&Me===s.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||J===s.memoizedProps&&Me===s.memoizedState||(u.flags|=1024),y=!1)}return bf(s,u,p,y,I,T)}function bf(s,u,p,y,T,I){jd(s,u);var P=(u.flags&128)!==0;if(!y&&!P)return T&&X1(u,p,!1),Ms(s,u,I);y=u.stateNode,hw.current=u;var J=P&&typeof p.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,s!==null&&P?(u.child=Bo(u,s.child,null,I),u.child=Bo(u,null,J,I)):Hn(s,u,J,I),u.memoizedState=y.state,T&&X1(u,p,!0),u.child}function zd(s){var u=s.stateNode;u.pendingContext?V1(s,u.pendingContext,u.pendingContext!==u.context):u.context&&V1(s,u.context,!1),gf(s,u.containerInfo)}function Wd(s,u,p,y,T){return Fo(),of(T),u.flags|=256,Hn(s,u,p,y),u.child}var kf={dehydrated:null,treeContext:null,retryLane:0};function Df(s){return{baseLanes:s,cachePool:null,transitions:null}}function Vd(s,u,p){var y=u.pendingProps,T=Cr.current,I=!1,P=(u.flags&128)!==0,J;if((J=P)||(J=s!==null&&s.memoizedState===null?!1:(T&2)!==0),J?(I=!0,u.flags&=-129):(s===null||s.memoizedState!==null)&&(T|=1),dr(Cr,T&1),s===null)return af(u),s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((u.mode&1)===0?u.lanes=1:s.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(P=y.children,s=y.fallback,I?(y=u.mode,I=u.child,P={mode:"hidden",children:P},(y&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=P):I=Dc(P,y,0,null),s=ro(s,y,p,null),I.return=u,s.return=u,I.sibling=s,u.child=I,u.child.memoizedState=Df(p),u.memoizedState=kf,s):Mf(u,P));if(T=s.memoizedState,T!==null&&(J=T.dehydrated,J!==null))return dw(s,u,P,y,J,T,p);if(I){I=y.fallback,P=u.mode,T=s.child,J=T.sibling;var ne={mode:"hidden",children:y.children};return(P&1)===0&&u.child!==T?(y=u.child,y.childLanes=0,y.pendingProps=ne,u.deletions=null):(y=xa(T,ne),y.subtreeFlags=T.subtreeFlags&14680064),J!==null?I=xa(J,I):(I=ro(I,P,p,null),I.flags|=2),I.return=u,y.return=u,y.sibling=I,u.child=y,y=I,I=u.child,P=s.child.memoizedState,P=P===null?Df(p):{baseLanes:P.baseLanes|p,cachePool:null,transitions:P.transitions},I.memoizedState=P,I.childLanes=s.childLanes&~p,u.memoizedState=kf,y}return I=s.child,s=I.sibling,y=xa(I,{mode:"visible",children:y.children}),(u.mode&1)===0&&(y.lanes=p),y.return=u,y.sibling=null,s!==null&&(p=u.deletions,p===null?(u.deletions=[s],u.flags|=16):p.push(s)),u.child=y,u.memoizedState=null,y}function Mf(s,u){return u=Dc({mode:"visible",children:u},s.mode,0,null),u.return=s,s.child=u}function yc(s,u,p,y){return y!==null&&of(y),Bo(u,s.child,null,p),s=Mf(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function dw(s,u,p,y,T,I,P){if(p)return u.flags&256?(u.flags&=-257,y=Of(Error(r(422))),yc(s,u,P,y)):u.memoizedState!==null?(u.child=s.child,u.flags|=128,null):(I=y.fallback,T=u.mode,y=Dc({mode:"visible",children:y.children},T,0,null),I=ro(I,T,P,null),I.flags|=2,y.return=u,I.return=u,y.sibling=I,u.child=y,(u.mode&1)!==0&&Bo(u,s.child,null,P),u.child.memoizedState=Df(P),u.memoizedState=kf,I);if((u.mode&1)===0)return yc(s,u,P,null);if(T.data==="$!"){if(y=T.nextSibling&&T.nextSibling.dataset,y)var J=y.dgst;return y=J,I=Error(r(419)),y=Of(I,y,void 0),yc(s,u,P,y)}if(J=(P&s.childLanes)!==0,qn||J){if(y=hn,y!==null){switch(P&-P){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(y.suspendedLanes|P))!==0?0:T,T!==0&&T!==I.retryLane&&(I.retryLane=T,ks(s,T),Ki(y,s,T,-1))}return qf(),y=Of(Error(r(421))),yc(s,u,P,y)}return T.data==="$?"?(u.flags|=128,u.child=s.child,u=Cw.bind(null,s),T._reactRetry=u,null):(s=I.treeContext,ci=sa(T.nextSibling),ui=u,_r=!0,Vi=null,s!==null&&(Oi[Ni++]=Rs,Oi[Ni++]=bs,Oi[Ni++]=Ya,Rs=s.id,bs=s.overflow,Ya=u),u=Mf(u,y.children),u.flags|=4096,u)}function Gd(s,u,p){s.lanes|=u;var y=s.alternate;y!==null&&(y.lanes|=u),ff(s.return,u,p)}function Pf(s,u,p,y,T){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:T}:(I.isBackwards=u,I.rendering=null,I.renderingStartTime=0,I.last=y,I.tail=p,I.tailMode=T)}function Xd(s,u,p){var y=u.pendingProps,T=y.revealOrder,I=y.tail;if(Hn(s,u,y.children,p),y=Cr.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Gd(s,p,u);else if(s.tag===19)Gd(s,p,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}y&=1}if(dr(Cr,y),(u.mode&1)===0)u.memoizedState=null;else switch(T){case"forwards":for(p=u.child,T=null;p!==null;)s=p.alternate,s!==null&&dc(s)===null&&(T=p),p=p.sibling;p=T,p===null?(T=u.child,u.child=null):(T=p.sibling,p.sibling=null),Pf(u,!1,T,p,I);break;case"backwards":for(p=null,T=u.child,u.child=null;T!==null;){if(s=T.alternate,s!==null&&dc(s)===null){u.child=T;break}s=T.sibling,T.sibling=p,p=T,T=s}Pf(u,!0,p,null,I);break;case"together":Pf(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Ec(s,u){(u.mode&1)===0&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2)}function Ms(s,u,p){if(s!==null&&(u.dependencies=s.dependencies),Za|=u.lanes,(p&u.childLanes)===0)return null;if(s!==null&&u.child!==s.child)throw Error(r(153));if(u.child!==null){for(s=u.child,p=xa(s,s.pendingProps),u.child=p,p.return=u;s.sibling!==null;)s=s.sibling,p=p.sibling=xa(s,s.pendingProps),p.return=u;p.sibling=null}return u.child}function gw(s,u,p){switch(u.tag){case 3:zd(u),Fo();break;case 5:ad(u);break;case 1:$n(u.type)&&nc(u);break;case 4:gf(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,T=u.memoizedProps.value;dr(uc,y._currentValue),y._currentValue=T;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(dr(Cr,Cr.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?Vd(s,u,p):(dr(Cr,Cr.current&1),s=Ms(s,u,p),s!==null?s.sibling:null);dr(Cr,Cr.current&1);break;case 19:if(y=(p&u.childLanes)!==0,(s.flags&128)!==0){if(y)return Xd(s,u,p);u.flags|=128}if(T=u.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),dr(Cr,Cr.current),y)break;return null;case 22:case 23:return u.lanes=0,Ud(s,u,p)}return Ms(s,u,p)}var Yd,Lf,Kd,$d;Yd=function(s,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Lf=function(){},Kd=function(s,u,p,y){var T=s.memoizedProps;if(T!==y){s=u.stateNode,qa(hs.current);var I=null;switch(p){case"input":T=Pt(s,T),y=Pt(s,y),I=[];break;case"select":T=$e({},T,{value:void 0}),y=$e({},y,{value:void 0}),I=[];break;case"textarea":T=Fi(s,T),y=Fi(s,y),I=[];break;default:typeof T.onClick!="function"&&typeof y.onClick=="function"&&(s.onclick=ec)}Vt(p,y);var P;p=null;for(Ae in T)if(!y.hasOwnProperty(Ae)&&T.hasOwnProperty(Ae)&&T[Ae]!=null)if(Ae==="style"){var J=T[Ae];for(P in J)J.hasOwnProperty(P)&&(p||(p={}),p[P]="")}else Ae!=="dangerouslySetInnerHTML"&&Ae!=="children"&&Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&Ae!=="autoFocus"&&(o.hasOwnProperty(Ae)?I||(I=[]):(I=I||[]).push(Ae,null));for(Ae in y){var ne=y[Ae];if(J=T?.[Ae],y.hasOwnProperty(Ae)&&ne!==J&&(ne!=null||J!=null))if(Ae==="style")if(J){for(P in J)!J.hasOwnProperty(P)||ne&&ne.hasOwnProperty(P)||(p||(p={}),p[P]="");for(P in ne)ne.hasOwnProperty(P)&&J[P]!==ne[P]&&(p||(p={}),p[P]=ne[P])}else p||(I||(I=[]),I.push(Ae,p)),p=ne;else Ae==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,J=J?J.__html:void 0,ne!=null&&J!==ne&&(I=I||[]).push(Ae,ne)):Ae==="children"?typeof ne!="string"&&typeof ne!="number"||(I=I||[]).push(Ae,""+ne):Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&(o.hasOwnProperty(Ae)?(ne!=null&&Ae==="onScroll"&&xr("scroll",s),I||J===ne||(I=[])):(I=I||[]).push(Ae,ne))}p&&(I=I||[]).push("style",p);var Ae=I;(u.updateQueue=Ae)&&(u.flags|=4)}},$d=function(s,u,p,y){p!==y&&(u.flags|=4)};function Zl(s,u){if(!_r)switch(s.tailMode){case"hidden":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function Fn(s){var u=s.alternate!==null&&s.alternate.child===s.child,p=0,y=0;if(u)for(var T=s.child;T!==null;)p|=T.lanes|T.childLanes,y|=T.subtreeFlags&14680064,y|=T.flags&14680064,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)p|=T.lanes|T.childLanes,y|=T.subtreeFlags,y|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=y,s.childLanes=p,u}function pw(s,u,p){var y=u.pendingProps;switch(nf(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(u),null;case 1:return $n(u.type)&&rc(),Fn(u),null;case 3:return y=u.stateNode,Ho(),mr(Kn),mr(Pn),mf(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(s===null||s.child===null)&&(oc(u)?u.flags|=4:s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Vi!==null&&(Yf(Vi),Vi=null))),Lf(s,u),Fn(u),null;case 5:pf(u);var T=qa(Yl.current);if(p=u.type,s!==null&&u.stateNode!=null)Kd(s,u,p,y,T),s.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(r(166));return Fn(u),null}if(s=qa(hs.current),oc(u)){y=u.stateNode,p=u.type;var I=u.memoizedProps;switch(y[fs]=u,y[zl]=I,s=(u.mode&1)!==0,p){case"dialog":xr("cancel",y),xr("close",y);break;case"iframe":case"object":case"embed":xr("load",y);break;case"video":case"audio":for(T=0;T<Ul.length;T++)xr(Ul[T],y);break;case"source":xr("error",y);break;case"img":case"image":case"link":xr("error",y),xr("load",y);break;case"details":xr("toggle",y);break;case"input":Ar(y,I),xr("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!I.multiple},xr("invalid",y);break;case"textarea":ys(y,I),xr("invalid",y)}Vt(p,I),T=null;for(var P in I)if(I.hasOwnProperty(P)){var J=I[P];P==="children"?typeof J=="string"?y.textContent!==J&&(I.suppressHydrationWarning!==!0&&Ju(y.textContent,J,s),T=["children",J]):typeof J=="number"&&y.textContent!==""+J&&(I.suppressHydrationWarning!==!0&&Ju(y.textContent,J,s),T=["children",""+J]):o.hasOwnProperty(P)&&J!=null&&P==="onScroll"&&xr("scroll",y)}switch(p){case"input":Tt(y),kt(y,I,!0);break;case"textarea":Tt(y),Bi(y);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(y.onclick=ec)}y=T,u.updateQueue=y,y!==null&&(u.flags|=4)}else{P=T.nodeType===9?T:T.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ln(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=P.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof y.is=="string"?s=P.createElement(p,{is:y.is}):(s=P.createElement(p),p==="select"&&(P=s,y.multiple?P.multiple=!0:y.size&&(P.size=y.size))):s=P.createElementNS(s,p),s[fs]=u,s[zl]=y,Yd(s,u,!1,!1),u.stateNode=s;e:{switch(P=sr(p,y),p){case"dialog":xr("cancel",s),xr("close",s),T=y;break;case"iframe":case"object":case"embed":xr("load",s),T=y;break;case"video":case"audio":for(T=0;T<Ul.length;T++)xr(Ul[T],s);T=y;break;case"source":xr("error",s),T=y;break;case"img":case"image":case"link":xr("error",s),xr("load",s),T=y;break;case"details":xr("toggle",s),T=y;break;case"input":Ar(s,y),T=Pt(s,y),xr("invalid",s);break;case"option":T=y;break;case"select":s._wrapperState={wasMultiple:!!y.multiple},T=$e({},y,{value:void 0}),xr("invalid",s);break;case"textarea":ys(s,y),T=Fi(s,y),xr("invalid",s);break;default:T=y}Vt(p,T),J=T;for(I in J)if(J.hasOwnProperty(I)){var ne=J[I];I==="style"?Ze(s,ne):I==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Xr(s,ne)):I==="children"?typeof ne=="string"?(p!=="textarea"||ne!=="")&&Ui(s,ne):typeof ne=="number"&&Ui(s,""+ne):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(o.hasOwnProperty(I)?ne!=null&&I==="onScroll"&&xr("scroll",s):ne!=null&&B(s,I,ne,P))}switch(p){case"input":Tt(s),kt(s,y,!1);break;case"textarea":Tt(s),Bi(s);break;case"option":y.value!=null&&s.setAttribute("value",""+De(y.value));break;case"select":s.multiple=!!y.multiple,I=y.value,I!=null?it(s,!!y.multiple,I,!1):y.defaultValue!=null&&it(s,!!y.multiple,y.defaultValue,!0);break;default:typeof T.onClick=="function"&&(s.onclick=ec)}switch(p){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Fn(u),null;case 6:if(s&&u.stateNode!=null)$d(s,u,s.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(p=qa(Yl.current),qa(hs.current),oc(u)){if(y=u.stateNode,p=u.memoizedProps,y[fs]=u,(I=y.nodeValue!==p)&&(s=ui,s!==null))switch(s.tag){case 3:Ju(y.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ju(y.nodeValue,p,(s.mode&1)!==0)}I&&(u.flags|=4)}else y=(p.nodeType===9?p:p.ownerDocument).createTextNode(y),y[fs]=u,u.stateNode=y}return Fn(u),null;case 13:if(mr(Cr),y=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_r&&ci!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Z1(),Fo(),u.flags|=98560,I=!1;else if(I=oc(u),y!==null&&y.dehydrated!==null){if(s===null){if(!I)throw Error(r(318));if(I=u.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));I[fs]=u}else Fo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Fn(u),I=!1}else Vi!==null&&(Yf(Vi),Vi=null),I=!0;if(!I)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(y=y!==null,y!==(s!==null&&s.memoizedState!==null)&&y&&(u.child.flags|=8192,(u.mode&1)!==0&&(s===null||(Cr.current&1)!==0?nn===0&&(nn=3):qf())),u.updateQueue!==null&&(u.flags|=4),Fn(u),null);case 4:return Ho(),Lf(s,u),s===null&&jl(u.stateNode.containerInfo),Fn(u),null;case 10:return cf(u.type._context),Fn(u),null;case 17:return $n(u.type)&&rc(),Fn(u),null;case 19:if(mr(Cr),I=u.memoizedState,I===null)return Fn(u),null;if(y=(u.flags&128)!==0,P=I.rendering,P===null)if(y)Zl(I,!1);else{if(nn!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(P=dc(s),P!==null){for(u.flags|=128,Zl(I,!1),y=P.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=p,p=u.child;p!==null;)I=p,s=y,I.flags&=14680066,P=I.alternate,P===null?(I.childLanes=0,I.lanes=s,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=P.childLanes,I.lanes=P.lanes,I.child=P.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=P.memoizedProps,I.memoizedState=P.memoizedState,I.updateQueue=P.updateQueue,I.type=P.type,s=P.dependencies,I.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return dr(Cr,Cr.current&1|2),u.child}s=s.sibling}I.tail!==null&&Pe()>Go&&(u.flags|=128,y=!0,Zl(I,!1),u.lanes=4194304)}else{if(!y)if(s=dc(P),s!==null){if(u.flags|=128,y=!0,p=s.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),Zl(I,!0),I.tail===null&&I.tailMode==="hidden"&&!P.alternate&&!_r)return Fn(u),null}else 2*Pe()-I.renderingStartTime>Go&&p!==1073741824&&(u.flags|=128,y=!0,Zl(I,!1),u.lanes=4194304);I.isBackwards?(P.sibling=u.child,u.child=P):(p=I.last,p!==null?p.sibling=P:u.child=P,I.last=P)}return I.tail!==null?(u=I.tail,I.rendering=u,I.tail=u.sibling,I.renderingStartTime=Pe(),u.sibling=null,p=Cr.current,dr(Cr,y?p&1|2:p&1),u):(Fn(u),null);case 22:case 23:return $f(),y=u.memoizedState!==null,s!==null&&s.memoizedState!==null!==y&&(u.flags|=8192),y&&(u.mode&1)!==0?(fi&1073741824)!==0&&(Fn(u),u.subtreeFlags&6&&(u.flags|=8192)):Fn(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function xw(s,u){switch(nf(u),u.tag){case 1:return $n(u.type)&&rc(),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return Ho(),mr(Kn),mr(Pn),mf(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 5:return pf(u),null;case 13:if(mr(Cr),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Fo()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return mr(Cr),null;case 4:return Ho(),null;case 10:return cf(u.type._context),null;case 22:case 23:return $f(),null;case 24:return null;default:return null}}var _c=!1,Bn=!1,mw=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Wo(s,u){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(y){Dr(s,u,y)}else p.current=null}function Ff(s,u,p){try{p()}catch(y){Dr(s,u,y)}}var qd=!1;function ww(s,u){if(K0=us,s=jt(),Nt(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var T=y.anchorOffset,I=y.focusNode;y=y.focusOffset;try{p.nodeType,I.nodeType}catch{p=null;break e}var P=0,J=-1,ne=-1,Ae=0,Fe=0,Ue=s,Me=null;t:for(;;){for(var st;Ue!==p||T!==0&&Ue.nodeType!==3||(J=P+T),Ue!==I||y!==0&&Ue.nodeType!==3||(ne=P+y),Ue.nodeType===3&&(P+=Ue.nodeValue.length),(st=Ue.firstChild)!==null;)Me=Ue,Ue=st;for(;;){if(Ue===s)break t;if(Me===p&&++Ae===T&&(J=P),Me===I&&++Fe===y&&(ne=P),(st=Ue.nextSibling)!==null)break;Ue=Me,Me=Ue.parentNode}Ue=st}p=J===-1||ne===-1?null:{start:J,end:ne}}else p=null}p=p||{start:0,end:0}}else p=null;for($0={focusedElem:s,selectionRange:p},us=!1,lt=u;lt!==null;)if(u=lt,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,lt=s;else for(;lt!==null;){u=lt;try{var ut=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var ct=ut.memoizedProps,Vr=ut.memoizedState,ge=u.stateNode,se=ge.getSnapshotBeforeUpdate(u.elementType===u.type?ct:Gi(u.type,ct),Vr);ge.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var xe=u.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Qe){Dr(u,u.return,Qe)}if(s=u.sibling,s!==null){s.return=u.return,lt=s;break}lt=u.return}return ut=qd,qd=!1,ut}function Jl(s,u,p){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var T=y=y.next;do{if((T.tag&s)===s){var I=T.destroy;T.destroy=void 0,I!==void 0&&Ff(u,p,I)}T=T.next}while(T!==y)}}function Ac(s,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&s)===s){var y=p.create;p.destroy=y()}p=p.next}while(p!==u)}}function Bf(s){var u=s.ref;if(u!==null){var p=s.stateNode;s.tag,s=p,typeof u=="function"?u(s):u.current=s}}function Qd(s){var u=s.alternate;u!==null&&(s.alternate=null,Qd(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&(delete u[fs],delete u[zl],delete u[J0],delete u[ew],delete u[tw])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Zd(s){return s.tag===5||s.tag===3||s.tag===4}function Jd(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Zd(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Uf(s,u,p){var y=s.tag;if(y===5||y===6)s=s.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(s,u):p.insertBefore(s,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(s,p)):(u=p,u.appendChild(s)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=ec));else if(y!==4&&(s=s.child,s!==null))for(Uf(s,u,p),s=s.sibling;s!==null;)Uf(s,u,p),s=s.sibling}function jf(s,u,p){var y=s.tag;if(y===5||y===6)s=s.stateNode,u?p.insertBefore(s,u):p.appendChild(s);else if(y!==4&&(s=s.child,s!==null))for(jf(s,u,p),s=s.sibling;s!==null;)jf(s,u,p),s=s.sibling}var En=null,Xi=!1;function fa(s,u,p){for(p=p.child;p!==null;)eg(s,u,p),p=p.sibling}function eg(s,u,p){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Lt,p)}catch{}switch(p.tag){case 5:Bn||Wo(p,u);case 6:var y=En,T=Xi;En=null,fa(s,u,p),En=y,Xi=T,En!==null&&(Xi?(s=En,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):En.removeChild(p.stateNode));break;case 18:En!==null&&(Xi?(s=En,p=p.stateNode,s.nodeType===8?Z0(s.parentNode,p):s.nodeType===1&&Z0(s,p),Hi(s)):Z0(En,p.stateNode));break;case 4:y=En,T=Xi,En=p.stateNode.containerInfo,Xi=!0,fa(s,u,p),En=y,Xi=T;break;case 0:case 11:case 14:case 15:if(!Bn&&(y=p.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){T=y=y.next;do{var I=T,P=I.destroy;I=I.tag,P!==void 0&&((I&2)!==0||(I&4)!==0)&&Ff(p,u,P),T=T.next}while(T!==y)}fa(s,u,p);break;case 1:if(!Bn&&(Wo(p,u),y=p.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=p.memoizedProps,y.state=p.memoizedState,y.componentWillUnmount()}catch(J){Dr(p,u,J)}fa(s,u,p);break;case 21:fa(s,u,p);break;case 22:p.mode&1?(Bn=(y=Bn)||p.memoizedState!==null,fa(s,u,p),Bn=y):fa(s,u,p);break;default:fa(s,u,p)}}function tg(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new mw),u.forEach(function(y){var T=Iw.bind(null,s,y);p.has(y)||(p.add(y),y.then(T,T))})}}function Yi(s,u){var p=u.deletions;if(p!==null)for(var y=0;y<p.length;y++){var T=p[y];try{var I=s,P=u,J=P;e:for(;J!==null;){switch(J.tag){case 5:En=J.stateNode,Xi=!1;break e;case 3:En=J.stateNode.containerInfo,Xi=!0;break e;case 4:En=J.stateNode.containerInfo,Xi=!0;break e}J=J.return}if(En===null)throw Error(r(160));eg(I,P,T),En=null,Xi=!1;var ne=T.alternate;ne!==null&&(ne.return=null),T.return=null}catch(Ae){Dr(T,u,Ae)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)rg(u,s),u=u.sibling}function rg(s,u){var p=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Yi(u,s),gs(s),y&4){try{Jl(3,s,s.return),Ac(3,s)}catch(ct){Dr(s,s.return,ct)}try{Jl(5,s,s.return)}catch(ct){Dr(s,s.return,ct)}}break;case 1:Yi(u,s),gs(s),y&512&&p!==null&&Wo(p,p.return);break;case 5:if(Yi(u,s),gs(s),y&512&&p!==null&&Wo(p,p.return),s.flags&32){var T=s.stateNode;try{Ui(T,"")}catch(ct){Dr(s,s.return,ct)}}if(y&4&&(T=s.stateNode,T!=null)){var I=s.memoizedProps,P=p!==null?p.memoizedProps:I,J=s.type,ne=s.updateQueue;if(s.updateQueue=null,ne!==null)try{J==="input"&&I.type==="radio"&&I.name!=null&&$t(T,I),sr(J,P);var Ae=sr(J,I);for(P=0;P<ne.length;P+=2){var Fe=ne[P],Ue=ne[P+1];Fe==="style"?Ze(T,Ue):Fe==="dangerouslySetInnerHTML"?Xr(T,Ue):Fe==="children"?Ui(T,Ue):B(T,Fe,Ue,Ae)}switch(J){case"input":et(T,I);break;case"textarea":Sr(T,I);break;case"select":var Me=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!I.multiple;var st=I.value;st!=null?it(T,!!I.multiple,st,!1):Me!==!!I.multiple&&(I.defaultValue!=null?it(T,!!I.multiple,I.defaultValue,!0):it(T,!!I.multiple,I.multiple?[]:"",!1))}T[zl]=I}catch(ct){Dr(s,s.return,ct)}}break;case 6:if(Yi(u,s),gs(s),y&4){if(s.stateNode===null)throw Error(r(162));T=s.stateNode,I=s.memoizedProps;try{T.nodeValue=I}catch(ct){Dr(s,s.return,ct)}}break;case 3:if(Yi(u,s),gs(s),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Hi(u.containerInfo)}catch(ct){Dr(s,s.return,ct)}break;case 4:Yi(u,s),gs(s);break;case 13:Yi(u,s),gs(s),T=s.child,T.flags&8192&&(I=T.memoizedState!==null,T.stateNode.isHidden=I,!I||T.alternate!==null&&T.alternate.memoizedState!==null||(Wf=Pe())),y&4&&tg(s);break;case 22:if(Fe=p!==null&&p.memoizedState!==null,s.mode&1?(Bn=(Ae=Bn)||Fe,Yi(u,s),Bn=Ae):Yi(u,s),gs(s),y&8192){if(Ae=s.memoizedState!==null,(s.stateNode.isHidden=Ae)&&!Fe&&(s.mode&1)!==0)for(lt=s,Fe=s.child;Fe!==null;){for(Ue=lt=Fe;lt!==null;){switch(Me=lt,st=Me.child,Me.tag){case 0:case 11:case 14:case 15:Jl(4,Me,Me.return);break;case 1:Wo(Me,Me.return);var ut=Me.stateNode;if(typeof ut.componentWillUnmount=="function"){y=Me,p=Me.return;try{u=y,ut.props=u.memoizedProps,ut.state=u.memoizedState,ut.componentWillUnmount()}catch(ct){Dr(y,p,ct)}}break;case 5:Wo(Me,Me.return);break;case 22:if(Me.memoizedState!==null){sg(Ue);continue}}st!==null?(st.return=Me,lt=st):sg(Ue)}Fe=Fe.sibling}e:for(Fe=null,Ue=s;;){if(Ue.tag===5){if(Fe===null){Fe=Ue;try{T=Ue.stateNode,Ae?(I=T.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(J=Ue.stateNode,ne=Ue.memoizedProps.style,P=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,J.style.display=cr("display",P))}catch(ct){Dr(s,s.return,ct)}}}else if(Ue.tag===6){if(Fe===null)try{Ue.stateNode.nodeValue=Ae?"":Ue.memoizedProps}catch(ct){Dr(s,s.return,ct)}}else if((Ue.tag!==22&&Ue.tag!==23||Ue.memoizedState===null||Ue===s)&&Ue.child!==null){Ue.child.return=Ue,Ue=Ue.child;continue}if(Ue===s)break e;for(;Ue.sibling===null;){if(Ue.return===null||Ue.return===s)break e;Fe===Ue&&(Fe=null),Ue=Ue.return}Fe===Ue&&(Fe=null),Ue.sibling.return=Ue.return,Ue=Ue.sibling}}break;case 19:Yi(u,s),gs(s),y&4&&tg(s);break;case 21:break;default:Yi(u,s),gs(s)}}function gs(s){var u=s.flags;if(u&2){try{e:{for(var p=s.return;p!==null;){if(Zd(p)){var y=p;break e}p=p.return}throw Error(r(160))}switch(y.tag){case 5:var T=y.stateNode;y.flags&32&&(Ui(T,""),y.flags&=-33);var I=Jd(s);jf(s,I,T);break;case 3:case 4:var P=y.stateNode.containerInfo,J=Jd(s);Uf(s,J,P);break;default:throw Error(r(161))}}catch(ne){Dr(s,s.return,ne)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function vw(s,u,p){lt=s,ng(s)}function ng(s,u,p){for(var y=(s.mode&1)!==0;lt!==null;){var T=lt,I=T.child;if(T.tag===22&&y){var P=T.memoizedState!==null||_c;if(!P){var J=T.alternate,ne=J!==null&&J.memoizedState!==null||Bn;J=_c;var Ae=Bn;if(_c=P,(Bn=ne)&&!Ae)for(lt=T;lt!==null;)P=lt,ne=P.child,P.tag===22&&P.memoizedState!==null?ag(T):ne!==null?(ne.return=P,lt=ne):ag(T);for(;I!==null;)lt=I,ng(I),I=I.sibling;lt=T,_c=J,Bn=Ae}ig(s)}else(T.subtreeFlags&8772)!==0&&I!==null?(I.return=T,lt=I):ig(s)}}function ig(s){for(;lt!==null;){var u=lt;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Bn||Ac(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!Bn)if(p===null)y.componentDidMount();else{var T=u.elementType===u.type?p.memoizedProps:Gi(u.type,p.memoizedProps);y.componentDidUpdate(T,p.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var I=u.updateQueue;I!==null&&sd(u,I,y);break;case 3:var P=u.updateQueue;if(P!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}sd(u,P,p)}break;case 5:var J=u.stateNode;if(p===null&&u.flags&4){p=J;var ne=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&p.focus();break;case"img":ne.src&&(p.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Ae=u.alternate;if(Ae!==null){var Fe=Ae.memoizedState;if(Fe!==null){var Ue=Fe.dehydrated;Ue!==null&&Hi(Ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Bn||u.flags&512&&Bf(u)}catch(Me){Dr(u,u.return,Me)}}if(u===s){lt=null;break}if(p=u.sibling,p!==null){p.return=u.return,lt=p;break}lt=u.return}}function sg(s){for(;lt!==null;){var u=lt;if(u===s){lt=null;break}var p=u.sibling;if(p!==null){p.return=u.return,lt=p;break}lt=u.return}}function ag(s){for(;lt!==null;){var u=lt;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{Ac(4,u)}catch(ne){Dr(u,p,ne)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var T=u.return;try{y.componentDidMount()}catch(ne){Dr(u,T,ne)}}var I=u.return;try{Bf(u)}catch(ne){Dr(u,I,ne)}break;case 5:var P=u.return;try{Bf(u)}catch(ne){Dr(u,P,ne)}}}catch(ne){Dr(u,u.return,ne)}if(u===s){lt=null;break}var J=u.sibling;if(J!==null){J.return=u.return,lt=J;break}lt=u.return}}var yw=Math.ceil,Sc=Q.ReactCurrentDispatcher,Hf=Q.ReactCurrentOwner,ki=Q.ReactCurrentBatchConfig,Xt=0,hn=null,Yr=null,_n=0,fi=0,Vo=aa(0),nn=0,eu=null,Za=0,Tc=0,zf=0,tu=null,Qn=null,Wf=0,Go=1/0,Ps=null,Cc=!1,Vf=null,ha=null,Ic=!1,da=null,Oc=0,ru=0,Gf=null,Nc=-1,Rc=0;function zn(){return(Xt&6)!==0?Pe():Nc!==-1?Nc:Nc=Pe()}function ga(s){return(s.mode&1)===0?1:(Xt&2)!==0&&_n!==0?_n&-_n:nw.transition!==null?(Rc===0&&(Rc=Zr()),Rc):(s=Dt,s!==0||(s=window.event,s=s===void 0?16:Nl(s.type)),s)}function Ki(s,u,p,y){if(50<ru)throw ru=0,Gf=null,Error(r(185));W(s,p,y),((Xt&2)===0||s!==hn)&&(s===hn&&((Xt&2)===0&&(Tc|=p),nn===4&&pa(s,_n)),Zn(s,y),p===1&&Xt===0&&(u.mode&1)===0&&(Go=Pe()+500,ic&&la()))}function Zn(s,u){var p=s.callbackNode;$s(s,u);var y=si(s,s===hn?_n:0);if(y===0)p!==null&&Be(p),s.callbackNode=null,s.callbackPriority=0;else if(u=y&-y,s.callbackPriority!==u){if(p!=null&&Be(p),u===1)s.tag===0?rw(lg.bind(null,s)):Y1(lg.bind(null,s)),Zm(function(){(Xt&6)===0&&la()}),p=null;else{switch(Uu(y)){case 1:p=Ce;break;case 4:p=ar;break;case 16:p=bt;break;case 536870912:p=os;break;default:p=bt}p=xg(p,og.bind(null,s))}s.callbackPriority=u,s.callbackNode=p}}function og(s,u){if(Nc=-1,Rc=0,(Xt&6)!==0)throw Error(r(327));var p=s.callbackNode;if(Xo()&&s.callbackNode!==p)return null;var y=si(s,s===hn?_n:0);if(y===0)return null;if((y&30)!==0||(y&s.expiredLanes)!==0||u)u=bc(s,y);else{u=y;var T=Xt;Xt|=2;var I=cg();(hn!==s||_n!==u)&&(Ps=null,Go=Pe()+500,eo(s,u));do try{Aw();break}catch(J){ug(s,J)}while(!0);uf(),Sc.current=I,Xt=T,Yr!==null?u=0:(hn=null,_n=0,u=nn)}if(u!==0){if(u===2&&(T=Zt(s),T!==0&&(y=T,u=Xf(s,T))),u===1)throw p=eu,eo(s,0),pa(s,y),Zn(s,Pe()),p;if(u===6)pa(s,y);else{if(T=s.current.alternate,(y&30)===0&&!Ew(T)&&(u=bc(s,y),u===2&&(I=Zt(s),I!==0&&(y=I,u=Xf(s,I))),u===1))throw p=eu,eo(s,0),pa(s,y),Zn(s,Pe()),p;switch(s.finishedWork=T,s.finishedLanes=y,u){case 0:case 1:throw Error(r(345));case 2:to(s,Qn,Ps);break;case 3:if(pa(s,y),(y&130023424)===y&&(u=Wf+500-Pe(),10<u)){if(si(s,0)!==0)break;if(T=s.suspendedLanes,(T&y)!==y){zn(),s.pingedLanes|=s.suspendedLanes&T;break}s.timeoutHandle=Q0(to.bind(null,s,Qn,Ps),u);break}to(s,Qn,Ps);break;case 4:if(pa(s,y),(y&4194240)===y)break;for(u=s.eventTimes,T=-1;0<y;){var P=31-pr(y);I=1<<P,P=u[P],P>T&&(T=P),y&=~I}if(y=T,y=Pe()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*yw(y/1960))-y,10<y){s.timeoutHandle=Q0(to.bind(null,s,Qn,Ps),y);break}to(s,Qn,Ps);break;case 5:to(s,Qn,Ps);break;default:throw Error(r(329))}}}return Zn(s,Pe()),s.callbackNode===p?og.bind(null,s):null}function Xf(s,u){var p=tu;return s.current.memoizedState.isDehydrated&&(eo(s,u).flags|=256),s=bc(s,u),s!==2&&(u=Qn,Qn=p,u!==null&&Yf(u)),s}function Yf(s){Qn===null?Qn=s:Qn.push.apply(Qn,s)}function Ew(s){for(var u=s;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var y=0;y<p.length;y++){var T=p[y],I=T.getSnapshot;T=T.value;try{if(!ce(I(),T))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function pa(s,u){for(u&=~zf,u&=~Tc,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var p=31-pr(u),y=1<<p;s[p]=-1,u&=~y}}function lg(s){if((Xt&6)!==0)throw Error(r(327));Xo();var u=si(s,0);if((u&1)===0)return Zn(s,Pe()),null;var p=bc(s,u);if(s.tag!==0&&p===2){var y=Zt(s);y!==0&&(u=y,p=Xf(s,y))}if(p===1)throw p=eu,eo(s,0),pa(s,u),Zn(s,Pe()),p;if(p===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=u,to(s,Qn,Ps),Zn(s,Pe()),null}function Kf(s,u){var p=Xt;Xt|=1;try{return s(u)}finally{Xt=p,Xt===0&&(Go=Pe()+500,ic&&la())}}function Ja(s){da!==null&&da.tag===0&&(Xt&6)===0&&Xo();var u=Xt;Xt|=1;var p=ki.transition,y=Dt;try{if(ki.transition=null,Dt=1,s)return s()}finally{Dt=y,ki.transition=p,Xt=u,(Xt&6)===0&&la()}}function $f(){fi=Vo.current,mr(Vo)}function eo(s,u){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,Qm(p)),Yr!==null)for(p=Yr.return;p!==null;){var y=p;switch(nf(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&rc();break;case 3:Ho(),mr(Kn),mr(Pn),mf();break;case 5:pf(y);break;case 4:Ho();break;case 13:mr(Cr);break;case 19:mr(Cr);break;case 10:cf(y.type._context);break;case 22:case 23:$f()}p=p.return}if(hn=s,Yr=s=xa(s.current,null),_n=fi=u,nn=0,eu=null,zf=Tc=Za=0,Qn=tu=null,$a!==null){for(u=0;u<$a.length;u++)if(p=$a[u],y=p.interleaved,y!==null){p.interleaved=null;var T=y.next,I=p.pending;if(I!==null){var P=I.next;I.next=T,y.next=P}p.pending=y}$a=null}return s}function ug(s,u){do{var p=Yr;try{if(uf(),gc.current=wc,pc){for(var y=Ir.memoizedState;y!==null;){var T=y.queue;T!==null&&(T.pending=null),y=y.next}pc=!1}if(Qa=0,fn=rn=Ir=null,Kl=!1,$l=0,Hf.current=null,p===null||p.return===null){nn=1,eu=u,Yr=null;break}e:{var I=s,P=p.return,J=p,ne=u;if(u=_n,J.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Ae=ne,Fe=J,Ue=Fe.tag;if((Fe.mode&1)===0&&(Ue===0||Ue===11||Ue===15)){var Me=Fe.alternate;Me?(Fe.updateQueue=Me.updateQueue,Fe.memoizedState=Me.memoizedState,Fe.lanes=Me.lanes):(Fe.updateQueue=null,Fe.memoizedState=null)}var st=Md(P);if(st!==null){st.flags&=-257,Pd(st,P,J,I,u),st.mode&1&&Dd(I,Ae,u),u=st,ne=Ae;var ut=u.updateQueue;if(ut===null){var ct=new Set;ct.add(ne),u.updateQueue=ct}else ut.add(ne);break e}else{if((u&1)===0){Dd(I,Ae,u),qf();break e}ne=Error(r(426))}}else if(_r&&J.mode&1){var Vr=Md(P);if(Vr!==null){(Vr.flags&65536)===0&&(Vr.flags|=256),Pd(Vr,P,J,I,u),of(zo(ne,J));break e}}I=ne=zo(ne,J),nn!==4&&(nn=2),tu===null?tu=[I]:tu.push(I),I=P;do{switch(I.tag){case 3:I.flags|=65536,u&=-u,I.lanes|=u;var ge=bd(I,ne,u);id(I,ge);break e;case 1:J=ne;var se=I.type,xe=I.stateNode;if((I.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(ha===null||!ha.has(xe)))){I.flags|=65536,u&=-u,I.lanes|=u;var Qe=kd(I,J,u);id(I,Qe);break e}}I=I.return}while(I!==null)}hg(p)}catch(ft){u=ft,Yr===p&&p!==null&&(Yr=p=p.return);continue}break}while(!0)}function cg(){var s=Sc.current;return Sc.current=wc,s===null?wc:s}function qf(){(nn===0||nn===3||nn===2)&&(nn=4),hn===null||(Za&268435455)===0&&(Tc&268435455)===0||pa(hn,_n)}function bc(s,u){var p=Xt;Xt|=2;var y=cg();(hn!==s||_n!==u)&&(Ps=null,eo(s,u));do try{_w();break}catch(T){ug(s,T)}while(!0);if(uf(),Xt=p,Sc.current=y,Yr!==null)throw Error(r(261));return hn=null,_n=0,nn}function _w(){for(;Yr!==null;)fg(Yr)}function Aw(){for(;Yr!==null&&!He();)fg(Yr)}function fg(s){var u=pg(s.alternate,s,fi);s.memoizedProps=s.pendingProps,u===null?hg(s):Yr=u,Hf.current=null}function hg(s){var u=s;do{var p=u.alternate;if(s=u.return,(u.flags&32768)===0){if(p=pw(p,u,fi),p!==null){Yr=p;return}}else{if(p=xw(p,u),p!==null){p.flags&=32767,Yr=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{nn=6,Yr=null;return}}if(u=u.sibling,u!==null){Yr=u;return}Yr=u=s}while(u!==null);nn===0&&(nn=5)}function to(s,u,p){var y=Dt,T=ki.transition;try{ki.transition=null,Dt=1,Sw(s,u,p,y)}finally{ki.transition=T,Dt=y}return null}function Sw(s,u,p,y){do Xo();while(da!==null);if((Xt&6)!==0)throw Error(r(327));p=s.finishedWork;var T=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var I=p.lanes|p.childLanes;if(ht(s,I),s===hn&&(Yr=hn=null,_n=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Ic||(Ic=!0,xg(bt,function(){return Xo(),null})),I=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||I){I=ki.transition,ki.transition=null;var P=Dt;Dt=1;var J=Xt;Xt|=4,Hf.current=null,ww(s,p),rg(p,s),Mn($0),us=!!K0,$0=K0=null,s.current=p,vw(p),Ye(),Xt=J,Dt=P,ki.transition=I}else s.current=p;if(Ic&&(Ic=!1,da=s,Oc=T),I=s.pendingLanes,I===0&&(ha=null),Ft(p.stateNode),Zn(s,Pe()),u!==null)for(y=s.onRecoverableError,p=0;p<u.length;p++)T=u[p],y(T.value,{componentStack:T.stack,digest:T.digest});if(Cc)throw Cc=!1,s=Vf,Vf=null,s;return(Oc&1)!==0&&s.tag!==0&&Xo(),I=s.pendingLanes,(I&1)!==0?s===Gf?ru++:(ru=0,Gf=s):ru=0,la(),null}function Xo(){if(da!==null){var s=Uu(Oc),u=ki.transition,p=Dt;try{if(ki.transition=null,Dt=16>s?16:s,da===null)var y=!1;else{if(s=da,da=null,Oc=0,(Xt&6)!==0)throw Error(r(331));var T=Xt;for(Xt|=4,lt=s.current;lt!==null;){var I=lt,P=I.child;if((lt.flags&16)!==0){var J=I.deletions;if(J!==null){for(var ne=0;ne<J.length;ne++){var Ae=J[ne];for(lt=Ae;lt!==null;){var Fe=lt;switch(Fe.tag){case 0:case 11:case 15:Jl(8,Fe,I)}var Ue=Fe.child;if(Ue!==null)Ue.return=Fe,lt=Ue;else for(;lt!==null;){Fe=lt;var Me=Fe.sibling,st=Fe.return;if(Qd(Fe),Fe===Ae){lt=null;break}if(Me!==null){Me.return=st,lt=Me;break}lt=st}}}var ut=I.alternate;if(ut!==null){var ct=ut.child;if(ct!==null){ut.child=null;do{var Vr=ct.sibling;ct.sibling=null,ct=Vr}while(ct!==null)}}lt=I}}if((I.subtreeFlags&2064)!==0&&P!==null)P.return=I,lt=P;else e:for(;lt!==null;){if(I=lt,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:Jl(9,I,I.return)}var ge=I.sibling;if(ge!==null){ge.return=I.return,lt=ge;break e}lt=I.return}}var se=s.current;for(lt=se;lt!==null;){P=lt;var xe=P.child;if((P.subtreeFlags&2064)!==0&&xe!==null)xe.return=P,lt=xe;else e:for(P=se;lt!==null;){if(J=lt,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:Ac(9,J)}}catch(ft){Dr(J,J.return,ft)}if(J===P){lt=null;break e}var Qe=J.sibling;if(Qe!==null){Qe.return=J.return,lt=Qe;break e}lt=J.return}}if(Xt=T,la(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Lt,s)}catch{}y=!0}return y}finally{Dt=p,ki.transition=u}}return!1}function dg(s,u,p){u=zo(p,u),u=bd(s,u,1),s=ca(s,u,1),u=zn(),s!==null&&(W(s,1,u),Zn(s,u))}function Dr(s,u,p){if(s.tag===3)dg(s,s,p);else for(;u!==null;){if(u.tag===3){dg(u,s,p);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ha===null||!ha.has(y))){s=zo(p,s),s=kd(u,s,1),u=ca(u,s,1),s=zn(),u!==null&&(W(u,1,s),Zn(u,s));break}}u=u.return}}function Tw(s,u,p){var y=s.pingCache;y!==null&&y.delete(u),u=zn(),s.pingedLanes|=s.suspendedLanes&p,hn===s&&(_n&p)===p&&(nn===4||nn===3&&(_n&130023424)===_n&&500>Pe()-Wf?eo(s,0):zf|=p),Zn(s,u)}function gg(s,u){u===0&&((s.mode&1)===0?u=1:(u=_o,_o<<=1,(_o&130023424)===0&&(_o=4194304)));var p=zn();s=ks(s,u),s!==null&&(W(s,u,p),Zn(s,p))}function Cw(s){var u=s.memoizedState,p=0;u!==null&&(p=u.retryLane),gg(s,p)}function Iw(s,u){var p=0;switch(s.tag){case 13:var y=s.stateNode,T=s.memoizedState;T!==null&&(p=T.retryLane);break;case 19:y=s.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(u),gg(s,p)}var pg;pg=function(s,u,p){if(s!==null)if(s.memoizedProps!==u.pendingProps||Kn.current)qn=!0;else{if((s.lanes&p)===0&&(u.flags&128)===0)return qn=!1,gw(s,u,p);qn=(s.flags&131072)!==0}else qn=!1,_r&&(u.flags&1048576)!==0&&K1(u,ac,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;Ec(s,u),s=u.pendingProps;var T=Mo(u,Pn.current);jo(u,p),T=yf(null,u,y,s,T,p);var I=Ef();return u.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,$n(y)?(I=!0,nc(u)):I=!1,u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,df(u),T.updater=vc,u.stateNode=T,T._reactInternals=u,If(u,y,s,p),u=bf(null,u,y,!0,I,p)):(u.tag=0,_r&&I&&rf(u),Hn(null,u,T,p),u=u.child),u;case 16:y=u.elementType;e:{switch(Ec(s,u),s=u.pendingProps,T=y._init,y=T(y._payload),u.type=y,T=u.tag=Nw(y),s=Gi(y,s),T){case 0:u=Rf(null,u,y,s,p);break e;case 1:u=Hd(null,u,y,s,p);break e;case 11:u=Ld(null,u,y,s,p);break e;case 14:u=Fd(null,u,y,Gi(y.type,s),p);break e}throw Error(r(306,y,""))}return u;case 0:return y=u.type,T=u.pendingProps,T=u.elementType===y?T:Gi(y,T),Rf(s,u,y,T,p);case 1:return y=u.type,T=u.pendingProps,T=u.elementType===y?T:Gi(y,T),Hd(s,u,y,T,p);case 3:e:{if(zd(u),s===null)throw Error(r(387));y=u.pendingProps,I=u.memoizedState,T=I.element,nd(s,u),hc(u,y,null,p);var P=u.memoizedState;if(y=P.element,I.isDehydrated)if(I={element:y,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},u.updateQueue.baseState=I,u.memoizedState=I,u.flags&256){T=zo(Error(r(423)),u),u=Wd(s,u,y,p,T);break e}else if(y!==T){T=zo(Error(r(424)),u),u=Wd(s,u,y,p,T);break e}else for(ci=sa(u.stateNode.containerInfo.firstChild),ui=u,_r=!0,Vi=null,p=td(u,null,y,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Fo(),y===T){u=Ms(s,u,p);break e}Hn(s,u,y,p)}u=u.child}return u;case 5:return ad(u),s===null&&af(u),y=u.type,T=u.pendingProps,I=s!==null?s.memoizedProps:null,P=T.children,q0(y,T)?P=null:I!==null&&q0(y,I)&&(u.flags|=32),jd(s,u),Hn(s,u,P,p),u.child;case 6:return s===null&&af(u),null;case 13:return Vd(s,u,p);case 4:return gf(u,u.stateNode.containerInfo),y=u.pendingProps,s===null?u.child=Bo(u,null,y,p):Hn(s,u,y,p),u.child;case 11:return y=u.type,T=u.pendingProps,T=u.elementType===y?T:Gi(y,T),Ld(s,u,y,T,p);case 7:return Hn(s,u,u.pendingProps,p),u.child;case 8:return Hn(s,u,u.pendingProps.children,p),u.child;case 12:return Hn(s,u,u.pendingProps.children,p),u.child;case 10:e:{if(y=u.type._context,T=u.pendingProps,I=u.memoizedProps,P=T.value,dr(uc,y._currentValue),y._currentValue=P,I!==null)if(ce(I.value,P)){if(I.children===T.children&&!Kn.current){u=Ms(s,u,p);break e}}else for(I=u.child,I!==null&&(I.return=u);I!==null;){var J=I.dependencies;if(J!==null){P=I.child;for(var ne=J.firstContext;ne!==null;){if(ne.context===y){if(I.tag===1){ne=Ds(-1,p&-p),ne.tag=2;var Ae=I.updateQueue;if(Ae!==null){Ae=Ae.shared;var Fe=Ae.pending;Fe===null?ne.next=ne:(ne.next=Fe.next,Fe.next=ne),Ae.pending=ne}}I.lanes|=p,ne=I.alternate,ne!==null&&(ne.lanes|=p),ff(I.return,p,u),J.lanes|=p;break}ne=ne.next}}else if(I.tag===10)P=I.type===u.type?null:I.child;else if(I.tag===18){if(P=I.return,P===null)throw Error(r(341));P.lanes|=p,J=P.alternate,J!==null&&(J.lanes|=p),ff(P,p,u),P=I.sibling}else P=I.child;if(P!==null)P.return=I;else for(P=I;P!==null;){if(P===u){P=null;break}if(I=P.sibling,I!==null){I.return=P.return,P=I;break}P=P.return}I=P}Hn(s,u,T.children,p),u=u.child}return u;case 9:return T=u.type,y=u.pendingProps.children,jo(u,p),T=Ri(T),y=y(T),u.flags|=1,Hn(s,u,y,p),u.child;case 14:return y=u.type,T=Gi(y,u.pendingProps),T=Gi(y.type,T),Fd(s,u,y,T,p);case 15:return Bd(s,u,u.type,u.pendingProps,p);case 17:return y=u.type,T=u.pendingProps,T=u.elementType===y?T:Gi(y,T),Ec(s,u),u.tag=1,$n(y)?(s=!0,nc(u)):s=!1,jo(u,p),Nd(u,y,T),If(u,y,T,p),bf(null,u,y,!0,s,p);case 19:return Xd(s,u,p);case 22:return Ud(s,u,p)}throw Error(r(156,u.tag))};function xg(s,u){return be(s,u)}function Ow(s,u,p,y){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(s,u,p,y){return new Ow(s,u,p,y)}function Qf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Nw(s){if(typeof s=="function")return Qf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===we)return 11;if(s===le)return 14}return 2}function xa(s,u){var p=s.alternate;return p===null?(p=Di(s.tag,u,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=u,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,u=s.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function kc(s,u,p,y,T,I){var P=2;if(y=s,typeof s=="function")Qf(s)&&(P=1);else if(typeof s=="string")P=5;else e:switch(s){case G:return ro(p.children,T,I,u);case fe:P=8,T|=8;break;case Z:return s=Di(12,p,u,T|2),s.elementType=Z,s.lanes=I,s;case Re:return s=Di(13,p,u,T),s.elementType=Re,s.lanes=I,s;case at:return s=Di(19,p,u,T),s.elementType=at,s.lanes=I,s;case Ke:return Dc(p,T,I,u);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Ne:P=10;break e;case Te:P=9;break e;case we:P=11;break e;case le:P=14;break e;case pt:P=16,y=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return u=Di(P,p,u,T),u.elementType=s,u.type=y,u.lanes=I,u}function ro(s,u,p,y){return s=Di(7,s,y,u),s.lanes=p,s}function Dc(s,u,p,y){return s=Di(22,s,y,u),s.elementType=Ke,s.lanes=p,s.stateNode={isHidden:!1},s}function Zf(s,u,p){return s=Di(6,s,null,u),s.lanes=p,s}function Jf(s,u,p){return u=Di(4,s.children!==null?s.children:[],s.key,u),u.lanes=p,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function Rw(s,u,p,y,T){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=de(0),this.expirationTimes=de(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=de(0),this.identifierPrefix=y,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function eh(s,u,p,y,T,I,P,J,ne){return s=new Rw(s,u,p,J,ne),u===1?(u=1,I===!0&&(u|=8)):u=0,I=Di(3,null,null,u),s.current=I,I.stateNode=s,I.memoizedState={element:y,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},df(I),s}function bw(s,u,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ve,key:y==null?null:""+y,children:s,containerInfo:u,implementation:p}}function mg(s){if(!s)return oa;s=s._reactInternals;e:{if(q(s)!==s||s.tag!==1)throw Error(r(170));var u=s;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if($n(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(s.tag===1){var p=s.type;if($n(p))return G1(s,p,u)}return u}function wg(s,u,p,y,T,I,P,J,ne){return s=eh(p,y,!0,s,T,I,P,J,ne),s.context=mg(null),p=s.current,y=zn(),T=ga(p),I=Ds(y,T),I.callback=u??null,ca(p,I,T),s.current.lanes=T,W(s,T,y),Zn(s,y),s}function Mc(s,u,p,y){var T=u.current,I=zn(),P=ga(T);return p=mg(p),u.context===null?u.context=p:u.pendingContext=p,u=Ds(I,P),u.payload={element:s},y=y===void 0?null:y,y!==null&&(u.callback=y),s=ca(T,u,P),s!==null&&(Ki(s,T,P,I),fc(s,T,P)),P}function Pc(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function vg(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<u?p:u}}function th(s,u){vg(s,u),(s=s.alternate)&&vg(s,u)}function kw(){return null}var yg=typeof reportError=="function"?reportError:function(s){console.error(s)};function rh(s){this._internalRoot=s}Lc.prototype.render=rh.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(r(409));Mc(s,u,null,null)},Lc.prototype.unmount=rh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;Ja(function(){Mc(null,s,null,null)}),u[Os]=null}};function Lc(s){this._internalRoot=s}Lc.prototype.unstable_scheduleHydration=function(s){if(s){var u=fr();s={blockedOn:null,target:s,priority:u};for(var p=0;p<wn.length&&u!==0&&u<wn[p].priority;p++);wn.splice(p,0,s),p===0&&Hu(s)}};function nh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Fc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Eg(){}function Dw(s,u,p,y,T){if(T){if(typeof y=="function"){var I=y;y=function(){var Ae=Pc(P);I.call(Ae)}}var P=wg(u,y,s,0,null,!1,!1,"",Eg);return s._reactRootContainer=P,s[Os]=P.current,jl(s.nodeType===8?s.parentNode:s),Ja(),P}for(;T=s.lastChild;)s.removeChild(T);if(typeof y=="function"){var J=y;y=function(){var Ae=Pc(ne);J.call(Ae)}}var ne=eh(s,0,!1,null,null,!1,!1,"",Eg);return s._reactRootContainer=ne,s[Os]=ne.current,jl(s.nodeType===8?s.parentNode:s),Ja(function(){Mc(u,ne,p,y)}),ne}function Bc(s,u,p,y,T){var I=p._reactRootContainer;if(I){var P=I;if(typeof T=="function"){var J=T;T=function(){var ne=Pc(P);J.call(ne)}}Mc(u,P,s,T)}else P=Dw(p,u,s,T,y);return Pc(P)}Ao=function(s){switch(s.tag){case 3:var u=s.stateNode;if(u.current.memoizedState.isDehydrated){var p=ur(u.pendingLanes);p!==0&&(br(u,p|1),Zn(u,Pe()),(Xt&6)===0&&(Go=Pe()+500,la()))}break;case 13:Ja(function(){var y=ks(s,1);if(y!==null){var T=zn();Ki(y,s,1,T)}}),th(s,1)}},Dn=function(s){if(s.tag===13){var u=ks(s,134217728);if(u!==null){var p=zn();Ki(u,s,134217728,p)}th(s,134217728)}},gt=function(s){if(s.tag===13){var u=ga(s),p=ks(s,u);if(p!==null){var y=zn();Ki(p,s,u,y)}th(s,u)}},fr=function(){return Dt},Cl=function(s,u){var p=Dt;try{return Dt=s,u()}finally{Dt=p}},Es=function(s,u,p){switch(u){case"input":if(et(s,p),u=p.name,p.type==="radio"&&u!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var y=p[u];if(y!==s&&y.form===s.form){var T=tc(y);if(!T)throw Error(r(90));Mt(y),et(y,T)}}}break;case"textarea":Sr(s,p);break;case"select":u=p.value,u!=null&&it(s,!!p.multiple,u,!1)}},Ks=Kf,jr=Ja;var Mw={usingClientEntryPoint:!1,Events:[Wl,ko,tc,Da,kn,Kf]},nu={findFiberByHostInstance:Ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pw={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=me(s),s===null?null:s.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||kw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Lt=Uc.inject(Pw),Et=Uc}catch{}}return Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mw,Jn.createPortal=function(s,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nh(u))throw Error(r(200));return bw(s,u,null,p)},Jn.createRoot=function(s,u){if(!nh(s))throw Error(r(299));var p=!1,y="",T=yg;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),u=eh(s,1,!1,null,null,p,!1,y,T),s[Os]=u.current,jl(s.nodeType===8?s.parentNode:s),new rh(u)},Jn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=me(u),s=s===null?null:s.stateNode,s},Jn.flushSync=function(s){return Ja(s)},Jn.hydrate=function(s,u,p){if(!Fc(u))throw Error(r(200));return Bc(null,s,u,!0,p)},Jn.hydrateRoot=function(s,u,p){if(!nh(s))throw Error(r(405));var y=p!=null&&p.hydratedSources||null,T=!1,I="",P=yg;if(p!=null&&(p.unstable_strictMode===!0&&(T=!0),p.identifierPrefix!==void 0&&(I=p.identifierPrefix),p.onRecoverableError!==void 0&&(P=p.onRecoverableError)),u=wg(u,null,s,1,p??null,T,!1,I,P),s[Os]=u.current,jl(s),y)for(s=0;s<y.length;s++)p=y[s],T=p._getVersion,T=T(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,T]:u.mutableSourceEagerHydrationData.push(p,T);return new Lc(u)},Jn.render=function(s,u,p){if(!Fc(u))throw Error(r(200));return Bc(null,s,u,!1,p)},Jn.unmountComponentAtNode=function(s){if(!Fc(s))throw Error(r(40));return s._reactRootContainer?(Ja(function(){Bc(null,null,s,!1,function(){s._reactRootContainer=null,s[Os]=null})}),!0):!1},Jn.unstable_batchedUpdates=Kf,Jn.unstable_renderSubtreeIntoContainer=function(s,u,p,y){if(!Fc(p))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Bc(s,u,p,!1,y)},Jn.version="18.3.1-next-f1338f8080-20240426",Jn}var Ng;function x2(){if(Ng)return ah.exports;Ng=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ah.exports=Ww(),ah.exports}var Rg;function Vw(){if(Rg)return Hc;Rg=1;var t=x2();return Hc.createRoot=t.createRoot,Hc.hydrateRoot=t.hydrateRoot,Hc}var Gw=Vw();const Xw=Qh(Gw);x2();function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},mu.apply(this,arguments)}var Aa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Aa||(Aa={}));const bg="popstate";function Yw(t){t===void 0&&(t={});function e(i,o){let{pathname:c,search:d,hash:m}=i.location;return Nh("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:e0(o)}return $w(e,r,null,t)}function Nr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kw(){return Math.random().toString(36).substr(2,8)}function kg(t,e){return{usr:t.state,key:t.key,idx:e}}function Nh(t,e,r,i){return r===void 0&&(r=null),mu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ml(e):e,{state:r,key:e&&e.key||i||Kw()})}function e0(t){let{pathname:e="/",search:r="",hash:i=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ml(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function $w(t,e,r,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:c=!1}=i,d=o.history,m=Aa.Pop,w=null,x=E();x==null&&(x=0,d.replaceState(mu({},d.state,{idx:x}),""));function E(){return(d.state||{idx:null}).idx}function A(){m=Aa.Pop;let k=E(),K=k==null?null:k-x;x=k,w&&w({action:m,location:O.location,delta:K})}function C(k,K){m=Aa.Push;let z=Nh(O.location,k,K);x=E()+1;let B=kg(z,x),Q=O.createHref(z);try{d.pushState(B,"",Q)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(Q)}c&&w&&w({action:m,location:O.location,delta:1})}function N(k,K){m=Aa.Replace;let z=Nh(O.location,k,K);x=E();let B=kg(z,x),Q=O.createHref(z);d.replaceState(B,"",Q),c&&w&&w({action:m,location:O.location,delta:0})}function b(k){let K=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof k=="string"?k:e0(k);return z=z.replace(/ $/,"%20"),Nr(K,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,K)}let O={get action(){return m},get location(){return t(o,d)},listen(k){if(w)throw new Error("A history only accepts one active listener");return o.addEventListener(bg,A),w=k,()=>{o.removeEventListener(bg,A),w=null}},createHref(k){return e(o,k)},createURL:b,encodeLocation(k){let K=b(k);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:C,replace:N,go(k){return d.go(k)}};return O}var Dg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dg||(Dg={}));function qw(t,e,r){return r===void 0&&(r="/"),Qw(t,e,r)}function Qw(t,e,r,i){let o=typeof e=="string"?ml(e):e,c=pl(o.pathname||"/",r);if(c==null)return null;let d=m2(t);Zw(d);let m=null;for(let w=0;m==null&&w<d.length;++w){let x=uv(c);m=ov(d[w],x)}return m}function m2(t,e,r,i){e===void 0&&(e=[]),r===void 0&&(r=[]),i===void 0&&(i="");let o=(c,d,m)=>{let w={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};w.relativePath.startsWith("/")&&(Nr(w.relativePath.startsWith(i),'Absolute route path "'+w.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),w.relativePath=w.relativePath.slice(i.length));let x=Ca([i,w.relativePath]),E=r.concat(w);c.children&&c.children.length>0&&(Nr(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),m2(c.children,e,E,x)),!(c.path==null&&!c.index)&&e.push({path:x,score:sv(x,c.index),routesMeta:E})};return t.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,d);else for(let w of w2(c.path))o(c,d,w)}),e}function w2(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,o=r.endsWith("?"),c=r.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let d=w2(i.join("/")),m=[];return m.push(...d.map(w=>w===""?c:[c,w].join("/"))),o&&m.push(...d),m.map(w=>t.startsWith("/")&&w===""?"/":w)}function Zw(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:av(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const Jw=/^:[\w-]+$/,ev=3,tv=2,rv=1,nv=10,iv=-2,Mg=t=>t==="*";function sv(t,e){let r=t.split("/"),i=r.length;return r.some(Mg)&&(i+=iv),e&&(i+=tv),r.filter(o=>!Mg(o)).reduce((o,c)=>o+(Jw.test(c)?ev:c===""?rv:nv),i)}function av(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function ov(t,e,r){let{routesMeta:i}=t,o={},c="/",d=[];for(let m=0;m<i.length;++m){let w=i[m],x=m===i.length-1,E=c==="/"?e:e.slice(c.length)||"/",A=Rh({path:w.relativePath,caseSensitive:w.caseSensitive,end:x},E),C=w.route;if(!A)return null;Object.assign(o,A.params),d.push({params:o,pathname:Ca([c,A.pathname]),pathnameBase:gv(Ca([c,A.pathnameBase])),route:C}),A.pathnameBase!=="/"&&(c=Ca([c,A.pathnameBase]))}return d}function Rh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=lv(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((x,E,A)=>{let{paramName:C,isOptional:N}=E;if(C==="*"){let O=m[A]||"";d=c.slice(0,c.length-O.length).replace(/(.)\/+$/,"$1")}const b=m[A];return N&&!b?x[C]=void 0:x[C]=(b||"").replace(/%2F/g,"/"),x},{}),pathname:c,pathnameBase:d,pattern:t}}function lv(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Jh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,w)=>(i.push({paramName:m,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function uv(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}const cv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fv=t=>cv.test(t);function hv(t,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:o=""}=typeof t=="string"?ml(t):t,c;if(r)if(fv(r))c=r;else{if(r.includes("//")){let d=r;r=r.replace(/\/\/+/g,"/"),Jh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(d+" -> "+r))}r.startsWith("/")?c=Pg(r.substring(1),"/"):c=Pg(r,e)}else c=e;return{pathname:c,search:pv(i),hash:xv(o)}}function Pg(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function uh(t,e,r,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dv(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function e1(t,e){let r=dv(t);return e?r.map((i,o)=>o===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function t1(t,e,r,i){i===void 0&&(i=!1);let o;typeof t=="string"?o=ml(t):(o=mu({},t),Nr(!o.pathname||!o.pathname.includes("?"),uh("?","pathname","search",o)),Nr(!o.pathname||!o.pathname.includes("#"),uh("#","pathname","hash",o)),Nr(!o.search||!o.search.includes("#"),uh("#","search","hash",o)));let c=t===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=r;else{let A=e.length-1;if(!i&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),A-=1;o.pathname=C.join("/")}m=A>=0?e[A]:"/"}let w=hv(o,m),x=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&r.endsWith("/");return!w.pathname.endsWith("/")&&(x||E)&&(w.pathname+="/"),w}const Ca=t=>t.join("/").replace(/\/\/+/g,"/"),gv=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xv=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const v2=["post","put","patch","delete"];new Set(v2);const wv=["get",...v2];new Set(wv);function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},wu.apply(this,arguments)}const A0=ze.createContext(null),y2=ze.createContext(null),Vs=ze.createContext(null),S0=ze.createContext(null),Gs=ze.createContext({outlet:null,matches:[],isDataRoute:!1}),E2=ze.createContext(null);function vv(t,e){let{relative:r}=e===void 0?{}:e;wl()||Nr(!1);let{basename:i,navigator:o}=ze.useContext(Vs),{hash:c,pathname:d,search:m}=T0(t,{relative:r}),w=d;return i!=="/"&&(w=d==="/"?i:Ca([i,d])),o.createHref({pathname:w,search:m,hash:c})}function wl(){return ze.useContext(S0)!=null}function vl(){return wl()||Nr(!1),ze.useContext(S0).location}function _2(t){ze.useContext(Vs).static||ze.useLayoutEffect(t)}function A2(){let{isDataRoute:t}=ze.useContext(Gs);return t?Mv():yv()}function yv(){wl()||Nr(!1);let t=ze.useContext(A0),{basename:e,future:r,navigator:i}=ze.useContext(Vs),{matches:o}=ze.useContext(Gs),{pathname:c}=vl(),d=JSON.stringify(e1(o,r.v7_relativeSplatPath)),m=ze.useRef(!1);return _2(()=>{m.current=!0}),ze.useCallback(function(x,E){if(E===void 0&&(E={}),!m.current)return;if(typeof x=="number"){i.go(x);return}let A=t1(x,JSON.parse(d),c,E.relative==="path");t==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:Ca([e,A.pathname])),(E.replace?i.replace:i.push)(A,E.state,E)},[e,i,d,c,t])}const Ev=ze.createContext(null);function _v(t){let e=ze.useContext(Gs).outlet;return e&&ze.createElement(Ev.Provider,{value:t},e)}function T0(t,e){let{relative:r}=e===void 0?{}:e,{future:i}=ze.useContext(Vs),{matches:o}=ze.useContext(Gs),{pathname:c}=vl(),d=JSON.stringify(e1(o,i.v7_relativeSplatPath));return ze.useMemo(()=>t1(t,JSON.parse(d),c,r==="path"),[t,d,c,r])}function Av(t,e){return Sv(t,e)}function Sv(t,e,r,i){wl()||Nr(!1);let{navigator:o}=ze.useContext(Vs),{matches:c}=ze.useContext(Gs),d=c[c.length-1],m=d?d.params:{};d&&d.pathname;let w=d?d.pathnameBase:"/";d&&d.route;let x=vl(),E;if(e){var A;let k=typeof e=="string"?ml(e):e;w==="/"||(A=k.pathname)!=null&&A.startsWith(w)||Nr(!1),E=k}else E=x;let C=E.pathname||"/",N=C;if(w!=="/"){let k=w.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(k.length).join("/")}let b=qw(t,{pathname:N}),O=Nv(b&&b.map(k=>Object.assign({},k,{params:Object.assign({},m,k.params),pathname:Ca([w,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?w:Ca([w,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,r,i);return e&&O?ze.createElement(S0.Provider,{value:{location:wu({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Aa.Pop}},O):O}function Tv(){let t=Dv(),e=mv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ze.createElement(ze.Fragment,null,ze.createElement("h2",null,"Unexpected Application Error!"),ze.createElement("h3",{style:{fontStyle:"italic"}},e),r?ze.createElement("pre",{style:o},r):null,null)}const Cv=ze.createElement(Tv,null);class Iv extends ze.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?ze.createElement(Gs.Provider,{value:this.props.routeContext},ze.createElement(E2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ov(t){let{routeContext:e,match:r,children:i}=t,o=ze.useContext(A0);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),ze.createElement(Gs.Provider,{value:e},i)}function Nv(t,e,r,i){var o;if(e===void 0&&(e=[]),r===void 0&&(r=null),i===void 0&&(i=null),t==null){var c;if(!r)return null;if(r.errors)t=r.matches;else if((c=i)!=null&&c.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let d=t,m=(o=r)==null?void 0:o.errors;if(m!=null){let E=d.findIndex(A=>A.route.id&&m?.[A.route.id]!==void 0);E>=0||Nr(!1),d=d.slice(0,Math.min(d.length,E+1))}let w=!1,x=-1;if(r&&i&&i.v7_partialHydration)for(let E=0;E<d.length;E++){let A=d[E];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(x=E),A.route.id){let{loaderData:C,errors:N}=r,b=A.route.loader&&C[A.route.id]===void 0&&(!N||N[A.route.id]===void 0);if(A.route.lazy||b){w=!0,x>=0?d=d.slice(0,x+1):d=[d[0]];break}}}return d.reduceRight((E,A,C)=>{let N,b=!1,O=null,k=null;r&&(N=m&&A.route.id?m[A.route.id]:void 0,O=A.route.errorElement||Cv,w&&(x<0&&C===0?(Pv("route-fallback"),b=!0,k=null):x===C&&(b=!0,k=A.route.hydrateFallbackElement||null)));let K=e.concat(d.slice(0,C+1)),z=()=>{let B;return N?B=O:b?B=k:A.route.Component?B=ze.createElement(A.route.Component,null):A.route.element?B=A.route.element:B=E,ze.createElement(Ov,{match:A,routeContext:{outlet:E,matches:K,isDataRoute:r!=null},children:B})};return r&&(A.route.ErrorBoundary||A.route.errorElement||C===0)?ze.createElement(Iv,{location:r.location,revalidation:r.revalidation,component:O,error:N,children:z(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):z()},null)}var S2=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(S2||{}),T2=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(T2||{});function Rv(t){let e=ze.useContext(A0);return e||Nr(!1),e}function bv(t){let e=ze.useContext(y2);return e||Nr(!1),e}function kv(t){let e=ze.useContext(Gs);return e||Nr(!1),e}function C2(t){let e=kv(),r=e.matches[e.matches.length-1];return r.route.id||Nr(!1),r.route.id}function Dv(){var t;let e=ze.useContext(E2),r=bv(),i=C2();return e!==void 0?e:(t=r.errors)==null?void 0:t[i]}function Mv(){let{router:t}=Rv(S2.UseNavigateStable),e=C2(T2.UseNavigateStable),r=ze.useRef(!1);return _2(()=>{r.current=!0}),ze.useCallback(function(o,c){c===void 0&&(c={}),r.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,wu({fromRouteId:e},c)))},[t,e])}const Lg={};function Pv(t,e,r){Lg[t]||(Lg[t]=!0)}function Lv(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Fv(t){let{to:e,replace:r,state:i,relative:o}=t;wl()||Nr(!1);let{future:c,static:d}=ze.useContext(Vs),{matches:m}=ze.useContext(Gs),{pathname:w}=vl(),x=A2(),E=t1(e,e1(m,c.v7_relativeSplatPath),w,o==="path"),A=JSON.stringify(E);return ze.useEffect(()=>x(JSON.parse(A),{replace:r,state:i,relative:o}),[x,A,o,r,i]),null}function I2(t){return _v(t.context)}function Ls(t){Nr(!1)}function Bv(t){let{basename:e="/",children:r=null,location:i,navigationType:o=Aa.Pop,navigator:c,static:d=!1,future:m}=t;wl()&&Nr(!1);let w=e.replace(/^\/*/,"/"),x=ze.useMemo(()=>({basename:w,navigator:c,static:d,future:wu({v7_relativeSplatPath:!1},m)}),[w,m,c,d]);typeof i=="string"&&(i=ml(i));let{pathname:E="/",search:A="",hash:C="",state:N=null,key:b="default"}=i,O=ze.useMemo(()=>{let k=pl(E,w);return k==null?null:{location:{pathname:k,search:A,hash:C,state:N,key:b},navigationType:o}},[w,E,A,C,N,b,o]);return O==null?null:ze.createElement(Vs.Provider,{value:x},ze.createElement(S0.Provider,{children:r,value:O}))}function Uv(t){let{children:e,location:r}=t;return Av(bh(e),r)}new Promise(()=>{});function bh(t,e){e===void 0&&(e=[]);let r=[];return ze.Children.forEach(t,(i,o)=>{if(!ze.isValidElement(i))return;let c=[...e,o];if(i.type===ze.Fragment){r.push.apply(r,bh(i.props.children,c));return}i.type!==Ls&&Nr(!1),!i.props.index||!i.props.children||Nr(!1);let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=bh(i.props.children,c)),r.push(d)}),r}function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},t0.apply(this,arguments)}function O2(t,e){if(t==null)return{};var r={},i=Object.keys(t),o,c;for(c=0;c<i.length;c++)o=i[c],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}function jv(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Hv(t,e){return t.button===0&&(!e||e==="_self")&&!jv(t)}const zv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Wv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Vv="6";try{window.__reactRouterVersion=Vv}catch{}const Gv=ze.createContext({isTransitioning:!1}),Xv="startTransition",Fg=jw[Xv];function Yv(t){let{basename:e,children:r,future:i,window:o}=t,c=ze.useRef();c.current==null&&(c.current=Yw({window:o,v5Compat:!0}));let d=c.current,[m,w]=ze.useState({action:d.action,location:d.location}),{v7_startTransition:x}=i||{},E=ze.useCallback(A=>{x&&Fg?Fg(()=>w(A)):w(A)},[w,x]);return ze.useLayoutEffect(()=>d.listen(E),[d,E]),ze.useEffect(()=>Lv(i),[i]),ze.createElement(Bv,{basename:e,children:r,location:m.location,navigationType:m.action,navigator:d,future:i})}const Kv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$v=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qv=ze.forwardRef(function(e,r){let{onClick:i,relative:o,reloadDocument:c,replace:d,state:m,target:w,to:x,preventScrollReset:E,viewTransition:A}=e,C=O2(e,zv),{basename:N}=ze.useContext(Vs),b,O=!1;if(typeof x=="string"&&$v.test(x)&&(b=x,Kv))try{let B=new URL(window.location.href),Q=x.startsWith("//")?new URL(B.protocol+x):new URL(x),Se=pl(Q.pathname,N);Q.origin===B.origin&&Se!=null?x=Se+Q.search+Q.hash:O=!0}catch{}let k=vv(x,{relative:o}),K=Jv(x,{replace:d,state:m,target:w,preventScrollReset:E,relative:o,viewTransition:A});function z(B){i&&i(B),B.defaultPrevented||K(B)}return ze.createElement("a",t0({},C,{href:b||k,onClick:O||c?i:z,ref:r,target:w}))}),Qv=ze.forwardRef(function(e,r){let{"aria-current":i="page",caseSensitive:o=!1,className:c="",end:d=!1,style:m,to:w,viewTransition:x,children:E}=e,A=O2(e,Wv),C=T0(w,{relative:A.relative}),N=vl(),b=ze.useContext(y2),{navigator:O,basename:k}=ze.useContext(Vs),K=b!=null&&ey(C)&&x===!0,z=O.encodeLocation?O.encodeLocation(C).pathname:C.pathname,B=N.pathname,Q=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;o||(B=B.toLowerCase(),Q=Q?Q.toLowerCase():null,z=z.toLowerCase()),Q&&k&&(Q=pl(Q,k)||Q);const Se=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ve=B===z||!d&&B.startsWith(z)&&B.charAt(Se)==="/",G=Q!=null&&(Q===z||!d&&Q.startsWith(z)&&Q.charAt(z.length)==="/"),fe={isActive:ve,isPending:G,isTransitioning:K},Z=ve?i:void 0,Ne;typeof c=="function"?Ne=c(fe):Ne=[c,ve?"active":null,G?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let Te=typeof m=="function"?m(fe):m;return ze.createElement(qv,t0({},A,{"aria-current":Z,className:Ne,ref:r,style:Te,to:w,viewTransition:x}),typeof E=="function"?E(fe):E)});var kh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kh||(kh={}));var Bg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Bg||(Bg={}));function Zv(t){let e=ze.useContext(A0);return e||Nr(!1),e}function Jv(t,e){let{target:r,replace:i,state:o,preventScrollReset:c,relative:d,viewTransition:m}=e===void 0?{}:e,w=A2(),x=vl(),E=T0(t,{relative:d});return ze.useCallback(A=>{if(Hv(A,r)){A.preventDefault();let C=i!==void 0?i:e0(x)===e0(E);w(t,{replace:C,state:o,preventScrollReset:c,relative:d,viewTransition:m})}},[x,w,E,i,o,r,t,c,d,m])}function ey(t,e){e===void 0&&(e={});let r=ze.useContext(Gv);r==null&&Nr(!1);let{basename:i}=Zv(kh.useViewTransitionState),o=T0(t,{relative:e.relative});if(!r.isTransitioning)return!1;let c=pl(r.currentLocation.pathname,i)||r.currentLocation.pathname,d=pl(r.nextLocation.pathname,i)||r.nextLocation.pathname;return Rh(o.pathname,d)!=null||Rh(o.pathname,c)!=null}function C0(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(r[i[o]]=t[i[o]]);return r}function ty(t,e,r,i){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(E){try{x(i.next(E))}catch(A){d(A)}}function w(E){try{x(i.throw(E))}catch(A){d(A)}}function x(E){E.done?c(E.value):o(E.value).then(m,w)}x((i=i.apply(t,e||[])).next())})}const ry=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class r1 extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class ny extends r1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ug extends r1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jg extends r1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Dh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Dh||(Dh={}));class iy{constructor(e,{headers:r={},customFetch:i,region:o=Dh.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=ry(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ty(this,arguments,void 0,function*(r,i={}){var o;let c,d;try{const{headers:m,method:w,body:x,signal:E,timeout:A}=i;let C={},{region:N}=i;N||(N=this.region);const b=new URL(`${this.url}/${r}`);N&&N!=="any"&&(C["x-region"]=N,b.searchParams.set("forceFunctionRegion",N));let O;x&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(C["Content-Type"]="application/octet-stream",O=x):typeof x=="string"?(C["Content-Type"]="text/plain",O=x):typeof FormData<"u"&&x instanceof FormData?O=x:(C["Content-Type"]="application/json",O=JSON.stringify(x)):O=x;let k=E;A&&(d=new AbortController,c=setTimeout(()=>d.abort(),A),E?(k=d.signal,E.addEventListener("abort",()=>d.abort())):k=d.signal);const K=yield this.fetch(b.toString(),{method:w||"POST",headers:Object.assign(Object.assign(Object.assign({},C),this.headers),m),body:O,signal:k}).catch(Se=>{throw new ny(Se)}),z=K.headers.get("x-relay-error");if(z&&z==="true")throw new Ug(K);if(!K.ok)throw new jg(K);let B=((o=K.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),Q;return B==="application/json"?Q=yield K.json():B==="application/octet-stream"||B==="application/pdf"?Q=yield K.blob():B==="text/event-stream"?Q=K:B==="multipart/form-data"?Q=yield K.formData():Q=yield K.text(),{data:Q,error:null,response:K}}catch(m){return{data:null,error:m,response:m instanceof jg||m instanceof Ug?m.context:void 0}}finally{c&&clearTimeout(c)}})}}var sy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},ay=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let d=null,m=null,w=null,x=c.status,E=c.statusText;if(c.ok){var A,C;if(r.method!=="HEAD"){var N;const K=await c.text();K===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((N=r.headers.get("Accept"))===null||N===void 0)&&N.includes("application/vnd.pgrst.plan+text"))?m=K:m=JSON.parse(K))}const O=(A=r.headers.get("Prefer"))===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),k=(C=c.headers.get("content-range"))===null||C===void 0?void 0:C.split("/");O&&k&&k.length>1&&(w=parseInt(k[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(m)&&(m.length>1?(d={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,w=null,x=406,E="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var b;const O=await c.text();try{d=JSON.parse(O),Array.isArray(d)&&c.status===404&&(m=[],d=null,x=200,E="OK")}catch{c.status===404&&O===""?(x=204,E="No Content"):d={message:O}}if(d&&r.isMaybeSingle&&(!(d==null||(b=d.details)===null||b===void 0)&&b.includes("0 rows"))&&(d=null,x=200,E="OK"),d&&r.shouldThrowOnError)throw new sy(d)}return{error:d,data:m,count:w,status:x,statusText:E}});return this.shouldThrowOnError||(o=o.catch(c=>{var d;let m="";const w=c?.cause;if(w){var x,E,A,C;const b=(x=w?.message)!==null&&x!==void 0?x:"",O=(E=w?.code)!==null&&E!==void 0?E:"";m=`${(A=c?.name)!==null&&A!==void 0?A:"FetchError"}: ${c?.message}`,m+=`

Caused by: ${(C=w?.name)!==null&&C!==void 0?C:"Error"}: ${b}`,O&&(m+=` (${O})`),w?.stack&&(m+=`
${w.stack}`)}else{var N;m=(N=c?.stack)!==null&&N!==void 0?N:""}return{error:{message:`${(d=c?.name)!==null&&d!==void 0?d:"FetchError"}: ${c?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},oy=class extends ay{select(t){let e=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const c=o?`${o}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,c=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(c,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:c="text"}={}){var d;const m=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),w=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${w}"; options=${m};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Hg=new RegExp("[,()]");var rl=class extends oy{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&Hg.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&Hg.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const c=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${c}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},ly=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=i}select(t,e){const{head:r=!1,count:i}=e??{},o=r?"HEAD":"GET";let c=!1;const d=(t??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",d),i&&this.headers.append("Prefer",`count=${i}`),new rl({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var i;const o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(c.length>0){const d=[...new Set(c)].map(m=>`"${m}"`);this.url.searchParams.set("columns",d.join(","))}}return new rl({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const m=t.reduce((w,x)=>w.concat(Object.keys(x)),[]);if(m.length>0){const w=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",w.join(","))}}return new rl({method:d,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(t,{count:e}={}){var r;const i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new rl({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new rl({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},uy=class N2{constructor(e,{headers:r={},schema:i,fetch:o}={}){this.url=e,this.headers=new Headers(r),this.schemaName=i,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ly(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new N2(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:i=!1,get:o=!1,count:c}={}){var d;let m;const w=new URL(`${this.url}/rpc/${e}`);let x;i||o?(m=i?"HEAD":"GET",Object.entries(r).filter(([A,C])=>C!==void 0).map(([A,C])=>[A,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([A,C])=>{w.searchParams.append(A,C)})):(m="POST",x=r);const E=new Headers(this.headers);return c&&E.set("Prefer",`count=${c}`),new rl({method:m,url:w,headers:E,schema:this.schemaName,body:x,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class cy{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const fy="2.88.0",hy=`realtime-js/${fy}`,R2="1.0.0",dy="2.0.0",zg=R2,Mh=1e4,gy=1e3,py=100;var Ea;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ea||(Ea={}));var sn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(sn||(sn={}));var Ji;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ji||(Ji={}));var Ph;(function(t){t.websocket="websocket"})(Ph||(Ph={}));var ao;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ao||(ao={}));class xy{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const o=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var r,i;const o=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},d=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(e,r,i){var o,c;const d=e.topic,m=(o=e.ref)!==null&&o!==void 0?o:"",w=(c=e.join_ref)!==null&&c!==void 0?c:"",x=e.payload.event,E=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},A=Object.keys(E).length===0?"":JSON.stringify(E);if(w.length>255)throw new Error(`joinRef length ${w.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`userEvent length ${x.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`metadata length ${A.length} exceeds maximum of 255`);const C=this.USER_BROADCAST_PUSH_META_LENGTH+w.length+m.length+d.length+x.length+A.length,N=new ArrayBuffer(this.HEADER_LENGTH+C);let b=new DataView(N),O=0;b.setUint8(O++,this.KINDS.userBroadcastPush),b.setUint8(O++,w.length),b.setUint8(O++,m.length),b.setUint8(O++,d.length),b.setUint8(O++,x.length),b.setUint8(O++,A.length),b.setUint8(O++,r),Array.from(w,K=>b.setUint8(O++,K.charCodeAt(0))),Array.from(m,K=>b.setUint8(O++,K.charCodeAt(0))),Array.from(d,K=>b.setUint8(O++,K.charCodeAt(0))),Array.from(x,K=>b.setUint8(O++,K.charCodeAt(0))),Array.from(A,K=>b.setUint8(O++,K.charCodeAt(0)));var k=new Uint8Array(N.byteLength+i.byteLength);return k.set(new Uint8Array(N),0),k.set(new Uint8Array(i),N.byteLength),k.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[o,c,d,m,w]=i;return r({join_ref:o,ref:c,topic:d,event:m,payload:w})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),o=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,o)}_decodeUserBroadcast(e,r,i){const o=r.getUint8(1),c=r.getUint8(2),d=r.getUint8(3),m=r.getUint8(4);let w=this.HEADER_LENGTH+4;const x=i.decode(e.slice(w,w+o));w=w+o;const E=i.decode(e.slice(w,w+c));w=w+c;const A=i.decode(e.slice(w,w+d));w=w+d;const C=e.slice(w,e.byteLength),N=m===this.JSON_ENCODING?JSON.parse(i.decode(C)):C,b={type:this.BROADCAST_EVENT,event:E,payload:N};return d>0&&(b.meta=JSON.parse(A)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class b2{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var gr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(gr||(gr={}));const Wg=(t,e,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((c,d)=>(c[d]=my(d,t,e,o),c),{}):{}},my=(t,e,r,i)=>{const o=e.find(m=>m.name===t),c=o?.type,d=r[t];return c&&!i.includes(c)?k2(c,d):Lh(d)},k2=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Ey(e,r)}switch(t){case gr.bool:return wy(e);case gr.float4:case gr.float8:case gr.int2:case gr.int4:case gr.int8:case gr.numeric:case gr.oid:return vy(e);case gr.json:case gr.jsonb:return yy(e);case gr.timestamp:return _y(e);case gr.abstime:case gr.date:case gr.daterange:case gr.int4range:case gr.int8range:case gr.money:case gr.reltime:case gr.text:case gr.time:case gr.timestamptz:case gr.timetz:case gr.tsrange:case gr.tstzrange:return Lh(e);default:return Lh(e)}},Lh=t=>t,wy=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},vy=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},yy=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Ey=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let c;const d=t.slice(1,r);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(m=>k2(e,m))}return t},_y=t=>typeof t=="string"?t.replace(" ","T"):t,D2=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ch{constructor(e,r,i={},o=Mh){this.channel=e,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Vg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Vg||(Vg={}));class uu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:c,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=uu.syncState(this.state,o,c,d),this.pendingDiffs.forEach(w=>{this.state=uu.syncDiff(this.state,w,c,d)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},o=>{const{onJoin:c,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=uu.syncDiff(this.state,o,c,d),m())}),this.onJoin((o,c,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:d})}),this.onLeave((o,c,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,o){const c=this.cloneDeep(e),d=this.transformState(r),m={},w={};return this.map(c,(x,E)=>{d[x]||(w[x]=E)}),this.map(d,(x,E)=>{const A=c[x];if(A){const C=E.map(k=>k.presence_ref),N=A.map(k=>k.presence_ref),b=E.filter(k=>N.indexOf(k.presence_ref)<0),O=A.filter(k=>C.indexOf(k.presence_ref)<0);b.length>0&&(m[x]=b),O.length>0&&(w[x]=O)}else m[x]=E}),this.syncDiff(c,{joins:m,leaves:w},i,o)}static syncDiff(e,r,i,o){const{joins:c,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(c,(m,w)=>{var x;const E=(x=e[m])!==null&&x!==void 0?x:[];if(e[m]=this.cloneDeep(w),E.length>0){const A=e[m].map(N=>N.presence_ref),C=E.filter(N=>A.indexOf(N.presence_ref)<0);e[m].unshift(...C)}i(m,E,w)}),this.map(d,(m,w)=>{let x=e[m];if(!x)return;const E=w.map(A=>A.presence_ref);x=x.filter(A=>E.indexOf(A.presence_ref)<0),e[m]=x,o(m,x,w),x.length===0&&delete e[m]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const o=e[i];return"metas"in o?r[i]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[i]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Gg||(Gg={}));var cu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(cu||(cu={}));var Fs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fs||(Fs={}));class al{constructor(e,r={config:{}},i){var o,c;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=sn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ch(this,Ji.join,this.params,this.timeout),this.rejoinTimer=new b2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sn.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=sn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ji.reply,{},(d,m)=>{this._trigger(this._replyEventName(m),d)}),this.presence=new uu(this),this.broadcastEndpointURL=D2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==sn.closed){const{config:{broadcast:d,presence:m,private:w}}=this.params,x=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(N=>N.filter))!==null&&o!==void 0?o:[],E=!!this.bindings[cu.PRESENCE]&&this.bindings[cu.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,A={},C={broadcast:d,presence:Object.assign(Object.assign({},m),{enabled:E}),postgres_changes:x,private:w};this.socket.accessTokenValue&&(A.access_token=this.socket.accessTokenValue),this._onError(N=>e?.(Fs.CHANNEL_ERROR,N)),this._onClose(()=>e?.(Fs.CLOSED)),this.updateJoinPayload(Object.assign({config:C},A)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:N})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),N===void 0){e?.(Fs.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,k=(b=O?.length)!==null&&b!==void 0?b:0,K=[];for(let z=0;z<k;z++){const B=O[z],{filter:{event:Q,schema:Se,table:ve,filter:G}}=B,fe=N&&N[z];if(fe&&fe.event===Q&&al.isFilterValueEqual(fe.schema,Se)&&al.isFilterValueEqual(fe.table,ve)&&al.isFilterValueEqual(fe.filter,G))K.push(Object.assign(Object.assign({},B),{id:fe.id}));else{this.unsubscribe(),this.state=sn.errored,e?.(Fs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=K,e&&e(Fs.SUBSCRIBED);return}}).receive("error",N=>{this.state=sn.errored,e?.(Fs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{e?.(Fs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===sn.joined&&e===cu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let w=m.statusText;try{const x=await m.json();w=x.error||x.message||w}catch{}return Promise.reject(new Error(w))}async send(e,r={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=e,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const w={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,w,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=x.body)===null||o===void 0?void 0:o.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,m,w;const x=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((w=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||w===void 0)&&w.ack)&&c("ok"),x.receive("ok",()=>c("ok")),x.receive("error",()=>c("error")),x.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=sn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ji.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new ch(this,Ji.leave,{},e),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=sn.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const o=new AbortController,c=setTimeout(()=>o.abort(),i),d=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(c),d}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ch(this,e,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>py){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var o,c;const d=e.toLocaleLowerCase(),{close:m,error:w,leave:x,join:E}=Ji;if(i&&[m,w,x,E].indexOf(d)>=0&&i!==this._joinRef())return;let C=this._onMessage(d,r,i);if(r&&!C)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(N=>{var b,O,k;return((b=N.filter)===null||b===void 0?void 0:b.event)==="*"||((k=(O=N.filter)===null||O===void 0?void 0:O.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===d}).map(N=>N.callback(C,i)):(c=this.bindings[d])===null||c===void 0||c.filter(N=>{var b,O,k,K,z,B;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in N){const Q=N.id,Se=(b=N.filter)===null||b===void 0?void 0:b.event;return Q&&((O=r.ids)===null||O===void 0?void 0:O.includes(Q))&&(Se==="*"||Se?.toLocaleLowerCase()===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const Q=(z=(K=N?.filter)===null||K===void 0?void 0:K.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return Q==="*"||Q===((B=r?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===d}).map(N=>{if(typeof C=="object"&&"ids"in C){const b=C.data,{schema:O,table:k,commit_timestamp:K,type:z,errors:B}=b;C=Object.assign(Object.assign({},{schema:O,table:k,commit_timestamp:K,eventType:z,new:{},old:{},errors:B}),this._getPayloadRecords(b))}N.callback(C,i)})}_isClosed(){return this.state===sn.closed}_isJoined(){return this.state===sn.joined}_isJoining(){return this.state===sn.joining}_isLeaving(){return this.state===sn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const o=e.toLocaleLowerCase(),c={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&al.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ji.close,{},e)}_onError(e){this._on(Ji.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Wg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Wg(e.columns,e.old_record)),r}}const fh=()=>{},zc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ay=[1e3,2e3,5e3,1e4],Sy=1e4,Ty=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cy{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mh,this.transport=null,this.heartbeatIntervalMs=zc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fh,this.ref=0,this.reconnectTimer=null,this.vsn=zg,this.logger=fh,this.conn=null,this.sendBuffer=[],this.serializer=new xy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ph.websocket}`,this.httpEndpoint=D2(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cy.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ea.connecting:return ao.Connecting;case Ea.open:return ao.Open;case Ea.closing:return ao.Closing;default:return ao.Closed}}isConnected(){return this.connectionState()===ao.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(c=>c.topic===i);if(o)return o;{const c=new al(`realtime:${e}`,r,this);return this.channels.push(c),c}}push(e){const{topic:r,event:i,payload:o,ref:c}=e,d=()=>{this.encode(e,m=>{var w;(w=this.conn)===null||w===void 0||w.send(m)})};this.log("push",`${r} ${i} (${c})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(gy,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},zc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(x){this.log("error","error in heartbeat callback",x)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:c,ref:d}=r,m=d?`(${d})`:"",w=c.status||"";this.log("receive",`${w} ${i} ${o} ${m}`.trim(),c),this.channels.filter(x=>x._isMember(i)).forEach(x=>x._trigger(o,c,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ea.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ea.open||this.conn.readyState===Ea.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ji.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${i}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([Ty],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,i=!1;if(e)r=e,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const c={access_token:r,version:hy};r&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Ji.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new b2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,o,c,d,m,w,x,E,A,C,N;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Mh,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:zc.HEARTBEAT_INTERVAL,this.worker=(c=e?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=e?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(m=e?.heartbeatCallback)!==null&&m!==void 0?m:fh,this.vsn=(w=e?.vsn)!==null&&w!==void 0?w:zg,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=e?.reconnectAfterMs)!==null&&x!==void 0?x:(b=>Ay[b-1]||Sy),this.vsn){case R2:this.encode=(E=e?.encode)!==null&&E!==void 0?E:((b,O)=>O(JSON.stringify(b))),this.decode=(A=e?.decode)!==null&&A!==void 0?A:((b,O)=>O(JSON.parse(b)));break;case dy:this.encode=(C=e?.encode)!==null&&C!==void 0?C:this.serializer.encode.bind(this.serializer),this.decode=(N=e?.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var vu=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Iy(t,e,r){const i=new URL(e,t);if(r)for(const[o,c]of Object.entries(r))c!==void 0&&i.searchParams.set(o,c);return i.toString()}async function Oy(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Ny(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:o,body:c,headers:d}){const m=Iy(t.baseUrl,i,o),w=await Oy(t.auth),x=await e(m,{method:r,headers:{...c?{"Content-Type":"application/json"}:{},...w,...d},body:c?JSON.stringify(c):void 0}),E=await x.text(),A=(x.headers.get("content-type")||"").includes("application/json"),C=A&&E?JSON.parse(E):E;if(!x.ok){const N=A?C:void 0,b=N?.error;throw new vu(b?.message??`Request failed with status ${x.status}`,{status:x.status,icebergType:b?.type,icebergCode:b?.code,details:N})}return{status:x.status,headers:x.headers,data:C}}}}function Wc(t){return t.join("")}var Ry=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Wc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wc(t.namespace)}`}),!0}catch(e){if(e instanceof vu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof vu&&r.status===409)return;throw r}}};function Yo(t){return t.join("")}var by=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yo(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof vu&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof vu&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},ky=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Ny({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new Ry(this.client,e),this.tableOps=new by(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},I0=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Or(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Dy=class extends I0{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fh=class extends I0{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const n1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),My=()=>Response,Bh=t=>{if(Array.isArray(t))return t.map(r=>Bh(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[o]=Bh(i)}),e},Py=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ly=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function Fy(t,e){if(yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(yu(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function By(t){var e=Fy(t,"string");return yu(e)=="symbol"?e:e+""}function Uy(t,e,r){return(e=By(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,i)}return r}function At(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xg(Object(r),!0).forEach(function(i){Uy(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xg(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const hh=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},jy=async(t,e,r)=>{t instanceof await My()&&!r?.noResolveJson?t.json().then(i=>{const o=t.status||500,c=i?.statusCode||o+"";e(new Dy(hh(i),o,c))}).catch(i=>{e(new Fh(hh(i),i))}):e(new Fh(hh(t),t))},Hy=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!i?o:(Py(i)?(o.headers=At({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,e?.duplex&&(o.duplex=e.duplex),At(At({},o),r))};async function ku(t,e,r,i,o,c){return new Promise((d,m)=>{t(r,Hy(e,i,o,c)).then(w=>{if(!w.ok)throw w;return i?.noResolveJson?w:w.json()}).then(w=>d(w)).catch(w=>jy(w,m,i))})}async function Eu(t,e,r,i){return ku(t,"GET",e,r,i)}async function Zi(t,e,r,i,o){return ku(t,"POST",e,i,o,r)}async function Uh(t,e,r,i,o){return ku(t,"PUT",e,i,o,r)}async function zy(t,e,r,i){return ku(t,"HEAD",e,At(At({},r),{},{noResolveJson:!0}),i)}async function i1(t,e,r,i,o){return ku(t,"DELETE",e,i,o,r)}var Wy=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Or(e))return{data:null,error:e};throw e}}};let M2;M2=Symbol.toStringTag;var Vy=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[M2]="BlobDownloadBuilder",this.promise=null}asStream(){return new Wy(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Or(e))return{data:null,error:e};throw e}}};const Gy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Xy=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=n1(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,i){var o=this;try{let c;const d=At(At({},Yg),i);let m=At(At({},o.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const w=d.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),w&&c.append("metadata",o.encodeMetadata(w)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.has("cacheControl")||c.append("cacheControl",d.cacheControl),w&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(w))):(c=r,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,w&&(m["x-metadata"]=o.toBase64(o.encodeMetadata(w))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!d.duplex&&(d.duplex="half")),i?.headers&&(m=At(At({},m),i.headers));const x=o._removeEmptyFolders(e),E=o._getFinalPath(x),A=await(t=="PUT"?Uh:Zi)(o.fetch,`${o.url}/object/${E}`,c,At({headers:m},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:x,id:A.Id,fullPath:A.Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Or(c))return{data:null,error:c};throw c}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,i){var o=this;const c=o._removeEmptyFolders(t),d=o._getFinalPath(c),m=new URL(o.url+`/object/upload/sign/${d}`);m.searchParams.set("token",e);try{let w;const x=At({upsert:Yg.upsert},i),E=At(At({},o.headers),{"x-upsert":String(x.upsert)});return typeof Blob<"u"&&r instanceof Blob?(w=new FormData,w.append("cacheControl",x.cacheControl),w.append("",r)):typeof FormData<"u"&&r instanceof FormData?(w=r,w.append("cacheControl",x.cacheControl)):(w=r,E["cache-control"]=`max-age=${x.cacheControl}`,E["content-type"]=x.contentType),{data:{path:c,fullPath:(await Uh(o.fetch,m.toString(),w,{headers:E})).Key},error:null}}catch(w){if(o.shouldThrowOnError)throw w;if(Or(w))return{data:null,error:w};throw w}}async createSignedUploadUrl(t,e){var r=this;try{let i=r._getFinalPath(t);const o=At({},r.headers);e?.upsert&&(o["x-upsert"]="true");const c=await Zi(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:o}),d=new URL(r.url+c.url),m=d.searchParams.get("token");if(!m)throw new I0("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:m},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Or(i))return{data:null,error:i};throw i}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var i=this;try{return{data:await Zi(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:i.headers}),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Or(o))return{data:null,error:o};throw o}}async copy(t,e,r){var i=this;try{return{data:{path:(await Zi(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Or(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,r){var i=this;try{let o=i._getFinalPath(t),c=await Zi(i.fetch,`${i.url}/object/sign/${o}`,At({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:i.headers});const d=r?.download?`&download=${r.download===!0?"":r.download}`:"";return c={signedUrl:encodeURI(`${i.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Or(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,r){var i=this;try{const o=await Zi(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(d=>At(At({},d),{},{signedUrl:d.signedURL?encodeURI(`${i.url}${d.signedURL}${c}`):null})),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Or(o))return{data:null,error:o};throw o}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),o=i?`?${i}`:"",c=this._getFinalPath(t),d=()=>Eu(this.fetch,`${this.url}/${r}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new Vy(d,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Bh(await Eu(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Or(i))return{data:null,error:i};throw i}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await zy(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Or(i)&&i instanceof Fh){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const r=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);const c=typeof e?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(e?.transform||{});d!==""&&i.push(d);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${m}`)}}}async remove(t){var e=this;try{return{data:await i1(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}}async list(t,e,r){var i=this;try{const o=At(At(At({},Gy),e),{},{prefix:t||""});return{data:await Zi(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},r),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Or(o))return{data:null,error:o};throw o}}async listV2(t,e){var r=this;try{const i=At({},t);return{data:await Zi(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},e),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Or(i))return{data:null,error:i};throw i}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const P2="2.88.0",L2={"X-Client-Info":`storage-js/${P2}`};var Yy=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=At(At({},L2),e),this.fetch=n1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Eu(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Eu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Zi(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Or(i))return{data:null,error:i};throw i}}async updateBucket(t,e){var r=this;try{return{data:await Uh(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Or(i))return{data:null,error:i};throw i}}async emptyBucket(t){var e=this;try{return{data:await Zi(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await i1(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Ky=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=At(At({},L2),e),this.fetch=n1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Zi(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const i=r.toString(),o=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await Eu(e.fetch,o,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await i1(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!Ly(t))throw new I0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ky({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(o,c){const d=o[c];return typeof d!="function"?d:async(...m)=>{try{return{data:await d.apply(o,m),error:null}}catch(w){if(i)throw w;return{data:null,error:w}}}}})}};const s1={"X-Client-Info":`storage-js/${P2}`,"Content-Type":"application/json"};var F2=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function vi(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var dh=class extends F2{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$y=class extends F2{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const a1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Kg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qy=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(c=>{const d=c?.statusCode||c?.code||i+"";e(new dh(Kg(c),i,d))}).catch(()=>{const c=i+"";e(new dh(o.statusText||`HTTP ${i} error`,i,c))});else{const c=i+"";e(new dh(o.statusText||`HTTP ${i} error`,i,c))}}else e(new $y(Kg(t),t))},Zy=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return i?(qy(i)?(o.headers=At({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,At(At({},o),r)):o};async function Jy(t,e,r,i,o,c){return new Promise((d,m)=>{t(r,Zy(e,i,o,c)).then(w=>{if(!w.ok)throw w;if(i?.noResolveJson)return w;const x=w.headers.get("content-type");return!x||!x.includes("application/json")?{}:w.json()}).then(w=>d(w)).catch(w=>Qy(w,m,i))})}async function yi(t,e,r,i,o){return Jy(t,"POST",e,i,o,r)}var eE=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=At(At({},s1),e),this.fetch=a1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await yi(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(vi(i))return{data:null,error:i};throw i}}async listIndexes(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await yi(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(vi(i))return{data:null,error:i};throw i}}},tE=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=At(At({},s1),e),this.fetch=a1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await yi(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await yi(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await yi(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}},rE=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=At(At({},s1),e),this.fetch=a1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await yi(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}},nE=class extends rE{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new iE(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},iE=class extends eE{constructor(t,e,r,i){super(t,e,i),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,At(At({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,At(At({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new sE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},sE=class extends tE{constructor(t,e,r,i,o){super(t,e,o),this.vectorBucketName=r,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,At(At({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,At(At({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,At(At({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,At(At({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,At(At({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},aE=class extends Yy{constructor(t,e={},r,i){super(t,e,r,i)}from(t){return new Xy(this.url,this.headers,t,this.fetch)}get vectors(){return new nE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ky(this.url+"/iceberg",this.headers,this.fetch)}};const B2="2.88.0",nl=30*1e3,jh=3,gh=jh*nl,oE="http://localhost:9999",lE="supabase.auth.token",uE={"X-Client-Info":`gotrue-js/${B2}`},Hh="X-Supabase-Api-Version",U2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fE=600*1e3;class _u extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function dt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class hE extends _u{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function dE(t){return dt(t)&&t.name==="AuthApiError"}class oo extends _u{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Xs extends _u{constructor(e,r,i,o){super(e,i,o),this.name=r,this.status=i}}class hi extends Xs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gE(t){return dt(t)&&t.name==="AuthSessionMissingError"}class Ko extends Xs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vc extends Xs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Gc extends Xs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pE(t){return dt(t)&&t.name==="AuthImplicitGrantRedirectError"}class $g extends Xs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xE extends Xs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class zh extends Xs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ph(t){return dt(t)&&t.name==="AuthRetryableFetchError"}class qg extends Xs{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Wh extends Xs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const r0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qg=` 	
\r=`.split(""),mE=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Qg.length;e+=1)t[Qg[e].charCodeAt(0)]=-2;for(let e=0;e<r0.length;e+=1)t[r0[e].charCodeAt(0)]=e;return t})();function Zg(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(r0[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(r0[i]),e.queuedBits-=6}}function j2(t,e,r){const i=mE[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Jg(t){const e=[],r=d=>{e.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=d=>{yE(d,i,r)};for(let d=0;d<t.length;d+=1)j2(t.charCodeAt(d),o,c);return e.join("")}function wE(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function vE(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}wE(i,e)}}function yE(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function cl(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)j2(t.charCodeAt(o),r,i);return new Uint8Array(e)}function EE(t){const e=[];return vE(t,r=>e.push(r)),new Uint8Array(e)}function uo(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>Zg(o,r,i)),Zg(null,r,i),e.join("")}function _E(t){return Math.round(Date.now()/1e3)+t}function AE(){return Symbol("auth-callback")}const Sn=()=>typeof window<"u"&&typeof document<"u",no={tested:!1,writable:!1},H2=()=>{if(!Sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(no.tested)return no.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),no.tested=!0,no.writable=!0}catch{no.tested=!0,no.writable=!1}return no.writable};function SE(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,c)=>{e[c]=o})}catch{}return r.searchParams.forEach((i,o)=>{e[o]=i}),e}const z2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),TE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",il=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},io=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},An=async(t,e)=>{await t.removeItem(e)};class O0{constructor(){this.promise=new O0.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}O0.promiseConstructor=Promise;function xh(t){const e=t.split(".");if(e.length!==3)throw new Wh("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!cE.test(e[i]))throw new Wh("JWT not in base64url format");return{header:JSON.parse(Jg(e[0])),payload:JSON.parse(Jg(e[1])),signature:cl(e[2]),raw:{header:e[0],payload:e[1]}}}async function CE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function IE(t,e){return new Promise((i,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await t(c);if(!e(c,null,d)){i(d);return}}catch(d){if(!e(c,d)){o(d);return}}})()})}function OE(t){return("0"+t.toString(16)).substr(-2)}function NE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let c=0;c<56;c++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,OE).join("")}async function RE(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function bE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await RE(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $o(t,e,r=!1){const i=NE();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await il(t,`${e}-code-verifier`,o);const c=await bE(i);return[c,i===c?"plain":"s256"]}const kE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DE(t){const e=t.headers.get(Hh);if(!e||!e.match(kE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ME(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function PE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qo(t){if(!LE.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mh(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function FE(t,e){return new Proxy(t,{get:(r,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const c=i.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,o)}})}function ep(t){return JSON.parse(JSON.stringify(t))}const so=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),BE=[502,503,504];async function tp(t){var e;if(!TE(t))throw new zh(so(t),0);if(BE.includes(t.status))throw new zh(so(t),t.status);let r;try{r=await t.json()}catch(c){throw new oo(so(c),c)}let i;const o=DE(t);if(o&&o.getTime()>=U2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new qg(so(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new hi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new qg(so(r),t.status,r.weak_password.reasons);throw new hE(so(r),t.status||500,i)}const UE=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function _t(t,e,r,i){var o;const c=Object.assign({},i?.headers);c[Hh]||(c[Hh]=U2["2024-01-01"].name),i?.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const d=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(d.redirect_to=i.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",w=await jE(t,e,r+m,{headers:c,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(w):{data:Object.assign({},w),error:null}}async function jE(t,e,r,i,o,c){const d=UE(e,i,o,c);let m;try{m=await t(r,Object.assign({},d))}catch(w){throw console.error(w),new zh(so(w),0)}if(m.ok||await tp(m),i?.noResolveJson)return m;try{return await m.json()}catch(w){await tp(w)}}function Qi(t){var e;let r=null;WE(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=_E(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function rp(t){const e=Qi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _a(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function HE(t){return{data:t,error:null}}function zE(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:c}=t,d=C0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:c},w=Object.assign({},d);return{data:{properties:m,user:w},error:null}}function np(t){return t}function WE(t){return t.access_token&&t.refresh_token&&t.expires_in}const wh=["global","local","others"];class VE{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=z2(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=wh[0]){if(wh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wh.join(", ")}`);try{return await _t(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(dt(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await _t(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_a})}catch(i){if(dt(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=C0(e,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await _t(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:zE,redirectTo:r?.redirectTo})}catch(r){if(dt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await _t(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_a})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,o,c,d,m,w;try{const x={nextPage:null,lastPage:0,total:0},E=await _t(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:np});if(E.error)throw E.error;const A=await E.json(),C=(d=E.headers.get("x-total-count"))!==null&&d!==void 0?d:0,N=(w=(m=E.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&w!==void 0?w:[];return N.length>0&&(N.forEach(b=>{const O=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);x[`${k}Page`]=O}),x.total=parseInt(C)),{data:Object.assign(Object.assign({},A),x),error:null}}catch(x){if(dt(x))return{data:{users:[]},error:x};throw x}}async getUserById(e){qo(e);try{return await _t(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_a})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){qo(e);try{return await _t(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:_a})}catch(i){if(dt(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){qo(e);try{return await _t(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:_a})}catch(i){if(dt(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){qo(e.userId);try{const{data:r,error:i}=await _t(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){qo(e.userId),qo(e.id);try{return{data:await _t(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,o,c,d,m,w;try{const x={nextPage:null,lastPage:0,total:0},E=await _t(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:np});if(E.error)throw E.error;const A=await E.json(),C=(d=E.headers.get("x-total-count"))!==null&&d!==void 0?d:0,N=(w=(m=E.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&w!==void 0?w:[];return N.length>0&&(N.forEach(b=>{const O=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);x[`${k}Page`]=O}),x.total=parseInt(C)),{data:Object.assign(Object.assign({},A),x),error:null}}catch(x){if(dt(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(e){try{return await _t(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await _t(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await _t(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(dt(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await _t(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await _t(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}}function ip(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Qo={debug:!!(globalThis&&H2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class W2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class GE extends W2{}async function XE(t,e,r){Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new GE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Qo.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function YE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function V2(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function KE(t){return parseInt(t,16)}function $E(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function qE(t){var e;const{chainId:r,domain:i,expirationTime:o,issuedAt:c=new Date,nonce:d,notBefore:m,requestId:w,resources:x,scheme:E,uri:A,version:C}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!A)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(C!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${C}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const N=V2(t.address),b=E?`${E}://${i}`:i,O=t.statement?`${t.statement}
`:"",k=`${b} wants you to sign in with your Ethereum account:
${N}

${O}`;let K=`URI: ${A}
Version: ${C}
Chain ID: ${r}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(o&&(K+=`
Expiration Time: ${o.toISOString()}`),m&&(K+=`
Not Before: ${m.toISOString()}`),w&&(K+=`
Request ID: ${w}`),x){let z=`
Resources:`;for(const B of x){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);z+=`
- ${B}`}K+=z}return`${k}
${K}`}class $r extends Error{constructor({message:e,code:r,cause:i,name:o}){var c;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(c=o??(i instanceof Error?i.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class n0 extends $r{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function QE({error:t,options:e}){var r,i,o;const{publicKey:c}=e;if(!c)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $r({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new $r({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=c.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new $r({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new $r({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new $r({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new $r({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new $r({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new $r({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const d=window.location.hostname;if(G2(d)){if(c.rp.id!==d)return new $r({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new $r({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new $r({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ZE({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $r({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new $r({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(G2(i)){if(r.rpId!==i)return new $r({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new $r({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class JE{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const e_=new JE;function t_(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,o=C0(t,["challenge","user","excludeCredentials"]),c=cl(e).buffer,d=Object.assign(Object.assign({},r),{id:cl(r.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:c,user:d});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let w=0;w<i.length;w++){const x=i[w];m.excludeCredentials[w]=Object.assign(Object.assign({},x),{id:cl(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return m}function r_(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=C0(t,["challenge","allowCredentials"]),o=cl(e).buffer,c=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const m=r[d];c.allowCredentials[d]=Object.assign(Object.assign({},m),{id:cl(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function n_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:uo(new Uint8Array(t.response.attestationObject)),clientDataJSON:uo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function i_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:uo(new Uint8Array(o.authenticatorData)),clientDataJSON:uo(new Uint8Array(o.clientDataJSON)),signature:uo(new Uint8Array(o.signature)),userHandle:o.userHandle?uo(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function G2(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function sp(){var t,e;return!!(Sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function s_(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new n0("Browser returned unexpected credential type",e)}:{data:null,error:new n0("Empty credential response",e)}}catch(e){return{data:null,error:QE({error:e,options:t})}}}async function a_(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new n0("Browser returned unexpected credential type",e)}:{data:null,error:new n0("Empty credential response",e)}}catch(e){return{data:null,error:ZE({error:e,options:t})}}}const o_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},l_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function i0(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of t)if(o)for(const c in o){const d=o[c];if(d!==void 0)if(Array.isArray(d))i[c]=d;else if(r(d))i[c]=d;else if(e(d)){const m=i[c];e(m)?i[c]=i0(m,d):i[c]=i0(d)}else i[c]=d}return i}function u_(t,e){return i0(o_,t,e||{})}function c_(t,e){return i0(l_,t,e||{})}class f_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:o},c){try{const{data:d,error:m}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!d)return{data:null,error:m};const w=o??e_.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:x}=d.webauthn.credential_options.publicKey;x.name||(x.name=`${x.id}:${i}`),x.displayName||(x.displayName=x.name)}switch(d.webauthn.type){case"create":{const x=u_(d.webauthn.credential_options.publicKey,c?.create),{data:E,error:A}=await s_({publicKey:x,signal:w});return E?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:E}},error:null}:{data:null,error:A}}case"request":{const x=c_(d.webauthn.credential_options.publicKey,c?.request),{data:E,error:A}=await a_(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:x,signal:w}));return E?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:E}},error:null}:{data:null,error:A}}}}catch(d){return dt(d)?{data:null,error:d}:{data:null,error:new oo("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new _u("rpId is required for WebAuthn authentication")};try{if(!sp())return{data:null,error:new oo("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:c});if(!d)return{data:null,error:m};const{webauthn:w}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:w.type,rpId:r,rpOrigins:i,credential_response:w.credential_response}})}catch(d){return dt(d)?{data:null,error:d}:{data:null,error:new oo("Unexpected error in authenticate",d)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new _u("rpId is required for WebAuthn registration")};try{if(!sp())return{data:null,error:new oo("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this._enroll({friendlyName:e});if(!d)return await this.client.mfa.listFactors().then(E=>{var A;return(A=E.data)===null||A===void 0?void 0:A.all.find(C=>C.factor_type==="webauthn"&&C.friendly_name===e&&C.status!=="unverified")}).then(E=>E?this.client.mfa.unenroll({factorId:E?.id}):void 0),{data:null,error:m};const{data:w,error:x}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:c});return w?this._verify({factorId:d.id,challengeId:w.challengeId,webauthn:{rpId:r,rpOrigins:i,type:w.webauthn.type,credential_response:w.webauthn.credential_response}}):{data:null,error:x}}catch(d){return dt(d)?{data:null,error:d}:{data:null,error:new oo("Unexpected error in register",d)}}}}YE();const h_={url:oE,storageKey:lE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ap(t,e,r){return await r()}const Zo={};class Au{get jwks(){var e,r;return(r=(e=Zo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Zo[this.storageKey]=Object.assign(Object.assign({},Zo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Zo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Zo[this.storageKey]=Object.assign(Object.assign({},Zo[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},h_),e);if(this.storageKey=c.storageKey,this.instanceID=(r=Au.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Au.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Sn()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new VE({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=z2(c.fetch),this.lock=c.lock||ap,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&Sn()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=XE:this.lock=ap,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new f_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:H2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ip(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=ip(this.memoryStorage)),Sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${B2}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(Sn()&&(r=SE(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Sn()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:c}=await this._getSessionFromURL(r,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),pE(c)){const w=(e=c.details)===null||e===void 0?void 0:e.code;if(w==="identity_already_exists"||w==="identity_not_found"||w==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return dt(r)?this._returnResult({error:r}):this._returnResult({error:new oo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,o;try{const c=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Qi}),{data:d,error:m}=c;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const w=d.session,x=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",w)),this._returnResult({data:{user:x,session:w},error:null})}catch(c){if(dt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(e){var r,i,o;try{let c;if("email"in e){const{email:E,password:A,options:C}=e;let N=null,b=null;this.flowType==="pkce"&&([N,b]=await $o(this.storage,this.storageKey)),c=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:C?.emailRedirectTo,body:{email:E,password:A,data:(r=C?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:C?.captchaToken},code_challenge:N,code_challenge_method:b},xform:Qi})}else if("phone"in e){const{phone:E,password:A,options:C}=e;c=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:E,password:A,data:(i=C?.data)!==null&&i!==void 0?i:{},channel:(o=C?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:C?.captchaToken}},xform:Qi})}else throw new Vc("You must provide either an email or phone number and a password");const{data:d,error:m}=c;if(m||!d)return await An(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const w=d.session,x=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",w)),this._returnResult({data:{user:x,session:w},error:null})}catch(c){if(await An(this.storage,`${this.storageKey}-code-verifier`),dt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(e){try{let r;if("email"in e){const{email:c,password:d,options:m}=e;r=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:rp})}else if("phone"in e){const{phone:c,password:d,options:m}=e;r=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:rp})}else throw new Vc("You must provide either an email or phone number and a password");const{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const c=new Ko;return this._returnResult({data:{user:null,session:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,o,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,o,c,d,m,w,x,E,A,C;let N,b;if("message"in e)N=e.message,b=e.signature;else{const{chain:O,wallet:k,statement:K,options:z}=e;let B;if(Sn())if(typeof k=="object")B=k;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")B=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=k}const Q=new URL((r=z?.url)!==null&&r!==void 0?r:window.location.href),Se=await B.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Se||Se.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ve=V2(Se[0]);let G=(i=z?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!G){const Z=await B.request({method:"eth_chainId"});G=KE(Z)}const fe={domain:Q.host,address:ve,statement:K,uri:Q.href,version:"1",chainId:G,nonce:(o=z?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(c=z?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(m=z?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(w=z?.signInWithEthereum)===null||w===void 0?void 0:w.notBefore,requestId:(x=z?.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(E=z?.signInWithEthereum)===null||E===void 0?void 0:E.resources};N=qE(fe),b=await B.request({method:"personal_sign",params:[$E(N),ve]})}try{const{data:O,error:k}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:b},!((A=e.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Qi});if(k)throw k;if(!O||!O.session||!O.user){const K=new Ko;return this._returnResult({data:{user:null,session:null},error:K})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:k})}catch(O){if(dt(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(e){var r,i,o,c,d,m,w,x,E,A,C,N;let b,O;if("message"in e)b=e.message,O=e.signature;else{const{chain:k,wallet:K,statement:z,options:B}=e;let Q;if(Sn())if(typeof K=="object")Q=K;else{const ve=window;if("solana"in ve&&typeof ve.solana=="object"&&("signIn"in ve.solana&&typeof ve.solana.signIn=="function"||"signMessage"in ve.solana&&typeof ve.solana.signMessage=="function"))Q=ve.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof K!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=K}const Se=new URL((r=B?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Q&&Q.signIn){const ve=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:Se.host,uri:Se.href}),z?{statement:z}:null));let G;if(Array.isArray(ve)&&ve[0]&&typeof ve[0]=="object")G=ve[0];else if(ve&&typeof ve=="object"&&"signedMessage"in ve&&"signature"in ve)G=ve;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)b=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),O=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${Se.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${Se.href}`,`Issued At: ${(o=(i=B?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=B?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((d=B?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((m=B?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((w=B?.signInWithSolana)===null||w===void 0)&&w.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((x=B?.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((A=(E=B?.signInWithSolana)===null||E===void 0?void 0:E.resources)===null||A===void 0)&&A.length?["Resources",...B.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const ve=await Q.signMessage(new TextEncoder().encode(b),"utf8");if(!ve||!(ve instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=ve}}try{const{data:k,error:K}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:uo(O)},!((C=e.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(N=e.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:Qi});if(K)throw K;if(!k||!k.session||!k.user){const z=new Ko;return this._returnResult({data:{user:null,session:null},error:z})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:K})}catch(k){if(dt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const r=await io(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new xE;const{data:c,error:d}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Qi});if(await An(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!c||!c.session||!c.user){const m=new Ko;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:d})}catch(c){if(await An(this.storage,`${this.storageKey}-code-verifier`),dt(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(e){try{const{options:r,provider:i,token:o,access_token:c,nonce:d}=e,m=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Qi}),{data:w,error:x}=m;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!w||!w.session||!w.user){const E=new Ko;return this._returnResult({data:{user:null,session:null},error:E})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:w,error:x})}catch(r){if(dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,o,c,d;try{if("email"in e){const{email:m,options:w}=e;let x=null,E=null;this.flowType==="pkce"&&([x,E]=await $o(this.storage,this.storageKey));const{error:A}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=w?.data)!==null&&r!==void 0?r:{},create_user:(i=w?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:x,code_challenge_method:E},redirectTo:w?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:A})}if("phone"in e){const{phone:m,options:w}=e,{data:x,error:E}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=w?.data)!==null&&o!==void 0?o:{},create_user:(c=w?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:w?.captchaToken},channel:(d=w?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x?.message_id},error:E})}throw new Vc("You must provide either an email or phone number.")}catch(m){if(await An(this.storage,`${this.storageKey}-code-verifier`),dt(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(e){var r,i;try{let o,c;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,c=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:m}=await _t(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Qi});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const w=d.session,x=d.user;return w?.access_token&&(await this._saveSession(w),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",w)),this._returnResult({data:{user:x,session:w},error:null})}catch(o){if(dt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,i,o,c,d;try{let m=null,w=null;this.flowType==="pkce"&&([m,w]=await $o(this.storage,this.storageKey));const x=await _t(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:w}),headers:this.headers,xform:HE});return!((c=x.data)===null||c===void 0)&&c.url&&Sn()&&!(!((d=e.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(m){if(await An(this.storage,`${this.storageKey}-code-verifier`),dt(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new hi;const{error:o}=await _t(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(dt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:c}=e,{error:d}=await _t(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in e){const{phone:i,type:o,options:c}=e,{data:d,error:m}=await _t(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:m})}throw new Vc("You must provide either an email or phone number and a type")}catch(r){if(dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await io(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<gh:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const d=await io(this.userStorage,this.storageKey+"-user");d?.user?e.user=d.user:e.user=mh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};e.user=FE(e.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_a}):await this._useSession(async r=>{var i,o,c;const{data:d,error:m}=r;if(m)throw m;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hi}:await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:_a})})}catch(r){if(dt(r))return gE(r)&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:o,error:c}=i;if(c)throw c;if(!o.session)throw new hi;const d=o.session;let m=null,w=null;this.flowType==="pkce"&&e.email!=null&&([m,w]=await $o(this.storage,this.storageKey));const{data:x,error:E}=await _t(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:m,code_challenge_method:w}),jwt:d.access_token,xform:_a});if(E)throw E;return d.user=x.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(i){if(await An(this.storage,`${this.storageKey}-code-verifier`),dt(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new hi;const r=Date.now()/1e3;let i=r,o=!0,c=null;const{payload:d}=xh(e.access_token);if(d.exp&&(i=d.exp,o=i<=r),o){const{data:m,error:w}=await this._callRefreshToken(e.refresh_token);if(w)return this._returnResult({data:{user:null,session:null},error:w});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:w}=await this._getUser(e.access_token);if(w)throw w;c={access_token:e.access_token,refresh_token:e.refresh_token,user:m.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(r){if(dt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:d,error:m}=r;if(m)throw m;e=(i=d.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new hi;const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Sn())throw new Gc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Gc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $g("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $g("No code detected.");const{data:z,error:B}=await this._exchangeCodeForSession(e.code);if(B)throw B;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:c,refresh_token:d,expires_in:m,expires_at:w,token_type:x}=e;if(!c||!m||!d||!x)throw new Gc("No session defined in URL");const E=Math.round(Date.now()/1e3),A=parseInt(m);let C=E+A;w&&(C=parseInt(w));const N=C-E;N*1e3<=nl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${A}s`);const b=C-A;E-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,C,E):E-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,C,E);const{data:O,error:k}=await this._getUser(c);if(k)throw k;const K={provider_token:i,provider_refresh_token:o,access_token:c,expires_in:A,expires_at:C,refresh_token:d,token_type:x,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:K,redirectType:e.type},error:null})}catch(i){if(dt(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await io(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:c}=r;if(c)return this._returnResult({error:c});const d=(i=o.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:m}=await this.admin.signOut(d,e);if(m&&!(dE(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return e!=="others"&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=AE(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{const{data:{session:c},error:d}=r;if(d)throw d;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await $o(this.storage,this.storageKey,!0));try{return await _t(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(await An(this.storage,`${this.storageKey}-code-verifier`),dt(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:o}=await this._useSession(async c=>{var d,m,w,x,E;const{data:A,error:C}=c;if(C)throw C;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=e.options)===null||m===void 0?void 0:m.scopes,queryParams:(w=e.options)===null||w===void 0?void 0:w.queryParams,skipBrowserRedirect:!0});return await _t(this.fetch,"GET",N,{headers:this.headers,jwt:(E=(x=A.session)===null||x===void 0?void 0:x.access_token)!==null&&E!==void 0?E:void 0})});if(o)throw o;return Sn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(dt(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:c}}=r;if(o)throw o;const{options:d,provider:m,token:w,access_token:x,nonce:E}=e,A=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=c?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:w,access_token:x,nonce:E,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Qi}),{data:C,error:N}=A;return N?this._returnResult({data:{user:null,session:null},error:N}):!C||!C.session||!C.user?this._returnResult({data:{user:null,session:null},error:new Ko}):(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("USER_UPDATED",C.session)),this._returnResult({data:C,error:N}))}catch(o){if(await An(this.storage,`${this.storageKey}-code-verifier`),dt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;const{data:c,error:d}=r;if(d)throw d;return await _t(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await IE(async o=>(o>0&&await CE(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await _t(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qi})),(o,c)=>{const d=200*Math.pow(2,o);return c&&ph(c)&&Date.now()+d-i<nl})}catch(i){if(this._debug(r,"error",i),dt(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Sn()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await io(this.storage,this.storageKey);if(o&&this.userStorage){let d=await io(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await il(this.userStorage,this.storageKey+"-user",d)),o.user=(e=d?.user)!==null&&e!==void 0?e:mh()}else if(o&&!o.user&&!o.user){const d=await io(this.storage,this.storageKey+"-user");d&&d?.user?(o.user=d.user,await An(this.storage,this.storageKey+"-user"),await il(this.storage,this.storageKey,o)):o.user=mh()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const c=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<gh;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${gh}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),ph(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(o.access_token);!m&&d?.user?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new hi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new O0;const{data:c,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!c.session)throw new hi;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),dt(c)){const d={data:null,error:c};return ph(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(e,r)}catch(w){c.push(w)}});if(await Promise.all(d),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await An(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await il(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const c=ep(o);await il(this.storage,this.storageKey,c)}else{const o=ep(r);await il(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await An(this.storage,this.storageKey),await An(this.storage,this.storageKey+"-code-verifier"),await An(this.storage,this.storageKey+"-user"),this.userStorage&&await An(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Sn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),nl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/nl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${nl}ms, refresh threshold is ${jh} ticks`),o<=jh&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof W2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,d]=await $o(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(m.toString())}if(i?.queryParams){const c=new URLSearchParams(i.queryParams);o.push(c.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:o,error:c}=r;return c?this._returnResult({data:null,error:c}):await _t(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;const{data:c,error:d}=r;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:w,error:x}=await _t(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return x?this._returnResult({data:null,error:x}):(e.factorType==="totp"&&w.type==="totp"&&(!((o=w?.totp)===null||o===void 0)&&o.qr_code)&&(w.totp.qr_code=`data:image/svg+xml;utf-8,${w.totp.qr_code}`),this._returnResult({data:w,error:null}))})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?n_(e.webauthn.credential_response):i_(e.webauthn.credential_response)})}:{code:e.code}),{data:m,error:w}=await _t(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:d,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return w?this._returnResult({data:null,error:w}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:w}))})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const d=await _t(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(d.error)return d;const{data:m}=d;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:t_(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:r_(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=xh(i.access_token);let d=null;c.aal&&(d=c.aal);let m=d;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(E=>E.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const x=c.amr||[];return{data:{currentLevel:d,nextLevel:m,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await _t(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new hi})})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new hi});const d=await _t(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&Sn()&&!r?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(dt(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new hi});const d=await _t(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&Sn()&&!r?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(dt(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await _t(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new hi})})}catch(e){if(dt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await _t(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new hi})})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(m=>m.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(m=>m.kid===e),i&&this.jwks_cached_at+fE>o)return i;const{data:c,error:d}=await _t(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,i=c.keys.find(m=>m.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:N,error:b}=await this.getSession();if(b||!N.session)return this._returnResult({data:null,error:b});i=N.session.access_token}const{header:o,payload:c,signature:d,raw:{header:m,payload:w}}=xh(i);r?.allowExpired||ME(c.exp);const x=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!x){const{error:N}=await this.getUser(i);if(N)throw N;return{data:{claims:c,header:o,signature:d},error:null}}const E=PE(o.alg),A=await crypto.subtle.importKey("jwk",x,E,!0,["verify"]);if(!await crypto.subtle.verify(E,A,d,EE(`${m}.${w}`)))throw new Wh("Invalid JWT signature");return{data:{claims:c,header:o,signature:d},error:null}}catch(i){if(dt(i))return this._returnResult({data:null,error:i});throw i}}}Au.nextInstanceID={};const d_=Au,g_="2.88.0";let au="";typeof Deno<"u"?au="deno":typeof document<"u"?au="web":typeof navigator<"u"&&navigator.product==="ReactNative"?au="react-native":au="node";const p_={"X-Client-Info":`supabase-js-${au}/${g_}`},x_={headers:p_},m_={schema:"public"},w_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v_={};function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function y_(t,e){if(Su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(Su(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E_(t){var e=y_(t,"string");return Su(e)=="symbol"?e:e+""}function __(t,e,r){return(e=E_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function op(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,i)}return r}function Lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?op(Object(r),!0).forEach(function(i){__(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):op(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const A_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),S_=()=>Headers,T_=(t,e,r)=>{const i=A_(r),o=S_();return async(c,d)=>{var m;const w=(m=await e())!==null&&m!==void 0?m:t;let x=new o(d?.headers);return x.has("apikey")||x.set("apikey",t),x.has("Authorization")||x.set("Authorization",`Bearer ${w}`),i(c,Lr(Lr({},d),{},{headers:x}))}};function C_(t){return t.endsWith("/")?t:t+"/"}function I_(t,e){var r,i;const{db:o,auth:c,realtime:d,global:m}=t,{db:w,auth:x,realtime:E,global:A}=e,C={db:Lr(Lr({},w),o),auth:Lr(Lr({},x),c),realtime:Lr(Lr({},E),d),storage:{},global:Lr(Lr(Lr({},A),m),{},{headers:Lr(Lr({},(r=A?.headers)!==null&&r!==void 0?r:{}),(i=m?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?C.accessToken=t.accessToken:delete C.accessToken,C}function O_(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(C_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var N_=class extends d_{constructor(t){super(t)}},R_=class{constructor(t,e,r){var i,o;this.supabaseUrl=t,this.supabaseKey=e;const c=O_(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,m={db:m_,realtime:v_,auth:Lr(Lr({},w_),{},{storageKey:d}),global:x_},w=I_(r??{},m);if(this.storageKey=(i=w.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=w.global.headers)!==null&&o!==void 0?o:{},w.accessToken)this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(E,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}});else{var x;this.auth=this._initSupabaseAuthClient((x=w.auth)!==null&&x!==void 0?x:{},this.headers,w.global.fetch)}this.fetch=T_(e,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Lr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.accessToken&&this.accessToken().then(E=>this.realtime.setAuth(E)).catch(E=>console.warn("Failed to set initial Realtime auth token:",E)),this.rest=new uy(new URL("rest/v1",c).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),this.storage=new aE(this.storageUrl.href,this.headers,this.fetch,r?.storage),w.accessToken||this._listenForAuthEvents()}get functions(){return new iy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:c,flowType:d,lock:m,debug:w,throwOnError:x},E,A){const C={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new N_({url:this.authUrl.href,headers:Lr(Lr({},C),E),storageKey:c,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,flowType:d,lock:m,debug:w,throwOnError:x,fetch:A,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Cy(this.realtimeUrl.href,Lr(Lr({},t),{},{params:Lr(Lr({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const b_=(t,e,r)=>new R_(t,e,r);function k_(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}k_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ws=b_(void 0,void 0);const D_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M_=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,i)=>i?i.toUpperCase():r.toLowerCase()),lp=t=>{const e=M_(t);return e.charAt(0).toUpperCase()+e.slice(1)},X2=(...t)=>t.filter((e,r,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===r).join(" ").trim(),P_=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var L_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const F_=ze.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:d,...m},w)=>ze.createElement("svg",{ref:w,...L_,width:e,height:e,stroke:t,strokeWidth:i?Number(r)*24/Number(e):r,className:X2("lucide",o),...!c&&!P_(m)&&{"aria-hidden":"true"},...m},[...d.map(([x,E])=>ze.createElement(x,E)),...Array.isArray(c)?c:[c]]));const ba=(t,e)=>{const r=ze.forwardRef(({className:i,...o},c)=>ze.createElement(F_,{ref:c,iconNode:e,className:X2(`lucide-${D_(lp(t))}`,`lucide-${t}`,i),...o}));return r.displayName=lp(t),r};const B_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],U_=ba("circle-check-big",B_);const j_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],H_=ba("circle-x",j_);const z_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],W_=ba("file-text",z_);const V_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],up=ba("house",V_);const G_=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],X_=ba("log-in",G_);const Y_=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],cp=ba("qr-code",Y_);const K_=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$_=ba("user-cog",K_);const q_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fp=ba("users",q_);function Q_(){const[t,e]=ze.useState(""),[r,i]=ze.useState(""),[o,c]=ze.useState(""),d=async m=>{m.preventDefault();const{error:w}=await ws.auth.signInWithPassword({email:t,password:r});w&&c(w.message)};return Je.jsx("div",{className:"min-h-screen flex items-center justify-center bg-indigo-50",children:Je.jsxs("form",{onSubmit:d,className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[Je.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Pointage RH"}),o&&Je.jsx("p",{className:"text-red-500 mb-3",children:o}),Je.jsx("input",{type:"email",placeholder:"Email",className:"input",value:t,onChange:m=>e(m.target.value),required:!0}),Je.jsx("input",{type:"password",placeholder:"Mot de passe",className:"input mt-3",value:r,onChange:m=>i(m.target.value),required:!0}),Je.jsxs("button",{className:"btn-primary w-full mt-6 flex justify-center gap-2",children:[Je.jsx(X_,{})," Connexion"]})]})})}function Z_(){const[t,e]=ze.useState({});return ze.useEffect(()=>{(async()=>{const i=new Date().toISOString().slice(0,10),{data:o}=await ws.from("attendance").select("*").eq("date",i);e({present:o.filter(c=>c.status==="present").length,late:o.filter(c=>c.status==="late").length,absent:o.filter(c=>c.status==="absent").length})})()},[]),Je.jsxs("div",{children:[Je.jsx("h1",{className:"text-xl font-bold mb-4",children:"Tableau de bord"}),Je.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[Je.jsx(vh,{label:"Prsents",value:t.present,color:"green"}),Je.jsx(vh,{label:"Retards",value:t.late,color:"orange"}),Je.jsx(vh,{label:"Absents",value:t.absent,color:"red"})]})]})}function vh({label:t,value:e,color:r}){return Je.jsxs("div",{className:`bg-${r}-100 p-4 rounded-xl`,children:[Je.jsx("p",{className:"text-sm",children:t}),Je.jsx("p",{className:"text-2xl font-bold",children:e})]})}var J_=Object.defineProperty,s0=Object.getOwnPropertySymbols,Y2=Object.prototype.hasOwnProperty,K2=Object.prototype.propertyIsEnumerable,hp=(t,e,r)=>e in t?J_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Vh=(t,e)=>{for(var r in e||(e={}))Y2.call(e,r)&&hp(t,r,e[r]);if(s0)for(var r of s0(e))K2.call(e,r)&&hp(t,r,e[r]);return t},Gh=(t,e)=>{var r={};for(var i in t)Y2.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&s0)for(var i of s0(t))e.indexOf(i)<0&&K2.call(t,i)&&(r[i]=t[i]);return r};var fo;(t=>{const e=class zt{constructor(w,x,E,A){if(this.version=w,this.errorCorrectionLevel=x,this.modules=[],this.isFunction=[],w<zt.MIN_VERSION||w>zt.MAX_VERSION)throw new RangeError("Version value out of range");if(A<-1||A>7)throw new RangeError("Mask value out of range");this.size=w*4+17;let C=[];for(let b=0;b<this.size;b++)C.push(!1);for(let b=0;b<this.size;b++)this.modules.push(C.slice()),this.isFunction.push(C.slice());this.drawFunctionPatterns();const N=this.addEccAndInterleave(E);if(this.drawCodewords(N),A==-1){let b=1e9;for(let O=0;O<8;O++){this.applyMask(O),this.drawFormatBits(O);const k=this.getPenaltyScore();k<b&&(A=O,b=k),this.applyMask(O)}}o(0<=A&&A<=7),this.mask=A,this.applyMask(A),this.drawFormatBits(A),this.isFunction=[]}static encodeText(w,x){const E=t.QrSegment.makeSegments(w);return zt.encodeSegments(E,x)}static encodeBinary(w,x){const E=t.QrSegment.makeBytes(w);return zt.encodeSegments([E],x)}static encodeSegments(w,x,E=1,A=40,C=-1,N=!0){if(!(zt.MIN_VERSION<=E&&E<=A&&A<=zt.MAX_VERSION)||C<-1||C>7)throw new RangeError("Invalid value");let b,O;for(b=E;;b++){const B=zt.getNumDataCodewords(b,x)*8,Q=d.getTotalBits(w,b);if(Q<=B){O=Q;break}if(b>=A)throw new RangeError("Data too long")}for(const B of[zt.Ecc.MEDIUM,zt.Ecc.QUARTILE,zt.Ecc.HIGH])N&&O<=zt.getNumDataCodewords(b,B)*8&&(x=B);let k=[];for(const B of w){r(B.mode.modeBits,4,k),r(B.numChars,B.mode.numCharCountBits(b),k);for(const Q of B.getData())k.push(Q)}o(k.length==O);const K=zt.getNumDataCodewords(b,x)*8;o(k.length<=K),r(0,Math.min(4,K-k.length),k),r(0,(8-k.length%8)%8,k),o(k.length%8==0);for(let B=236;k.length<K;B^=253)r(B,8,k);let z=[];for(;z.length*8<k.length;)z.push(0);return k.forEach((B,Q)=>z[Q>>>3]|=B<<7-(Q&7)),new zt(b,x,z,C)}getModule(w,x){return 0<=w&&w<this.size&&0<=x&&x<this.size&&this.modules[x][w]}getModules(){return this.modules}drawFunctionPatterns(){for(let E=0;E<this.size;E++)this.setFunctionModule(6,E,E%2==0),this.setFunctionModule(E,6,E%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const w=this.getAlignmentPatternPositions(),x=w.length;for(let E=0;E<x;E++)for(let A=0;A<x;A++)E==0&&A==0||E==0&&A==x-1||E==x-1&&A==0||this.drawAlignmentPattern(w[E],w[A]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(w){const x=this.errorCorrectionLevel.formatBits<<3|w;let E=x;for(let C=0;C<10;C++)E=E<<1^(E>>>9)*1335;const A=(x<<10|E)^21522;o(A>>>15==0);for(let C=0;C<=5;C++)this.setFunctionModule(8,C,i(A,C));this.setFunctionModule(8,7,i(A,6)),this.setFunctionModule(8,8,i(A,7)),this.setFunctionModule(7,8,i(A,8));for(let C=9;C<15;C++)this.setFunctionModule(14-C,8,i(A,C));for(let C=0;C<8;C++)this.setFunctionModule(this.size-1-C,8,i(A,C));for(let C=8;C<15;C++)this.setFunctionModule(8,this.size-15+C,i(A,C));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let w=this.version;for(let E=0;E<12;E++)w=w<<1^(w>>>11)*7973;const x=this.version<<12|w;o(x>>>18==0);for(let E=0;E<18;E++){const A=i(x,E),C=this.size-11+E%3,N=Math.floor(E/3);this.setFunctionModule(C,N,A),this.setFunctionModule(N,C,A)}}drawFinderPattern(w,x){for(let E=-4;E<=4;E++)for(let A=-4;A<=4;A++){const C=Math.max(Math.abs(A),Math.abs(E)),N=w+A,b=x+E;0<=N&&N<this.size&&0<=b&&b<this.size&&this.setFunctionModule(N,b,C!=2&&C!=4)}}drawAlignmentPattern(w,x){for(let E=-2;E<=2;E++)for(let A=-2;A<=2;A++)this.setFunctionModule(w+A,x+E,Math.max(Math.abs(A),Math.abs(E))!=1)}setFunctionModule(w,x,E){this.modules[x][w]=E,this.isFunction[x][w]=!0}addEccAndInterleave(w){const x=this.version,E=this.errorCorrectionLevel;if(w.length!=zt.getNumDataCodewords(x,E))throw new RangeError("Invalid argument");const A=zt.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][x],C=zt.ECC_CODEWORDS_PER_BLOCK[E.ordinal][x],N=Math.floor(zt.getNumRawDataModules(x)/8),b=A-N%A,O=Math.floor(N/A);let k=[];const K=zt.reedSolomonComputeDivisor(C);for(let B=0,Q=0;B<A;B++){let Se=w.slice(Q,Q+O-C+(B<b?0:1));Q+=Se.length;const ve=zt.reedSolomonComputeRemainder(Se,K);B<b&&Se.push(0),k.push(Se.concat(ve))}let z=[];for(let B=0;B<k[0].length;B++)k.forEach((Q,Se)=>{(B!=O-C||Se>=b)&&z.push(Q[B])});return o(z.length==N),z}drawCodewords(w){if(w.length!=Math.floor(zt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let x=0;for(let E=this.size-1;E>=1;E-=2){E==6&&(E=5);for(let A=0;A<this.size;A++)for(let C=0;C<2;C++){const N=E-C,O=(E+1&2)==0?this.size-1-A:A;!this.isFunction[O][N]&&x<w.length*8&&(this.modules[O][N]=i(w[x>>>3],7-(x&7)),x++)}}o(x==w.length*8)}applyMask(w){if(w<0||w>7)throw new RangeError("Mask value out of range");for(let x=0;x<this.size;x++)for(let E=0;E<this.size;E++){let A;switch(w){case 0:A=(E+x)%2==0;break;case 1:A=x%2==0;break;case 2:A=E%3==0;break;case 3:A=(E+x)%3==0;break;case 4:A=(Math.floor(E/3)+Math.floor(x/2))%2==0;break;case 5:A=E*x%2+E*x%3==0;break;case 6:A=(E*x%2+E*x%3)%2==0;break;case 7:A=((E+x)%2+E*x%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[x][E]&&A&&(this.modules[x][E]=!this.modules[x][E])}}getPenaltyScore(){let w=0;for(let C=0;C<this.size;C++){let N=!1,b=0,O=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[C][k]==N?(b++,b==5?w+=zt.PENALTY_N1:b>5&&w++):(this.finderPenaltyAddHistory(b,O),N||(w+=this.finderPenaltyCountPatterns(O)*zt.PENALTY_N3),N=this.modules[C][k],b=1);w+=this.finderPenaltyTerminateAndCount(N,b,O)*zt.PENALTY_N3}for(let C=0;C<this.size;C++){let N=!1,b=0,O=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][C]==N?(b++,b==5?w+=zt.PENALTY_N1:b>5&&w++):(this.finderPenaltyAddHistory(b,O),N||(w+=this.finderPenaltyCountPatterns(O)*zt.PENALTY_N3),N=this.modules[k][C],b=1);w+=this.finderPenaltyTerminateAndCount(N,b,O)*zt.PENALTY_N3}for(let C=0;C<this.size-1;C++)for(let N=0;N<this.size-1;N++){const b=this.modules[C][N];b==this.modules[C][N+1]&&b==this.modules[C+1][N]&&b==this.modules[C+1][N+1]&&(w+=zt.PENALTY_N2)}let x=0;for(const C of this.modules)x=C.reduce((N,b)=>N+(b?1:0),x);const E=this.size*this.size,A=Math.ceil(Math.abs(x*20-E*10)/E)-1;return o(0<=A&&A<=9),w+=A*zt.PENALTY_N4,o(0<=w&&w<=2568888),w}getAlignmentPatternPositions(){if(this.version==1)return[];{const w=Math.floor(this.version/7)+2,x=this.version==32?26:Math.ceil((this.version*4+4)/(w*2-2))*2;let E=[6];for(let A=this.size-7;E.length<w;A-=x)E.splice(1,0,A);return E}}static getNumRawDataModules(w){if(w<zt.MIN_VERSION||w>zt.MAX_VERSION)throw new RangeError("Version number out of range");let x=(16*w+128)*w+64;if(w>=2){const E=Math.floor(w/7)+2;x-=(25*E-10)*E-55,w>=7&&(x-=36)}return o(208<=x&&x<=29648),x}static getNumDataCodewords(w,x){return Math.floor(zt.getNumRawDataModules(w)/8)-zt.ECC_CODEWORDS_PER_BLOCK[x.ordinal][w]*zt.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][w]}static reedSolomonComputeDivisor(w){if(w<1||w>255)throw new RangeError("Degree out of range");let x=[];for(let A=0;A<w-1;A++)x.push(0);x.push(1);let E=1;for(let A=0;A<w;A++){for(let C=0;C<x.length;C++)x[C]=zt.reedSolomonMultiply(x[C],E),C+1<x.length&&(x[C]^=x[C+1]);E=zt.reedSolomonMultiply(E,2)}return x}static reedSolomonComputeRemainder(w,x){let E=x.map(A=>0);for(const A of w){const C=A^E.shift();E.push(0),x.forEach((N,b)=>E[b]^=zt.reedSolomonMultiply(N,C))}return E}static reedSolomonMultiply(w,x){if(w>>>8||x>>>8)throw new RangeError("Byte out of range");let E=0;for(let A=7;A>=0;A--)E=E<<1^(E>>>7)*285,E^=(x>>>A&1)*w;return o(E>>>8==0),E}finderPenaltyCountPatterns(w){const x=w[1];o(x<=this.size*3);const E=x>0&&w[2]==x&&w[3]==x*3&&w[4]==x&&w[5]==x;return(E&&w[0]>=x*4&&w[6]>=x?1:0)+(E&&w[6]>=x*4&&w[0]>=x?1:0)}finderPenaltyTerminateAndCount(w,x,E){return w&&(this.finderPenaltyAddHistory(x,E),x=0),x+=this.size,this.finderPenaltyAddHistory(x,E),this.finderPenaltyCountPatterns(E)}finderPenaltyAddHistory(w,x){x[0]==0&&(w+=this.size),x.pop(),x.unshift(w)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function r(m,w,x){if(w<0||w>31||m>>>w)throw new RangeError("Value out of range");for(let E=w-1;E>=0;E--)x.push(m>>>E&1)}function i(m,w){return(m>>>w&1)!=0}function o(m){if(!m)throw new Error("Assertion error")}const c=class Mr{constructor(w,x,E){if(this.mode=w,this.numChars=x,this.bitData=E,x<0)throw new RangeError("Invalid argument");this.bitData=E.slice()}static makeBytes(w){let x=[];for(const E of w)r(E,8,x);return new Mr(Mr.Mode.BYTE,w.length,x)}static makeNumeric(w){if(!Mr.isNumeric(w))throw new RangeError("String contains non-numeric characters");let x=[];for(let E=0;E<w.length;){const A=Math.min(w.length-E,3);r(parseInt(w.substring(E,E+A),10),A*3+1,x),E+=A}return new Mr(Mr.Mode.NUMERIC,w.length,x)}static makeAlphanumeric(w){if(!Mr.isAlphanumeric(w))throw new RangeError("String contains unencodable characters in alphanumeric mode");let x=[],E;for(E=0;E+2<=w.length;E+=2){let A=Mr.ALPHANUMERIC_CHARSET.indexOf(w.charAt(E))*45;A+=Mr.ALPHANUMERIC_CHARSET.indexOf(w.charAt(E+1)),r(A,11,x)}return E<w.length&&r(Mr.ALPHANUMERIC_CHARSET.indexOf(w.charAt(E)),6,x),new Mr(Mr.Mode.ALPHANUMERIC,w.length,x)}static makeSegments(w){return w==""?[]:Mr.isNumeric(w)?[Mr.makeNumeric(w)]:Mr.isAlphanumeric(w)?[Mr.makeAlphanumeric(w)]:[Mr.makeBytes(Mr.toUtf8ByteArray(w))]}static makeEci(w){let x=[];if(w<0)throw new RangeError("ECI assignment value out of range");if(w<128)r(w,8,x);else if(w<16384)r(2,2,x),r(w,14,x);else if(w<1e6)r(6,3,x),r(w,21,x);else throw new RangeError("ECI assignment value out of range");return new Mr(Mr.Mode.ECI,0,x)}static isNumeric(w){return Mr.NUMERIC_REGEX.test(w)}static isAlphanumeric(w){return Mr.ALPHANUMERIC_REGEX.test(w)}getData(){return this.bitData.slice()}static getTotalBits(w,x){let E=0;for(const A of w){const C=A.mode.numCharCountBits(x);if(A.numChars>=1<<C)return 1/0;E+=4+C+A.bitData.length}return E}static toUtf8ByteArray(w){w=encodeURI(w);let x=[];for(let E=0;E<w.length;E++)w.charAt(E)!="%"?x.push(w.charCodeAt(E)):(x.push(parseInt(w.substring(E+1,E+3),16)),E+=2);return x}};c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=c;t.QrSegment=c})(fo||(fo={}));(t=>{(e=>{const r=class{constructor(o,c){this.ordinal=o,this.formatBits=c}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(fo||(fo={}));(t=>{(e=>{const r=class{constructor(o,c){this.modeBits=o,this.numBitsCharCount=c}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(fo||(fo={}));var ol=fo;var e3={L:ol.QrCode.Ecc.LOW,M:ol.QrCode.Ecc.MEDIUM,Q:ol.QrCode.Ecc.QUARTILE,H:ol.QrCode.Ecc.HIGH},$2=128,q2="L",Q2="#FFFFFF",Z2="#000000",J2=!1,ex=1,t3=4,r3=0,n3=.1;function tx(t,e=0){const r=[];return t.forEach(function(i,o){let c=null;i.forEach(function(d,m){if(!d&&c!==null){r.push(`M${c+e} ${o+e}h${m-c}v1H${c+e}z`),c=null;return}if(m===i.length-1){if(!d)return;c===null?r.push(`M${m+e},${o+e} h1v1H${m+e}z`):r.push(`M${c+e},${o+e} h${m+1-c}v1H${c+e}z`);return}d&&c===null&&(c=m)})}),r.join("")}function rx(t,e){return t.slice().map((r,i)=>i<e.y||i>=e.y+e.h?r:r.map((o,c)=>c<e.x||c>=e.x+e.w?o:!1))}function i3(t,e,r,i){if(i==null)return null;const o=t.length+r*2,c=Math.floor(e*n3),d=o/e,m=(i.width||c)*d,w=(i.height||c)*d,x=i.x==null?t.length/2-m/2:i.x*d,E=i.y==null?t.length/2-w/2:i.y*d,A=i.opacity==null?1:i.opacity;let C=null;if(i.excavate){let b=Math.floor(x),O=Math.floor(E),k=Math.ceil(m+x-b),K=Math.ceil(w+E-O);C={x:b,y:O,w:k,h:K}}const N=i.crossOrigin;return{x,y:E,h:w,w:m,excavation:C,opacity:A,crossOrigin:N}}function s3(t,e){return e!=null?Math.max(Math.floor(e),0):t?t3:r3}function nx({value:t,level:e,minVersion:r,includeMargin:i,marginSize:o,imageSettings:c,size:d,boostLevel:m}){let w=Gr.useMemo(()=>{const b=(Array.isArray(t)?t:[t]).reduce((O,k)=>(O.push(...ol.QrSegment.makeSegments(k)),O),[]);return ol.QrCode.encodeSegments(b,e3[e],r,void 0,void 0,m)},[t,e,r,m]);const{cells:x,margin:E,numCells:A,calculatedImageSettings:C}=Gr.useMemo(()=>{let N=w.getModules();const b=s3(i,o),O=N.length+b*2,k=i3(N,d,b,c);return{cells:N,margin:b,numCells:O,calculatedImageSettings:k}},[w,d,c,i,o]);return{qrcode:w,margin:E,cells:x,numCells:A,calculatedImageSettings:C}}var a3=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),ix=Gr.forwardRef(function(e,r){const i=e,{value:o,size:c=$2,level:d=q2,bgColor:m=Q2,fgColor:w=Z2,includeMargin:x=J2,minVersion:E=ex,boostLevel:A,marginSize:C,imageSettings:N}=i,O=Gh(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=O,K=Gh(O,["style"]),z=N?.src,B=Gr.useRef(null),Q=Gr.useRef(null),Se=Gr.useCallback(at=>{B.current=at,typeof r=="function"?r(at):r&&(r.current=at)},[r]),[ve,G]=Gr.useState(!1),{margin:fe,cells:Z,numCells:Ne,calculatedImageSettings:Te}=nx({value:o,level:d,minVersion:E,boostLevel:A,includeMargin:x,marginSize:C,imageSettings:N,size:c});Gr.useEffect(()=>{if(B.current!=null){const at=B.current,le=at.getContext("2d");if(!le)return;let pt=Z;const Ke=Q.current,We=Te!=null&&Ke!==null&&Ke.complete&&Ke.naturalHeight!==0&&Ke.naturalWidth!==0;We&&Te.excavation!=null&&(pt=rx(Z,Te.excavation));const nt=window.devicePixelRatio||1;at.height=at.width=c*nt;const $e=c/Ne*nt;le.scale($e,$e),le.fillStyle=m,le.fillRect(0,0,Ne,Ne),le.fillStyle=w,a3?le.fill(new Path2D(tx(pt,fe))):Z.forEach(function(ue,j){ue.forEach(function(ae,ee){ae&&le.fillRect(ee+fe,j+fe,1,1)})}),Te&&(le.globalAlpha=Te.opacity),We&&le.drawImage(Ke,Te.x+fe,Te.y+fe,Te.w,Te.h)}}),Gr.useEffect(()=>{G(!1)},[z]);const we=Vh({height:c,width:c},k);let Re=null;return z!=null&&(Re=Gr.createElement("img",{src:z,key:z,style:{display:"none"},onLoad:()=>{G(!0)},ref:Q,crossOrigin:Te?.crossOrigin})),Gr.createElement(Gr.Fragment,null,Gr.createElement("canvas",Vh({style:we,height:c,width:c,ref:Se,role:"img"},K)),Re)});ix.displayName="QRCodeCanvas";var o3=Gr.forwardRef(function(e,r){const i=e,{value:o,size:c=$2,level:d=q2,bgColor:m=Q2,fgColor:w=Z2,includeMargin:x=J2,minVersion:E=ex,boostLevel:A,title:C,marginSize:N,imageSettings:b}=i,O=Gh(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:K,numCells:z,calculatedImageSettings:B}=nx({value:o,level:d,minVersion:E,boostLevel:A,includeMargin:x,marginSize:N,imageSettings:b,size:c});let Q=K,Se=null;b!=null&&B!=null&&(B.excavation!=null&&(Q=rx(K,B.excavation)),Se=Gr.createElement("image",{href:b.src,height:B.h,width:B.w,x:B.x+k,y:B.y+k,preserveAspectRatio:"none",opacity:B.opacity,crossOrigin:B.crossOrigin}));const ve=tx(Q,k);return Gr.createElement("svg",Vh({height:c,width:c,viewBox:`0 0 ${z} ${z}`,ref:r,role:"img"},O),!!C&&Gr.createElement("title",null,C),Gr.createElement("path",{fill:m,d:`M0,0 h${z}v${z}H0z`,shapeRendering:"crispEdges"}),Gr.createElement("path",{fill:w,d:ve,shapeRendering:"crispEdges"}),Se)});o3.displayName="QRCodeSVG";function l3(){const[t,e]=ze.useState([]);return ze.useEffect(()=>{ws.from("employees").select("*").then(({data:r})=>{e(r)})},[]),Je.jsxs("div",{children:[Je.jsx("h1",{className:"text-xl font-bold mb-4",children:"Employs"}),Je.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:t.map(r=>Je.jsxs("div",{className:"bg-white p-4 rounded-xl shadow",children:[Je.jsxs("p",{className:"font-bold",children:[r.first_name," ",r.last_name]}),Je.jsx("p",{className:"text-sm",children:r.department}),Je.jsx(ix,{value:r.qr_code,size:100})]},r.id))})]})}var ot;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ot||(ot={}));var dp=new Map([[ot.QR_CODE,"QR_CODE"],[ot.AZTEC,"AZTEC"],[ot.CODABAR,"CODABAR"],[ot.CODE_39,"CODE_39"],[ot.CODE_93,"CODE_93"],[ot.CODE_128,"CODE_128"],[ot.DATA_MATRIX,"DATA_MATRIX"],[ot.MAXICODE,"MAXICODE"],[ot.ITF,"ITF"],[ot.EAN_13,"EAN_13"],[ot.EAN_8,"EAN_8"],[ot.PDF_417,"PDF_417"],[ot.RSS_14,"RSS_14"],[ot.RSS_EXPANDED,"RSS_EXPANDED"],[ot.UPC_A,"UPC_A"],[ot.UPC_E,"UPC_E"],[ot.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),gp;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(gp||(gp={}));function u3(t){return Object.values(ot).includes(t)}var Ia;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ia||(Ia={}));var es=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Ia.SCAN_TYPE_CAMERA,Ia.SCAN_TYPE_FILE],t})(),sx=(function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!dp.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,dp.get(e))},t})(),pp=(function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),Xh;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Xh||(Xh={}));var ax=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Xh.UNKWOWN_ERROR}},t})(),ox=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function ms(t){return typeof t>"u"||t===null}function c3(t,e,r){return t>r?r:t<e?e:t}var ll=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),tr=(function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t})(),xp=(function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t})(),lx=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var i=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(o),d=Object.keys(e),m=0,w=d;m<w.length;m++){var x=w[m];if(c.has(x))return r.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},t})(),ou={exports:{}},f3=ou.exports,mp;function h3(){return mp||(mp=1,(function(t,e){(function(r,i){i(e)})(f3,(function(r){function i(D){return D==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,n){D.__proto__=n}||function(D,n){for(var a in n)n.hasOwnProperty(a)&&(D[a]=n[a])};function c(D,n){o(D,n);function a(){this.constructor=D}D.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}function d(D,n){var a=Object.setPrototypeOf;a?a(D,n):D.__proto__=n}function m(D,n){n===void 0&&(n=D.constructor);var a=Error.captureStackTrace;a&&a(D,n)}var w=(function(D){c(n,D);function n(a){var l=this.constructor,f=D.call(this,a)||this;return Object.defineProperty(f,"name",{value:l.name,enumerable:!1}),d(f,l.prototype),m(f),f}return n})(Error);class x extends w{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}x.kind="Exception";class E extends x{}E.kind="ArgumentException";class A extends x{}A.kind="IllegalArgumentException";class C{constructor(n){if(this.binarizer=n,n===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,a){return this.binarizer.getBlackRow(n,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,a,l,f){const h=this.binarizer.getLuminanceSource().crop(n,a,l,f);return new C(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new C(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new C(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class N extends x{static getChecksumInstance(){return new N}}N.kind="ChecksumException";class b{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(n,a,l,f,h){for(;h--;)l[f++]=n[a++]}static currentTimeMillis(){return Date.now()}}class k extends x{}k.kind="IndexOutOfBoundsException";class K extends k{constructor(n=void 0,a=void 0){super(a),this.index=n,this.message=a}}K.kind="ArrayIndexOutOfBoundsException";class z{static fill(n,a){for(let l=0,f=n.length;l<f;l++)n[l]=a}static fillWithin(n,a,l,f){z.rangeCheck(n.length,a,l);for(let h=a;h<l;h++)n[h]=f}static rangeCheck(n,a,l){if(a>l)throw new A("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new K(a);if(l>n)throw new K(l)}static asList(...n){return n}static create(n,a,l){return Array.from({length:n}).map(h=>Array.from({length:a}).fill(l))}static createInt32Array(n,a,l){return Array.from({length:n}).map(h=>Int32Array.from({length:a}).fill(l))}static equals(n,a){if(!n||!a||!n.length||!a.length||n.length!==a.length)return!1;for(let l=0,f=n.length;l<f;l++)if(n[l]!==a[l])return!1;return!0}static hashCode(n){if(n===null)return 0;let a=1;for(const l of n)a=31*a+l;return a}static fillUint8Array(n,a){for(let l=0;l!==n.length;l++)n[l]=a}static copyOf(n,a){return n.slice(0,a)}static copyOfUint8Array(n,a){if(n.length<=a){const l=new Uint8Array(a);return l.set(n),l}return n.slice(0,a)}static copyOfRange(n,a,l){const f=l-a,h=new Int32Array(f);return O.arraycopy(n,a,h,0,f),h}static binarySearch(n,a,l){l===void 0&&(l=z.numberComparator);let f=0,h=n.length-1;for(;f<=h;){const g=h+f>>1,v=l(a,n[g]);if(v>0)f=g+1;else if(v<0)h=g-1;else return g}return-f-1}static numberComparator(n,a){return n-a}}class B{static numberOfTrailingZeros(n){let a;if(n===0)return 32;let l=31;return a=n<<16,a!==0&&(l-=16,n=a),a=n<<8,a!==0&&(l-=8,n=a),a=n<<4,a!==0&&(l-=4,n=a),a=n<<2,a!==0&&(l-=2,n=a),l-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let a=1;return n>>>16||(a+=16,n<<=16),n>>>24||(a+=8,n<<=8),n>>>28||(a+=4,n<<=4),n>>>30||(a+=2,n<<=2),a-=n>>>31,a}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,a){return Math.trunc(n/a)}static parseInt(n,a=void 0){return parseInt(n,a)}}B.MIN_VALUE_32_BITS=-2147483648,B.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Q{constructor(n,a){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,a==null?this.bits=Q.makeArray(n):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const a=Q.makeArray(n);O.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const a=this.size;if(n>=a)return a;const l=this.bits;let f=Math.floor(n/32),h=l[f];h&=~((1<<(n&31))-1);const g=l.length;for(;h===0;){if(++f===g)return a;h=l[f]}const v=f*32+B.numberOfTrailingZeros(h);return v>a?a:v}getNextUnset(n){const a=this.size;if(n>=a)return a;const l=this.bits;let f=Math.floor(n/32),h=~l[f];h&=~((1<<(n&31))-1);const g=l.length;for(;h===0;){if(++f===g)return a;h=~l[f]}const v=f*32+B.numberOfTrailingZeros(h);return v>a?a:v}setBulk(n,a){this.bits[Math.floor(n/32)]=a}setRange(n,a){if(a<n||n<0||a>this.size)throw new A;if(a===n)return;a--;const l=Math.floor(n/32),f=Math.floor(a/32),h=this.bits;for(let g=l;g<=f;g++){const v=g>l?0:n&31,S=(2<<(g<f?31:a&31))-(1<<v);h[g]|=S}}clear(){const n=this.bits.length,a=this.bits;for(let l=0;l<n;l++)a[l]=0}isRange(n,a,l){if(a<n||n<0||a>this.size)throw new A;if(a===n)return!0;a--;const f=Math.floor(n/32),h=Math.floor(a/32),g=this.bits;for(let v=f;v<=h;v++){const _=v>f?0:n&31,R=(2<<(v<h?31:a&31))-(1<<_)&4294967295;if((g[v]&R)!==(l?R:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,a){if(a<0||a>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit((n>>l-1&1)===1)}appendBitArray(n){const a=n.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(n.get(l))}xor(n){if(this.size!==n.size)throw new A("Sizes don't match");const a=this.bits;for(let l=0,f=a.length;l<f;l++)a[l]^=n.bits[l]}toBytes(n,a,l,f){for(let h=0;h<f;h++){let g=0;for(let v=0;v<8;v++)this.get(n)&&(g|=1<<7-v),n++;a[l+h]=g}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,f=this.bits;for(let h=0;h<l;h++){let g=f[h];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,n[a-h]=g}if(this.size!==l*32){const h=l*32-this.size;let g=n[0]>>>h;for(let v=1;v<l;v++){const _=n[v];g|=_<<32-h,n[v-1]=g,g=_>>>h}n[l-1]=g}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof Q))return!1;const a=n;return this.size===a.size&&z.equals(this.bits,a.bits)}hashCode(){return 31*this.size+z.hashCode(this.bits)}toString(){let n="";for(let a=0,l=this.size;a<l;a++)(a&7)===0&&(n+=" "),n+=this.get(a)?"X":".";return n}clone(){return new Q(this.size,this.bits.slice())}}var Se;(function(D){D[D.OTHER=0]="OTHER",D[D.PURE_BARCODE=1]="PURE_BARCODE",D[D.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",D[D.TRY_HARDER=3]="TRY_HARDER",D[D.CHARACTER_SET=4]="CHARACTER_SET",D[D.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",D[D.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",D[D.ASSUME_GS1=7]="ASSUME_GS1",D[D.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",D[D.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",D[D.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Se||(Se={}));var ve=Se;class G extends x{static getFormatInstance(){return new G}}G.kind="FormatException";var fe;(function(D){D[D.Cp437=0]="Cp437",D[D.ISO8859_1=1]="ISO8859_1",D[D.ISO8859_2=2]="ISO8859_2",D[D.ISO8859_3=3]="ISO8859_3",D[D.ISO8859_4=4]="ISO8859_4",D[D.ISO8859_5=5]="ISO8859_5",D[D.ISO8859_6=6]="ISO8859_6",D[D.ISO8859_7=7]="ISO8859_7",D[D.ISO8859_8=8]="ISO8859_8",D[D.ISO8859_9=9]="ISO8859_9",D[D.ISO8859_10=10]="ISO8859_10",D[D.ISO8859_11=11]="ISO8859_11",D[D.ISO8859_13=12]="ISO8859_13",D[D.ISO8859_14=13]="ISO8859_14",D[D.ISO8859_15=14]="ISO8859_15",D[D.ISO8859_16=15]="ISO8859_16",D[D.SJIS=16]="SJIS",D[D.Cp1250=17]="Cp1250",D[D.Cp1251=18]="Cp1251",D[D.Cp1252=19]="Cp1252",D[D.Cp1256=20]="Cp1256",D[D.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",D[D.UTF8=22]="UTF8",D[D.ASCII=23]="ASCII",D[D.Big5=24]="Big5",D[D.GB18030=25]="GB18030",D[D.EUC_KR=26]="EUC_KR"})(fe||(fe={}));class Z{constructor(n,a,l,...f){this.valueIdentifier=n,this.name=l,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=f,Z.VALUE_IDENTIFIER_TO_ECI.set(n,this),Z.NAME_TO_ECI.set(l,this);const h=this.values;for(let g=0,v=h.length;g!==v;g++){const _=h[g];Z.VALUES_TO_ECI.set(_,this)}for(const g of f)Z.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new G("incorect value");const a=Z.VALUES_TO_ECI.get(n);if(a===void 0)throw new G("incorect value");return a}static getCharacterSetECIByName(n){const a=Z.NAME_TO_ECI.get(n);if(a===void 0)throw new G("incorect value");return a}equals(n){if(!(n instanceof Z))return!1;const a=n;return this.getName()===a.getName()}}Z.VALUE_IDENTIFIER_TO_ECI=new Map,Z.VALUES_TO_ECI=new Map,Z.NAME_TO_ECI=new Map,Z.Cp437=new Z(fe.Cp437,Int32Array.from([0,2]),"Cp437"),Z.ISO8859_1=new Z(fe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Z.ISO8859_2=new Z(fe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Z.ISO8859_3=new Z(fe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Z.ISO8859_4=new Z(fe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Z.ISO8859_5=new Z(fe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Z.ISO8859_6=new Z(fe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Z.ISO8859_7=new Z(fe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Z.ISO8859_8=new Z(fe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Z.ISO8859_9=new Z(fe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Z.ISO8859_10=new Z(fe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Z.ISO8859_11=new Z(fe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Z.ISO8859_13=new Z(fe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Z.ISO8859_14=new Z(fe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Z.ISO8859_15=new Z(fe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Z.ISO8859_16=new Z(fe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Z.SJIS=new Z(fe.SJIS,20,"SJIS","Shift_JIS"),Z.Cp1250=new Z(fe.Cp1250,21,"Cp1250","windows-1250"),Z.Cp1251=new Z(fe.Cp1251,22,"Cp1251","windows-1251"),Z.Cp1252=new Z(fe.Cp1252,23,"Cp1252","windows-1252"),Z.Cp1256=new Z(fe.Cp1256,24,"Cp1256","windows-1256"),Z.UnicodeBigUnmarked=new Z(fe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Z.UTF8=new Z(fe.UTF8,26,"UTF8","UTF-8"),Z.ASCII=new Z(fe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Z.Big5=new Z(fe.Big5,28,"Big5"),Z.GB18030=new Z(fe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Z.EUC_KR=new Z(fe.EUC_KR,30,"EUC_KR","EUC-KR");class Ne extends x{}Ne.kind="UnsupportedOperationException";class Te{static decode(n,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(n,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(n,l):new TextDecoder(l).decode(n)}static shouldDecodeOnFallback(n){return!Te.isBrowser()&&n==="ISO-8859-1"}static encode(n,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(n,l):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof Z?n:Z.getCharacterSetECIByName(n)}static decodeFallback(n,a){const l=this.encodingCharacterSet(a);if(Te.isDecodeFallbackSupported(l)){let f="";for(let h=0,g=n.length;h<g;h++){let v=n[h].toString(16);v.length<2&&(v="0"+v),f+="%"+v}return decodeURIComponent(f)}if(l.equals(Z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new Ne(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(Z.UTF8)||n.equals(Z.ISO8859_1)||n.equals(Z.ASCII)}static encodeFallback(n){const l=btoa(unescape(encodeURIComponent(n))).split(""),f=[];for(let h=0;h<l.length;h++)f.push(l[h].charCodeAt(0));return new Uint8Array(f)}}class we{static castAsNonUtf8Char(n,a=null){const l=a?a.getName():this.ISO88591;return Te.decode(new Uint8Array([n]),l)}static guessEncoding(n,a){if(a!=null&&a.get(ve.CHARACTER_SET)!==void 0)return a.get(ve.CHARACTER_SET).toString();const l=n.length;let f=!0,h=!0,g=!0,v=0,_=0,S=0,R=0,M=0,F=0,Y=0,te=0,ie=0,ce=0,Ee=0;const je=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let Ge=0;Ge<l&&(f||h||g);Ge++){const Le=n[Ge]&255;g&&(v>0?(Le&128)===0?g=!1:v--:(Le&128)!==0&&((Le&64)===0?g=!1:(v++,(Le&32)===0?_++:(v++,(Le&16)===0?S++:(v++,(Le&8)===0?R++:g=!1))))),f&&(Le>127&&Le<160?f=!1:Le>159&&(Le<192||Le===215||Le===247)&&Ee++),h&&(M>0?Le<64||Le===127||Le>252?h=!1:M--:Le===128||Le===160||Le>239?h=!1:Le>160&&Le<224?(F++,te=0,Y++,Y>ie&&(ie=Y)):Le>127?(M++,Y=0,te++,te>ce&&(ce=te)):(Y=0,te=0))}return g&&v>0&&(g=!1),h&&M>0&&(h=!1),g&&(je||_+S+R>0)?we.UTF8:h&&(we.ASSUME_SHIFT_JIS||ie>=3||ce>=3)?we.SHIFT_JIS:f&&h?ie===2&&F===2||Ee*10>=l?we.SHIFT_JIS:we.ISO88591:f?we.ISO88591:h?we.SHIFT_JIS:g?we.UTF8:we.PLATFORM_DEFAULT_ENCODING}static format(n,...a){let l=-1;function f(g,v,_,S,R,M){if(g==="%%")return"%";if(a[++l]===void 0)return;g=S?parseInt(S.substr(1)):void 0;let F=R?parseInt(R.substr(1)):void 0,Y;switch(M){case"s":Y=a[l];break;case"c":Y=a[l][0];break;case"f":Y=parseFloat(a[l]).toFixed(g);break;case"p":Y=parseFloat(a[l]).toPrecision(g);break;case"e":Y=parseFloat(a[l]).toExponential(g);break;case"x":Y=parseInt(a[l]).toString(F||16);break;case"d":Y=parseFloat(parseInt(a[l],F||10).toPrecision(g)).toFixed(0);break}Y=typeof Y=="object"?JSON.stringify(Y):(+Y).toString(F);let te=parseInt(_),ie=_&&_[0]+""=="0"?"0":" ";for(;Y.length<te;)Y=v!==void 0?Y+ie:ie+Y;return Y}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(h,f)}static getBytes(n,a){return Te.encode(n,a)}static getCharCode(n,a=0){return n.charCodeAt(a)}static getCharAt(n){return String.fromCharCode(n)}}we.SHIFT_JIS=Z.SJIS.getName(),we.GB2312="GB2312",we.ISO88591=Z.ISO8859_1.getName(),we.EUC_JP="EUC_JP",we.UTF8=Z.UTF8.getName(),we.PLATFORM_DEFAULT_ENCODING=we.UTF8,we.ASSUME_SHIFT_JIS=!1;class Re{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=we.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,a,l){for(let f=a;a<a+l;f++)this.append(n[f]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,a){this.value=this.value.substr(0,n)+a+this.value.substr(n+1)}substring(n,a){return this.value.substring(n,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,a){this.value=this.value.substr(0,n)+a+this.value.substr(n+a.length)}}class at{constructor(n,a,l,f){if(this.width=n,this.height=a,this.rowSize=l,this.bits=f,a==null&&(a=n),this.height=a,n<1||a<1)throw new A("Both dimensions must be greater than 0");l==null&&(l=Math.floor((n+31)/32)),this.rowSize=l,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const a=n.length,l=n[0].length,f=new at(l,a);for(let h=0;h<a;h++){const g=n[h];for(let v=0;v<l;v++)g[v]&&f.set(v,h)}return f}static parseFromString(n,a,l){if(n===null)throw new A("stringRepresentation cannot be null");const f=new Array(n.length);let h=0,g=0,v=-1,_=0,S=0;for(;S<n.length;)if(n.charAt(S)===`
`||n.charAt(S)==="\r"){if(h>g){if(v===-1)v=h-g;else if(h-g!==v)throw new A("row lengths do not match");g=h,_++}S++}else if(n.substring(S,S+a.length)===a)S+=a.length,f[h]=!0,h++;else if(n.substring(S,S+l.length)===l)S+=l.length,f[h]=!1,h++;else throw new A("illegal character encountered: "+n.substring(S));if(h>g){if(v===-1)v=h-g;else if(h-g!==v)throw new A("row lengths do not match");_++}const R=new at(v,_);for(let M=0;M<h;M++)f[M]&&R.set(Math.floor(M%v),Math.floor(M/v));return R}get(n,a){const l=a*this.rowSize+Math.floor(n/32);return(this.bits[l]>>>(n&31)&1)!==0}set(n,a){const l=a*this.rowSize+Math.floor(n/32);this.bits[l]|=1<<(n&31)&4294967295}unset(n,a){const l=a*this.rowSize+Math.floor(n/32);this.bits[l]&=~(1<<(n&31)&4294967295)}flip(n,a){const l=a*this.rowSize+Math.floor(n/32);this.bits[l]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new A("input matrix dimensions do not match");const a=new Q(Math.floor(this.width/32)+1),l=this.rowSize,f=this.bits;for(let h=0,g=this.height;h<g;h++){const v=h*l,_=n.getRow(h,a).getBitArray();for(let S=0;S<l;S++)f[v+S]^=_[S]}}clear(){const n=this.bits,a=n.length;for(let l=0;l<a;l++)n[l]=0}setRegion(n,a,l,f){if(a<0||n<0)throw new A("Left and top must be nonnegative");if(f<1||l<1)throw new A("Height and width must be at least 1");const h=n+l,g=a+f;if(g>this.height||h>this.width)throw new A("The region must fit inside the matrix");const v=this.rowSize,_=this.bits;for(let S=a;S<g;S++){const R=S*v;for(let M=n;M<h;M++)_[R+Math.floor(M/32)]|=1<<(M&31)&4294967295}}getRow(n,a){a==null||a.getSize()<this.width?a=new Q(this.width):a.clear();const l=this.rowSize,f=this.bits,h=n*l;for(let g=0;g<l;g++)a.setBulk(g*32,f[h+g]);return a}setRow(n,a){O.arraycopy(a.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),a=this.getHeight();let l=new Q(n),f=new Q(n);for(let h=0,g=Math.floor((a+1)/2);h<g;h++)l=this.getRow(h,l),f=this.getRow(a-1-h,f),l.reverse(),f.reverse(),this.setRow(h,f),this.setRow(a-1-h,l)}getEnclosingRectangle(){const n=this.width,a=this.height,l=this.rowSize,f=this.bits;let h=n,g=a,v=-1,_=-1;for(let S=0;S<a;S++)for(let R=0;R<l;R++){const M=f[S*l+R];if(M!==0){if(S<g&&(g=S),S>_&&(_=S),R*32<h){let F=0;for(;(M<<31-F&4294967295)===0;)F++;R*32+F<h&&(h=R*32+F)}if(R*32+31>v){let F=31;for(;!(M>>>F);)F--;R*32+F>v&&(v=R*32+F)}}}return v<h||_<g?null:Int32Array.from([h,g,v-h+1,_-g+1])}getTopLeftOnBit(){const n=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&a[l]===0;)l++;if(l===a.length)return null;const f=l/n;let h=l%n*32;const g=a[l];let v=0;for(;(g<<31-v&4294967295)===0;)v++;return h+=v,Int32Array.from([h,f])}getBottomRightOnBit(){const n=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&a[l]===0;)l--;if(l<0)return null;const f=Math.floor(l/n);let h=Math.floor(l%n)*32;const g=a[l];let v=31;for(;!(g>>>v);)v--;return h+=v,Int32Array.from([h,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof at))return!1;const a=n;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&z.equals(this.bits,a.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+z.hashCode(this.bits),n}toString(n="X ",a="  ",l=`
`){return this.buildToString(n,a,l)}buildToString(n,a,l){let f=new Re;for(let h=0,g=this.height;h<g;h++){for(let v=0,_=this.width;v<_;v++)f.append(this.get(v,h)?n:a);f.append(l)}return f.toString()}clone(){return new at(this.width,this.height,this.rowSize,this.bits.slice())}}class le extends x{static getNotFoundInstance(){return new le}}le.kind="NotFoundException";class pt extends b{constructor(n){super(n),this.luminances=pt.EMPTY,this.buckets=new Int32Array(pt.LUMINANCE_BUCKETS)}getBlackRow(n,a){const l=this.getLuminanceSource(),f=l.getWidth();a==null||a.getSize()<f?a=new Q(f):a.clear(),this.initArrays(f);const h=l.getRow(n,this.luminances),g=this.buckets;for(let _=0;_<f;_++)g[(h[_]&255)>>pt.LUMINANCE_SHIFT]++;const v=pt.estimateBlackPoint(g);if(f<3)for(let _=0;_<f;_++)(h[_]&255)<v&&a.set(_);else{let _=h[0]&255,S=h[1]&255;for(let R=1;R<f-1;R++){const M=h[R+1]&255;(S*4-_-M)/2<v&&a.set(R),_=S,S=M}}return a}getBlackMatrix(){const n=this.getLuminanceSource(),a=n.getWidth(),l=n.getHeight(),f=new at(a,l);this.initArrays(a);const h=this.buckets;for(let _=1;_<5;_++){const S=Math.floor(l*_/5),R=n.getRow(S,this.luminances),M=Math.floor(a*4/5);for(let F=Math.floor(a/5);F<M;F++){const Y=R[F]&255;h[Y>>pt.LUMINANCE_SHIFT]++}}const g=pt.estimateBlackPoint(h),v=n.getMatrix();for(let _=0;_<l;_++){const S=_*a;for(let R=0;R<a;R++)(v[S+R]&255)<g&&f.set(R,_)}return f}createBinarizer(n){return new pt(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const a=this.buckets;for(let l=0;l<pt.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(n){const a=n.length;let l=0,f=0,h=0;for(let R=0;R<a;R++)n[R]>h&&(f=R,h=n[R]),n[R]>l&&(l=n[R]);let g=0,v=0;for(let R=0;R<a;R++){const M=R-f,F=n[R]*M*M;F>v&&(g=R,v=F)}if(f>g){const R=f;f=g,g=R}if(g-f<=a/16)throw new le;let _=g-1,S=-1;for(let R=g-1;R>f;R--){const M=R-f,F=M*M*(g-R)*(l-n[R]);F>S&&(_=R,S=F)}return _<<pt.LUMINANCE_SHIFT}}pt.LUMINANCE_BITS=5,pt.LUMINANCE_SHIFT=8-pt.LUMINANCE_BITS,pt.LUMINANCE_BUCKETS=1<<pt.LUMINANCE_BITS,pt.EMPTY=Uint8ClampedArray.from([0]);class Ke extends pt{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),a=n.getWidth(),l=n.getHeight();if(a>=Ke.MINIMUM_DIMENSION&&l>=Ke.MINIMUM_DIMENSION){const f=n.getMatrix();let h=a>>Ke.BLOCK_SIZE_POWER;(a&Ke.BLOCK_SIZE_MASK)!==0&&h++;let g=l>>Ke.BLOCK_SIZE_POWER;(l&Ke.BLOCK_SIZE_MASK)!==0&&g++;const v=Ke.calculateBlackPoints(f,h,g,a,l),_=new at(a,l);Ke.calculateThresholdForBlock(f,h,g,a,l,v,_),this.matrix=_}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new Ke(n)}static calculateThresholdForBlock(n,a,l,f,h,g,v){const _=h-Ke.BLOCK_SIZE,S=f-Ke.BLOCK_SIZE;for(let R=0;R<l;R++){let M=R<<Ke.BLOCK_SIZE_POWER;M>_&&(M=_);const F=Ke.cap(R,2,l-3);for(let Y=0;Y<a;Y++){let te=Y<<Ke.BLOCK_SIZE_POWER;te>S&&(te=S);const ie=Ke.cap(Y,2,a-3);let ce=0;for(let je=-2;je<=2;je++){const Ge=g[F+je];ce+=Ge[ie-2]+Ge[ie-1]+Ge[ie]+Ge[ie+1]+Ge[ie+2]}const Ee=ce/25;Ke.thresholdBlock(n,te,M,Ee,f,v)}}}static cap(n,a,l){return n<a?a:n>l?l:n}static thresholdBlock(n,a,l,f,h,g){for(let v=0,_=l*h+a;v<Ke.BLOCK_SIZE;v++,_+=h)for(let S=0;S<Ke.BLOCK_SIZE;S++)(n[_+S]&255)<=f&&g.set(a+S,l+v)}static calculateBlackPoints(n,a,l,f,h){const g=h-Ke.BLOCK_SIZE,v=f-Ke.BLOCK_SIZE,_=new Array(l);for(let S=0;S<l;S++){_[S]=new Int32Array(a);let R=S<<Ke.BLOCK_SIZE_POWER;R>g&&(R=g);for(let M=0;M<a;M++){let F=M<<Ke.BLOCK_SIZE_POWER;F>v&&(F=v);let Y=0,te=255,ie=0;for(let Ee=0,je=R*f+F;Ee<Ke.BLOCK_SIZE;Ee++,je+=f){for(let Ge=0;Ge<Ke.BLOCK_SIZE;Ge++){const Le=n[je+Ge]&255;Y+=Le,Le<te&&(te=Le),Le>ie&&(ie=Le)}if(ie-te>Ke.MIN_DYNAMIC_RANGE)for(Ee++,je+=f;Ee<Ke.BLOCK_SIZE;Ee++,je+=f)for(let Ge=0;Ge<Ke.BLOCK_SIZE;Ge++)Y+=n[je+Ge]&255}let ce=Y>>Ke.BLOCK_SIZE_POWER*2;if(ie-te<=Ke.MIN_DYNAMIC_RANGE&&(ce=te/2,S>0&&M>0)){const Ee=(_[S-1][M]+2*_[S][M-1]+_[S-1][M-1])/4;te<Ee&&(ce=Ee)}_[S][M]=ce}}return _}}Ke.BLOCK_SIZE_POWER=3,Ke.BLOCK_SIZE=1<<Ke.BLOCK_SIZE_POWER,Ke.BLOCK_SIZE_MASK=Ke.BLOCK_SIZE-1,Ke.MINIMUM_DIMENSION=Ke.BLOCK_SIZE*5,Ke.MIN_DYNAMIC_RANGE=24;class We{constructor(n,a){this.width=n,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,a,l,f){throw new Ne("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ne("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ne("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let a=new Re;for(let l=0;l<this.height;l++){const f=this.getRow(l,n);for(let h=0;h<this.width;h++){const g=f[h]&255;let v;g<64?v="#":g<128?v="+":g<192?v=".":v=" ",a.append(v)}a.append(`
`)}return a.toString()}}class nt extends We{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,a){const l=this.delegate.getRow(n,a),f=this.getWidth();for(let h=0;h<f;h++)l[h]=255-(l[h]&255);return l}getMatrix(){const n=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let f=0;f<a;f++)l[f]=255-(n[f]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(n,a,l,f){return new nt(this.delegate.crop(n,a,l,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new nt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new nt(this.delegate.rotateCounterClockwise45())}}class $e extends We{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=$e.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const a=n.getContext("2d").getImageData(0,0,n.width,n.height);return $e.toGrayscaleBuffer(a.data,n.width,n.height)}static toGrayscaleBuffer(n,a,l){const f=new Uint8ClampedArray(a*l);for(let h=0,g=0,v=n.length;h<v;h+=4,g++){let _;if(n[h+3]===0)_=255;else{const R=n[h],M=n[h+1],F=n[h+2];_=306*R+601*M+117*F+512>>10}f[g]=_}return f}getRow(n,a){if(n<0||n>=this.getHeight())throw new A("Requested row is outside the image: "+n);const l=this.getWidth(),f=n*l;return a===null?a=this.buffer.slice(f,f+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(f,f+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,a,l,f){return super.crop(n,a,l,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const a=this.getTempCanvasElement(),l=a.getContext("2d"),f=n*$e.DEGREE_TO_RADIANS,h=this.canvas.width,g=this.canvas.height,v=Math.ceil(Math.abs(Math.cos(f))*h+Math.abs(Math.sin(f))*g),_=Math.ceil(Math.abs(Math.sin(f))*h+Math.abs(Math.cos(f))*g);return a.width=v,a.height=_,l.translate(v/2,_/2),l.rotate(f),l.drawImage(this.canvas,h/-2,g/-2),this.buffer=$e.makeBufferFromCanvasImageData(a),this}invert(){return new nt(this)}}$e.DEGREE_TO_RADIANS=Math.PI/180;class ue{constructor(n,a,l){this.deviceId=n,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var j=(globalThis||jc||self||window||void 0)&&(globalThis||jc||self||window||void 0).__awaiter||function(D,n,a,l){function f(h){return h instanceof a?h:new a(function(g){g(h)})}return new(a||(a=Promise))(function(h,g){function v(R){try{S(l.next(R))}catch(M){g(M)}}function _(R){try{S(l.throw(R))}catch(M){g(M)}}function S(R){R.done?h(R.value):f(R.value).then(v,_)}S((l=l.apply(D,n||[])).next())})};class ae{constructor(n,a=500,l){this.reader=n,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return j(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of n){const f=l.kind==="video"?"videoinput":l.kind;if(f!=="videoinput")continue;const h=l.deviceId||l.id,g=l.label||`Video device ${a.length+1}`,v=l.groupId,_={deviceId:h,label:g,kind:f,groupId:v};a.push(_)}return a})}getVideoInputDevices(){return j(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new ue(a.deviceId,a.label))})}findDeviceById(n){return j(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===n):null})}decodeFromInputVideoDevice(n,a){return j(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,a)})}decodeOnceFromVideoDevice(n,a){return j(this,void 0,void 0,function*(){this.reset();let l;n?l={deviceId:{exact:n}}:l={facingMode:"environment"};const f={video:l};return yield this.decodeOnceFromConstraints(f,a)})}decodeOnceFromConstraints(n,a){return j(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(n,a){return j(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(n,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(n,a,l){return j(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,a,l)})}decodeFromVideoDevice(n,a,l){return j(this,void 0,void 0,function*(){let f;n?f={deviceId:{exact:n}}:f={facingMode:"environment"};const h={video:f};return yield this.decodeFromConstraints(h,a,l)})}decodeFromConstraints(n,a,l){return j(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(f,a,l)})}decodeFromStream(n,a,l){return j(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(n,a);return yield this.decodeContinuously(f,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,a){return j(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,n),this.videoElement=l,this.stream=n,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(n){return new Promise((a,l)=>this.playVideoOnLoad(n,()=>a()))}playVideoOnLoad(n,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",a),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return j(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,a){const l=document.getElementById(n);if(!l)throw new E(`element with id '${n}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new E(`element with id '${n}' must be an ${a} element`);return l}decodeFromImage(n,a){if(!n&&!a)throw new E("either imageElement with a src set or an url must be provided");return a&&!n?this.decodeFromImageUrl(a):this.decodeFromImageElement(n)}decodeFromVideo(n,a){if(!n&&!a)throw new E("Either an element with a src set or an URL must be provided");return a&&!n?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,a,l){if(n===void 0&&a===void 0)throw new E("Either an element with a src set or an URL must be provided");return a&&!n?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(n,l)}decodeFromImageElement(n){if(!n)throw new E("An image element must be provided.");this.reset();const a=this.prepareImageElement(n);this.imageElement=a;let l;return this.isImageLoaded(a)?l=this.decodeOnce(a,!1,!0):l=this._decodeOnLoadImage(a),l}decodeFromVideoElement(n){const a=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(n,a){const l=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(n){if(!n)throw new E("A video element must be provided.");this.reset();const a=this.prepareVideoElement(n);return this.videoElement=a,a}decodeFromImageUrl(n){if(!n)throw new E("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=n,l}decodeFromVideoUrl(n){if(!n)throw new E("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=n,l}decodeFromVideoUrlContinuously(n,a){if(!n)throw new E("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(l,a);return l.src=n,f}_decodeOnLoadImage(n){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(a,l),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return j(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,a){return j(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,a)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let a;return typeof n>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof n=="string"&&(a=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(a=n),a}prepareVideoElement(n){let a;return!n&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof n=="string"&&(a=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(a=n),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(n,a=!0,l=!0){this._stopAsyncDecode=!1;const f=(h,g)=>{if(this._stopAsyncDecode){g(new le("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const v=this.decode(n);h(v)}catch(v){const _=a&&v instanceof le,R=(v instanceof N||v instanceof G)&&l;if(_||R)return setTimeout(f,this._timeBetweenDecodingAttempts,h,g);g(v)}};return new Promise((h,g)=>f(h,g))}decodeContinuously(n,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(n);a(f,null),setTimeout(l,this.timeBetweenScansMillis)}catch(f){a(null,f);const h=f instanceof N||f instanceof G,g=f instanceof le;(h||g)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(n){const a=this.createBinaryBitmap(n);return this.decodeBitmap(a)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,a,l){a||(a={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(n,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(n,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(n,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const a=this.getCaptureCanvas(n),l=new $e(a),f=new Ke(l);return new C(f)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const a=this.createCaptureCanvas(n);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,f;return typeof n<"u"&&(n instanceof HTMLVideoElement?(l=n.videoWidth,f=n.videoHeight):n instanceof HTMLImageElement&&(l=n.naturalWidth||n.width,f=n.naturalHeight||n.height)),a.style.width=l+"px",a.style.height=f+"px",a.width=l,a.height=f,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,a){try{n.srcObject=a}catch{n.src=URL.createObjectURL(a)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class ee{constructor(n,a,l=a==null?0:8*a.length,f,h,g=O.currentTimeMillis()){this.text=n,this.rawBytes=a,this.numBits=l,this.resultPoints=f,this.format=h,this.timestamp=g,this.text=n,this.rawBytes=a,l==null?this.numBits=a==null?0:8*a.length:this.numBits=l,this.resultPoints=f,this.format=h,this.resultMetadata=null,g==null?this.timestamp=O.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,a)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const a=this.resultPoints;if(a===null)this.resultPoints=n;else if(n!==null&&n.length>0){const l=new Array(a.length+n.length);O.arraycopy(a,0,l,0,a.length),O.arraycopy(n,0,l,a.length,n.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var re;(function(D){D[D.AZTEC=0]="AZTEC",D[D.CODABAR=1]="CODABAR",D[D.CODE_39=2]="CODE_39",D[D.CODE_93=3]="CODE_93",D[D.CODE_128=4]="CODE_128",D[D.DATA_MATRIX=5]="DATA_MATRIX",D[D.EAN_8=6]="EAN_8",D[D.EAN_13=7]="EAN_13",D[D.ITF=8]="ITF",D[D.MAXICODE=9]="MAXICODE",D[D.PDF_417=10]="PDF_417",D[D.QR_CODE=11]="QR_CODE",D[D.RSS_14=12]="RSS_14",D[D.RSS_EXPANDED=13]="RSS_EXPANDED",D[D.UPC_A=14]="UPC_A",D[D.UPC_E=15]="UPC_E",D[D.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(re||(re={}));var oe=re,qe;(function(D){D[D.OTHER=0]="OTHER",D[D.ORIENTATION=1]="ORIENTATION",D[D.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",D[D.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",D[D.ISSUE_NUMBER=4]="ISSUE_NUMBER",D[D.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",D[D.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",D[D.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",D[D.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",D[D.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",D[D.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(qe||(qe={}));var De=qe;class Xe{constructor(n,a,l,f,h=-1,g=-1){this.rawBytes=n,this.text=a,this.byteSegments=l,this.ecLevel=f,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=g,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ve{exp(n){return this.expTable[n]}log(n){if(n===0)throw new A;return this.logTable[n]}static addOrSubtract(n,a){return n^a}}class Tt{constructor(n,a){if(a.length===0)throw new A;this.field=n;const l=a.length;if(l>1&&a[0]===0){let f=1;for(;f<l&&a[f]===0;)f++;f===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-f),O.arraycopy(a,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const a=this.coefficients;let l;if(n===1){l=0;for(let g=0,v=a.length;g!==v;g++){const _=a[g];l=Ve.addOrSubtract(l,_)}return l}l=a[0];const f=a.length,h=this.field;for(let g=1;g<f;g++)l=Ve.addOrSubtract(h.multiply(n,l),a[g]);return l}addOrSubtract(n){if(!this.field.equals(n.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let a=this.coefficients,l=n.coefficients;if(a.length>l.length){const g=a;a=l,l=g}let f=new Int32Array(l.length);const h=l.length-a.length;O.arraycopy(l,0,f,0,h);for(let g=h;g<l.length;g++)f[g]=Ve.addOrSubtract(a[g-h],l[g]);return new Tt(this.field,f)}multiply(n){if(!this.field.equals(n.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,f=n.coefficients,h=f.length,g=new Int32Array(l+h-1),v=this.field;for(let _=0;_<l;_++){const S=a[_];for(let R=0;R<h;R++)g[_+R]=Ve.addOrSubtract(g[_+R],v.multiply(S,f[R]))}return new Tt(v,g)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const a=this.coefficients.length,l=this.field,f=new Int32Array(a),h=this.coefficients;for(let g=0;g<a;g++)f[g]=l.multiply(h[g],n);return new Tt(l,f)}multiplyByMonomial(n,a){if(n<0)throw new A;if(a===0)return this.field.getZero();const l=this.coefficients,f=l.length,h=new Int32Array(f+n),g=this.field;for(let v=0;v<f;v++)h[v]=g.multiply(l[v],a);return new Tt(g,h)}divide(n){if(!this.field.equals(n.field))throw new A("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new A("Divide by 0");const a=this.field;let l=a.getZero(),f=this;const h=n.getCoefficient(n.getDegree()),g=a.inverse(h);for(;f.getDegree()>=n.getDegree()&&!f.isZero();){const v=f.getDegree()-n.getDegree(),_=a.multiply(f.getCoefficient(f.getDegree()),g),S=n.multiplyByMonomial(v,_),R=a.buildMonomial(v,_);l=l.addOrSubtract(R),f=f.addOrSubtract(S)}return[l,f]}toString(){let n="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(l!==0){if(l<0?(n+=" - ",l=-l):n.length>0&&(n+=" + "),a===0||l!==1){const f=this.field.log(l);f===0?n+="1":f===1?n+="a":(n+="a^",n+=f)}a!==0&&(a===1?n+="x":(n+="x^",n+=a))}}return n}}class Mt extends x{}Mt.kind="ArithmeticException";class mt extends Ve{constructor(n,a,l){super(),this.primitive=n,this.size=a,this.generatorBase=l;const f=new Int32Array(a);let h=1;for(let v=0;v<a;v++)f[v]=h,h*=2,h>=a&&(h^=n,h&=a-1);this.expTable=f;const g=new Int32Array(a);for(let v=0;v<a-1;v++)g[f[v]]=v;this.logTable=g,this.zero=new Tt(this,Int32Array.from([0])),this.one=new Tt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,a){if(n<0)throw new A;if(a===0)return this.zero;const l=new Int32Array(n+1);return l[0]=a,new Tt(this,l)}inverse(n){if(n===0)throw new Mt;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,a){return n===0||a===0?0:this.expTable[(this.logTable[n]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+B.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}mt.AZTEC_DATA_12=new mt(4201,4096,1),mt.AZTEC_DATA_10=new mt(1033,1024,1),mt.AZTEC_DATA_6=new mt(67,64,1),mt.AZTEC_PARAM=new mt(19,16,1),mt.QR_CODE_FIELD_256=new mt(285,256,0),mt.DATA_MATRIX_FIELD_256=new mt(301,256,1),mt.AZTEC_DATA_8=mt.DATA_MATRIX_FIELD_256,mt.MAXICODE_FIELD_64=mt.AZTEC_DATA_6;class Pt extends x{}Pt.kind="ReedSolomonException";class Ar extends x{}Ar.kind="IllegalStateException";class $t{constructor(n){this.field=n}decode(n,a){const l=this.field,f=new Tt(l,n),h=new Int32Array(a);let g=!0;for(let Y=0;Y<a;Y++){const te=f.evaluateAt(l.exp(Y+l.getGeneratorBase()));h[h.length-1-Y]=te,te!==0&&(g=!1)}if(g)return;const v=new Tt(l,h),_=this.runEuclideanAlgorithm(l.buildMonomial(a,1),v,a),S=_[0],R=_[1],M=this.findErrorLocations(S),F=this.findErrorMagnitudes(R,M);for(let Y=0;Y<M.length;Y++){const te=n.length-1-l.log(M[Y]);if(te<0)throw new Pt("Bad error location");n[te]=mt.addOrSubtract(n[te],F[Y])}}runEuclideanAlgorithm(n,a,l){if(n.getDegree()<a.getDegree()){const Y=n;n=a,a=Y}const f=this.field;let h=n,g=a,v=f.getZero(),_=f.getOne();for(;g.getDegree()>=(l/2|0);){let Y=h,te=v;if(h=g,v=_,h.isZero())throw new Pt("r_{i-1} was zero");g=Y;let ie=f.getZero();const ce=h.getCoefficient(h.getDegree()),Ee=f.inverse(ce);for(;g.getDegree()>=h.getDegree()&&!g.isZero();){const je=g.getDegree()-h.getDegree(),Ge=f.multiply(g.getCoefficient(g.getDegree()),Ee);ie=ie.addOrSubtract(f.buildMonomial(je,Ge)),g=g.addOrSubtract(h.multiplyByMonomial(je,Ge))}if(_=ie.multiply(v).addOrSubtract(te),g.getDegree()>=h.getDegree())throw new Ar("Division algorithm failed to reduce polynomial?")}const S=_.getCoefficient(0);if(S===0)throw new Pt("sigmaTilde(0) was zero");const R=f.inverse(S),M=_.multiplyScalar(R),F=g.multiplyScalar(R);return[M,F]}findErrorLocations(n){const a=n.getDegree();if(a===1)return Int32Array.from([n.getCoefficient(1)]);const l=new Int32Array(a);let f=0;const h=this.field;for(let g=1;g<h.getSize()&&f<a;g++)n.evaluateAt(g)===0&&(l[f]=h.inverse(g),f++);if(f!==a)throw new Pt("Error locator degree does not match number of roots");return l}findErrorMagnitudes(n,a){const l=a.length,f=new Int32Array(l),h=this.field;for(let g=0;g<l;g++){const v=h.inverse(a[g]);let _=1;for(let S=0;S<l;S++)if(g!==S){const R=h.multiply(a[S],v),M=(R&1)===0?R|1:R&-2;_=h.multiply(_,M)}f[g]=h.multiply(n.evaluateAt(v),h.inverse(_)),h.getGeneratorBase()!==0&&(f[g]=h.multiply(f[g],v))}return f}}var et;(function(D){D[D.UPPER=0]="UPPER",D[D.LOWER=1]="LOWER",D[D.MIXED=2]="MIXED",D[D.DIGIT=3]="DIGIT",D[D.PUNCT=4]="PUNCT",D[D.BINARY=5]="BINARY"})(et||(et={}));class kt{decode(n){this.ddata=n;let a=n.getBits(),l=this.extractBits(a),f=this.correctBits(l),h=kt.convertBoolArrayToByteArray(f),g=kt.getEncodedData(f),v=new Xe(h,g,null,null);return v.setNumBits(f.length),v}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let a=n.length,l=et.UPPER,f=et.UPPER,h="",g=0;for(;g<a;)if(f===et.BINARY){if(a-g<5)break;let v=kt.readCode(n,g,5);if(g+=5,v===0){if(a-g<11)break;v=kt.readCode(n,g,11)+31,g+=11}for(let _=0;_<v;_++){if(a-g<8){g=a;break}const S=kt.readCode(n,g,8);h+=we.castAsNonUtf8Char(S),g+=8}f=l}else{let v=f===et.DIGIT?4:5;if(a-g<v)break;let _=kt.readCode(n,g,v);g+=v;let S=kt.getCharacter(f,_);S.startsWith("CTRL_")?(l=f,f=kt.getTable(S.charAt(5)),S.charAt(6)==="L"&&(l=f)):(h+=S,f=l)}return h}static getTable(n){switch(n){case"L":return et.LOWER;case"P":return et.PUNCT;case"M":return et.MIXED;case"D":return et.DIGIT;case"B":return et.BINARY;default:return et.UPPER}}static getCharacter(n,a){switch(n){case et.UPPER:return kt.UPPER_TABLE[a];case et.LOWER:return kt.LOWER_TABLE[a];case et.MIXED:return kt.MIXED_TABLE[a];case et.PUNCT:return kt.PUNCT_TABLE[a];case et.DIGIT:return kt.DIGIT_TABLE[a];default:throw new Ar("Bad table")}}correctBits(n){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=mt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=mt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=mt.AZTEC_DATA_10):(l=12,a=mt.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),h=n.length/l;if(h<f)throw new G;let g=n.length%l,v=new Int32Array(h);for(let F=0;F<h;F++,g+=l)v[F]=kt.readCode(n,g,l);try{new $t(a).decode(v,h-f)}catch(F){throw new G(F)}let _=(1<<l)-1,S=0;for(let F=0;F<f;F++){let Y=v[F];if(Y===0||Y===_)throw new G;(Y===1||Y===_-1)&&S++}let R=new Array(f*l-S),M=0;for(let F=0;F<f;F++){let Y=v[F];if(Y===1||Y===_-1)R.fill(Y>1,M,M+l-1),M+=l-1;else for(let te=l-1;te>=0;--te)R[M++]=(Y&1<<te)!==0}return R}extractBits(n){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),f=(a?11:14)+l*4,h=new Int32Array(f),g=new Array(this.totalBitsInLayer(l,a));if(a)for(let v=0;v<h.length;v++)h[v]=v;else{let v=f+1+2*B.truncDivision(B.truncDivision(f,2)-1,15),_=f/2,S=B.truncDivision(v,2);for(let R=0;R<_;R++){let M=R+B.truncDivision(R,15);h[_-R-1]=S-M-1,h[_+R]=S+M+1}}for(let v=0,_=0;v<l;v++){let S=(l-v)*4+(a?9:12),R=v*2,M=f-1-R;for(let F=0;F<S;F++){let Y=F*2;for(let te=0;te<2;te++)g[_+Y+te]=n.get(h[R+te],h[R+F]),g[_+2*S+Y+te]=n.get(h[R+F],h[M-te]),g[_+4*S+Y+te]=n.get(h[M-te],h[M-F]),g[_+6*S+Y+te]=n.get(h[M-F],h[R+te])}_+=S*8}return g}static readCode(n,a,l){let f=0;for(let h=a;h<a+l;h++)f<<=1,n[h]&&(f|=1);return f}static readByte(n,a){let l=n.length-a;return l>=8?kt.readCode(n,a,8):kt.readCode(n,a,l)<<8-l}static convertBoolArrayToByteArray(n){let a=new Uint8Array((n.length+7)/8);for(let l=0;l<a.length;l++)a[l]=kt.readByte(n,8*l);return a}totalBitsInLayer(n,a){return((a?88:112)+16*n)*n}}kt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],kt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],kt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],kt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],kt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ct{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,a,l,f){const h=n-l,g=a-f;return Math.sqrt(h*h+g*g)}static sum(n){let a=0;for(let l=0,f=n.length;l!==f;l++){const h=n[l];a+=h}return a}}class on{static floatToIntBits(n){return n}}on.MAX_VALUE=Number.MAX_SAFE_INTEGER;class it{constructor(n,a){this.x=n,this.y=a}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof it){const a=n;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*on.floatToIntBits(this.x)+on.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const a=this.distance(n[0],n[1]),l=this.distance(n[1],n[2]),f=this.distance(n[0],n[2]);let h,g,v;if(l>=a&&l>=f?(g=n[0],h=n[1],v=n[2]):f>=l&&f>=a?(g=n[1],h=n[0],v=n[2]):(g=n[2],h=n[0],v=n[1]),this.crossProductZ(h,g,v)<0){const _=h;h=v,v=_}n[0]=h,n[1]=g,n[2]=v}static distance(n,a){return Ct.distance(n.x,n.y,a.x,a.y)}static crossProductZ(n,a,l){const f=a.x,h=a.y;return(l.x-f)*(n.y-h)-(l.y-h)*(n.x-f)}}class Fi{constructor(n,a){this.bits=n,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class ys extends Fi{constructor(n,a,l,f,h){super(n,a),this.compact=l,this.nbDatablocks=f,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Sr{constructor(n,a,l,f){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),a==null&&(a=Sr.INIT_SIZE),l==null&&(l=n.getWidth()/2|0),f==null&&(f=n.getHeight()/2|0);const h=a/2|0;if(this.leftInit=l-h,this.rightInit=l+h,this.upInit=f-h,this.downInit=f+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new le}detect(){let n=this.leftInit,a=this.rightInit,l=this.upInit,f=this.downInit,h=!1,g=!0,v=!1,_=!1,S=!1,R=!1,M=!1;const F=this.width,Y=this.height;for(;g;){g=!1;let te=!0;for(;(te||!_)&&a<F;)te=this.containsBlackPoint(l,f,a,!1),te?(a++,g=!0,_=!0):_||a++;if(a>=F){h=!0;break}let ie=!0;for(;(ie||!S)&&f<Y;)ie=this.containsBlackPoint(n,a,f,!0),ie?(f++,g=!0,S=!0):S||f++;if(f>=Y){h=!0;break}let ce=!0;for(;(ce||!R)&&n>=0;)ce=this.containsBlackPoint(l,f,n,!1),ce?(n--,g=!0,R=!0):R||n--;if(n<0){h=!0;break}let Ee=!0;for(;(Ee||!M)&&l>=0;)Ee=this.containsBlackPoint(n,a,l,!0),Ee?(l--,g=!0,M=!0):M||l--;if(l<0){h=!0;break}g&&(v=!0)}if(!h&&v){const te=a-n;let ie=null;for(let Ge=1;ie===null&&Ge<te;Ge++)ie=this.getBlackPointOnSegment(n,f-Ge,n+Ge,f);if(ie==null)throw new le;let ce=null;for(let Ge=1;ce===null&&Ge<te;Ge++)ce=this.getBlackPointOnSegment(n,l+Ge,n+Ge,l);if(ce==null)throw new le;let Ee=null;for(let Ge=1;Ee===null&&Ge<te;Ge++)Ee=this.getBlackPointOnSegment(a,l+Ge,a-Ge,l);if(Ee==null)throw new le;let je=null;for(let Ge=1;je===null&&Ge<te;Ge++)je=this.getBlackPointOnSegment(a,f-Ge,a-Ge,f);if(je==null)throw new le;return this.centerEdges(je,ie,Ee,ce)}else throw new le}getBlackPointOnSegment(n,a,l,f){const h=Ct.round(Ct.distance(n,a,l,f)),g=(l-n)/h,v=(f-a)/h,_=this.image;for(let S=0;S<h;S++){const R=Ct.round(n+S*g),M=Ct.round(a+S*v);if(_.get(R,M))return new it(R,M)}return null}centerEdges(n,a,l,f){const h=n.getX(),g=n.getY(),v=a.getX(),_=a.getY(),S=l.getX(),R=l.getY(),M=f.getX(),F=f.getY(),Y=Sr.CORR;return h<this.width/2?[new it(M-Y,F+Y),new it(v+Y,_+Y),new it(S-Y,R-Y),new it(h+Y,g-Y)]:[new it(M+Y,F+Y),new it(v+Y,_-Y),new it(S-Y,R+Y),new it(h-Y,g-Y)]}containsBlackPoint(n,a,l,f){const h=this.image;if(f){for(let g=n;g<=a;g++)if(h.get(g,l))return!0}else for(let g=n;g<=a;g++)if(h.get(l,g))return!0;return!1}}Sr.INIT_SIZE=10,Sr.CORR=1;class Bi{static checkAndNudgePoints(n,a){const l=n.getWidth(),f=n.getHeight();let h=!0;for(let g=0;g<a.length&&h;g+=2){const v=Math.floor(a[g]),_=Math.floor(a[g+1]);if(v<-1||v>l||_<-1||_>f)throw new le;h=!1,v===-1?(a[g]=0,h=!0):v===l&&(a[g]=l-1,h=!0),_===-1?(a[g+1]=0,h=!0):_===f&&(a[g+1]=f-1,h=!0)}h=!0;for(let g=a.length-2;g>=0&&h;g-=2){const v=Math.floor(a[g]),_=Math.floor(a[g+1]);if(v<-1||v>l||_<-1||_>f)throw new le;h=!1,v===-1?(a[g]=0,h=!0):v===l&&(a[g]=l-1,h=!0),_===-1?(a[g+1]=0,h=!0):_===f&&(a[g+1]=f-1,h=!0)}}}class ln{constructor(n,a,l,f,h,g,v,_,S){this.a11=n,this.a21=a,this.a31=l,this.a12=f,this.a22=h,this.a32=g,this.a13=v,this.a23=_,this.a33=S}static quadrilateralToQuadrilateral(n,a,l,f,h,g,v,_,S,R,M,F,Y,te,ie,ce){const Ee=ln.quadrilateralToSquare(n,a,l,f,h,g,v,_);return ln.squareToQuadrilateral(S,R,M,F,Y,te,ie,ce).times(Ee)}transformPoints(n){const a=n.length,l=this.a11,f=this.a12,h=this.a13,g=this.a21,v=this.a22,_=this.a23,S=this.a31,R=this.a32,M=this.a33;for(let F=0;F<a;F+=2){const Y=n[F],te=n[F+1],ie=h*Y+_*te+M;n[F]=(l*Y+g*te+S)/ie,n[F+1]=(f*Y+v*te+R)/ie}}transformPointsWithValues(n,a){const l=this.a11,f=this.a12,h=this.a13,g=this.a21,v=this.a22,_=this.a23,S=this.a31,R=this.a32,M=this.a33,F=n.length;for(let Y=0;Y<F;Y++){const te=n[Y],ie=a[Y],ce=h*te+_*ie+M;n[Y]=(l*te+g*ie+S)/ce,a[Y]=(f*te+v*ie+R)/ce}}static squareToQuadrilateral(n,a,l,f,h,g,v,_){const S=n-l+h-v,R=a-f+g-_;if(S===0&&R===0)return new ln(l-n,h-l,n,f-a,g-f,a,0,0,1);{const M=l-h,F=v-h,Y=f-g,te=_-g,ie=M*te-F*Y,ce=(S*te-F*R)/ie,Ee=(M*R-S*Y)/ie;return new ln(l-n+ce*l,v-n+Ee*v,n,f-a+ce*f,_-a+Ee*_,a,ce,Ee,1)}}static quadrilateralToSquare(n,a,l,f,h,g,v,_){return ln.squareToQuadrilateral(n,a,l,f,h,g,v,_).buildAdjoint()}buildAdjoint(){return new ln(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new ln(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class is extends Bi{sampleGrid(n,a,l,f,h,g,v,_,S,R,M,F,Y,te,ie,ce,Ee,je,Ge){const Le=ln.quadrilateralToQuadrilateral(f,h,g,v,_,S,R,M,F,Y,te,ie,ce,Ee,je,Ge);return this.sampleGridWithTransform(n,a,l,Le)}sampleGridWithTransform(n,a,l,f){if(a<=0||l<=0)throw new le;const h=new at(a,l),g=new Float32Array(2*a);for(let v=0;v<l;v++){const _=g.length,S=v+.5;for(let R=0;R<_;R+=2)g[R]=R/2+.5,g[R+1]=S;f.transformPoints(g),Bi.checkAndNudgePoints(n,g);try{for(let R=0;R<_;R+=2)n.get(Math.floor(g[R]),Math.floor(g[R+1]))&&h.set(R/2,v)}catch{throw new le}}return h}}class Ur{static setGridSampler(n){Ur.gridSampler=n}static getInstance(){return Ur.gridSampler}}Ur.gridSampler=new is;class Xr{constructor(n,a){this.x=n,this.y=a}toResultPoint(){return new it(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ui{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(n){let g=l[0];l[0]=l[2],l[2]=g}this.extractParameters(l);let f=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),h=this.getMatrixCornerPoints(l);return new ys(f,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new le;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(n[0],n[1],a),this.sampleLine(n[1],n[2],a),this.sampleLine(n[2],n[3],a),this.sampleLine(n[3],n[0],a)]);this.shift=this.getRotation(l,a);let f=0;for(let g=0;g<4;g++){let v=l[(this.shift+g)%4];this.compact?(f<<=7,f+=v>>1&127):(f<<=10,f+=(v>>2&992)+(v>>1&31))}let h=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(n,a){let l=0;n.forEach((f,h,g)=>{let v=(f>>a-2<<1)+(f&1);l=(l<<3)+v}),l=((l&1)<<11)+(l>>1);for(let f=0;f<4;f++)if(B.bitCount(l^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new le}getCorrectedParameterData(n,a){let l,f;a?(l=7,f=2):(l=10,f=4);let h=l-f,g=new Int32Array(l);for(let _=l-1;_>=0;--_)g[_]=n&15,n>>=4;try{new $t(mt.AZTEC_PARAM).decode(g,h)}catch{throw new le}let v=0;for(let _=0;_<f;_++)v=(v<<4)+g[_];return v}getBullsEyeCorners(n){let a=n,l=n,f=n,h=n,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let M=this.getFirstDifferent(a,g,1,-1),F=this.getFirstDifferent(l,g,1,1),Y=this.getFirstDifferent(f,g,-1,1),te=this.getFirstDifferent(h,g,-1,-1);if(this.nbCenterLayers>2){let ie=this.distancePoint(te,M)*this.nbCenterLayers/(this.distancePoint(h,a)*(this.nbCenterLayers+2));if(ie<.75||ie>1.25||!this.isWhiteOrBlackRectangle(M,F,Y,te))break}a=M,l=F,f=Y,h=te,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new le;this.compact=this.nbCenterLayers===5;let v=new it(a.getX()+.5,a.getY()-.5),_=new it(l.getX()+.5,l.getY()+.5),S=new it(f.getX()-.5,f.getY()+.5),R=new it(h.getX()-.5,h.getY()-.5);return this.expandSquare([v,_,S,R],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,a,l,f;try{let v=new Sr(this.image).detect();n=v[0],a=v[1],l=v[2],f=v[3]}catch{let _=this.image.getWidth()/2,S=this.image.getHeight()/2;n=this.getFirstDifferent(new Xr(_+7,S-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Xr(_+7,S+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Xr(_-7,S+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Xr(_-7,S-7),!1,-1,-1).toResultPoint()}let h=Ct.round((n.getX()+f.getX()+a.getX()+l.getX())/4),g=Ct.round((n.getY()+f.getY()+a.getY()+l.getY())/4);try{let v=new Sr(this.image,15,h,g).detect();n=v[0],a=v[1],l=v[2],f=v[3]}catch{n=this.getFirstDifferent(new Xr(h+7,g-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Xr(h+7,g+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Xr(h-7,g+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Xr(h-7,g-7),!1,-1,-1).toResultPoint()}return h=Ct.round((n.getX()+f.getX()+a.getX()+l.getX())/4),g=Ct.round((n.getY()+f.getY()+a.getY()+l.getY())/4),new Xr(h,g)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,a,l,f,h){let g=Ur.getInstance(),v=this.getDimension(),_=v/2-this.nbCenterLayers,S=v/2+this.nbCenterLayers;return g.sampleGrid(n,v,v,_,_,S,_,S,S,_,S,a.getX(),a.getY(),l.getX(),l.getY(),f.getX(),f.getY(),h.getX(),h.getY())}sampleLine(n,a,l){let f=0,h=this.distanceResultPoint(n,a),g=h/l,v=n.getX(),_=n.getY(),S=g*(a.getX()-n.getX())/h,R=g*(a.getY()-n.getY())/h;for(let M=0;M<l;M++)this.image.get(Ct.round(v+M*S),Ct.round(_+M*R))&&(f|=1<<l-M-1);return f}isWhiteOrBlackRectangle(n,a,l,f){let h=3;n=new Xr(n.getX()-h,n.getY()+h),a=new Xr(a.getX()-h,a.getY()-h),l=new Xr(l.getX()+h,l.getY()-h),f=new Xr(f.getX()+h,f.getY()+h);let g=this.getColor(f,n);if(g===0)return!1;let v=this.getColor(n,a);return v!==g||(v=this.getColor(a,l),v!==g)?!1:(v=this.getColor(l,f),v===g)}getColor(n,a){let l=this.distancePoint(n,a),f=(a.getX()-n.getX())/l,h=(a.getY()-n.getY())/l,g=0,v=n.getX(),_=n.getY(),S=this.image.get(n.getX(),n.getY()),R=Math.ceil(l);for(let F=0;F<R;F++)v+=f,_+=h,this.image.get(Ct.round(v),Ct.round(_))!==S&&g++;let M=g/l;return M>.1&&M<.9?0:M<=.1===S?1:-1}getFirstDifferent(n,a,l,f){let h=n.getX()+l,g=n.getY()+f;for(;this.isValid(h,g)&&this.image.get(h,g)===a;)h+=l,g+=f;for(h-=l,g-=f;this.isValid(h,g)&&this.image.get(h,g)===a;)h+=l;for(h-=l;this.isValid(h,g)&&this.image.get(h,g)===a;)g+=f;return g-=f,new Xr(h,g)}expandSquare(n,a,l){let f=l/(2*a),h=n[0].getX()-n[2].getX(),g=n[0].getY()-n[2].getY(),v=(n[0].getX()+n[2].getX())/2,_=(n[0].getY()+n[2].getY())/2,S=new it(v+f*h,_+f*g),R=new it(v-f*h,_-f*g);h=n[1].getX()-n[3].getX(),g=n[1].getY()-n[3].getY(),v=(n[1].getX()+n[3].getX())/2,_=(n[1].getY()+n[3].getY())/2;let M=new it(v+f*h,_+f*g),F=new it(v-f*h,_-f*g);return[S,M,R,F]}isValid(n,a){return n>=0&&n<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(n){let a=Ct.round(n.getX()),l=Ct.round(n.getY());return this.isValid(a,l)}distancePoint(n,a){return Ct.distance(n.getX(),n.getY(),a.getX(),a.getY())}distanceResultPoint(n,a){return Ct.distance(n.getX(),n.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(B.truncDivision(this.nbLayers-4,8)+1)+15}}class ni{decode(n,a=null){let l=null,f=new Ui(n.getBlackMatrix()),h=null,g=null;try{let R=f.detectMirror(!1);h=R.getPoints(),this.reportFoundResultPoints(a,h),g=new kt().decode(R)}catch(R){l=R}if(g==null)try{let R=f.detectMirror(!0);h=R.getPoints(),this.reportFoundResultPoints(a,h),g=new kt().decode(R)}catch(R){throw l??R}let v=new ee(g.getText(),g.getRawBytes(),g.getNumBits(),h,oe.AZTEC,O.currentTimeMillis()),_=g.getByteSegments();_!=null&&v.putMetadata(De.BYTE_SEGMENTS,_);let S=g.getECLevel();return S!=null&&v.putMetadata(De.ERROR_CORRECTION_LEVEL,S),v}reportFoundResultPoints(n,a){if(n!=null){let l=n.get(ve.NEED_RESULT_POINT_CALLBACK);l!=null&&a.forEach((f,h,g)=>{l.foundPossibleResultPoint(f)})}}reset(){}}class Eo extends ae{constructor(n=500){super(new ni,n)}}class cr{decode(n,a){try{return this.doDecode(n,a)}catch{if(a&&a.get(ve.TRY_HARDER)===!0&&n.isRotateSupported()){const h=n.rotateCounterClockwise(),g=this.doDecode(h,a),v=g.getResultMetadata();let _=270;v!==null&&v.get(De.ORIENTATION)===!0&&(_=_+v.get(De.ORIENTATION)%360),g.putMetadata(De.ORIENTATION,_);const S=g.getResultPoints();if(S!==null){const R=h.getHeight();for(let M=0;M<S.length;M++)S[M]=new it(R-S[M].getY()-1,S[M].getX())}return g}else throw new le}}reset(){}doDecode(n,a){const l=n.getWidth(),f=n.getHeight();let h=new Q(l);const g=a&&a.get(ve.TRY_HARDER)===!0,v=Math.max(1,f>>(g?8:5));let _;g?_=f:_=15;const S=Math.trunc(f/2);for(let R=0;R<_;R++){const M=Math.trunc((R+1)/2),F=(R&1)===0,Y=S+v*(F?M:-M);if(Y<0||Y>=f)break;try{h=n.getBlackRow(Y,h)}catch{continue}for(let te=0;te<2;te++){if(te===1&&(h.reverse(),a&&a.get(ve.NEED_RESULT_POINT_CALLBACK)===!0)){const ie=new Map;a.forEach((ce,Ee)=>ie.set(Ee,ce)),ie.delete(ve.NEED_RESULT_POINT_CALLBACK),a=ie}try{const ie=this.decodeRow(Y,h,a);if(te===1){ie.putMetadata(De.ORIENTATION,180);const ce=ie.getResultPoints();ce!==null&&(ce[0]=new it(l-ce[0].getX()-1,ce[0].getY()),ce[1]=new it(l-ce[1].getX()-1,ce[1].getY()))}return ie}catch{}}}throw new le}static recordPattern(n,a,l){const f=l.length;for(let S=0;S<f;S++)l[S]=0;const h=n.getSize();if(a>=h)throw new le;let g=!n.get(a),v=0,_=a;for(;_<h;){if(n.get(_)!==g)l[v]++;else{if(++v===f)break;l[v]=1,g=!g}_++}if(!(v===f||v===f-1&&_===h))throw new le}static recordPatternInReverse(n,a,l){let f=l.length,h=n.get(a);for(;a>0&&f>=0;)n.get(--a)!==h&&(f--,h=!h);if(f>=0)throw new le;cr.recordPattern(n,a+1,l)}static patternMatchVariance(n,a,l){const f=n.length;let h=0,g=0;for(let S=0;S<f;S++)h+=n[S],g+=a[S];if(h<g)return Number.POSITIVE_INFINITY;const v=h/g;l*=v;let _=0;for(let S=0;S<f;S++){const R=n[S],M=a[S]*v,F=R>M?R-M:M-R;if(F>l)return Number.POSITIVE_INFINITY;_+=F}return _/h}}class Ze extends cr{static findStartPattern(n){const a=n.getSize(),l=n.getNextSet(0);let f=0,h=Int32Array.from([0,0,0,0,0,0]),g=l,v=!1;const _=6;for(let S=l;S<a;S++)if(n.get(S)!==v)h[f]++;else{if(f===_-1){let R=Ze.MAX_AVG_VARIANCE,M=-1;for(let F=Ze.CODE_START_A;F<=Ze.CODE_START_C;F++){const Y=cr.patternMatchVariance(h,Ze.CODE_PATTERNS[F],Ze.MAX_INDIVIDUAL_VARIANCE);Y<R&&(R=Y,M=F)}if(M>=0&&n.isRange(Math.max(0,g-(S-g)/2),g,!1))return Int32Array.from([g,S,M]);g+=h[0]+h[1],h=h.slice(2,h.length-1),h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,v=!v}throw new le}static decodeCode(n,a,l){cr.recordPattern(n,l,a);let f=Ze.MAX_AVG_VARIANCE,h=-1;for(let g=0;g<Ze.CODE_PATTERNS.length;g++){const v=Ze.CODE_PATTERNS[g],_=this.patternMatchVariance(a,v,Ze.MAX_INDIVIDUAL_VARIANCE);_<f&&(f=_,h=g)}if(h>=0)return h;throw new le}decodeRow(n,a,l){const f=l&&l.get(ve.ASSUME_GS1)===!0,h=Ze.findStartPattern(a),g=h[2];let v=0;const _=new Uint8Array(20);_[v++]=g;let S;switch(g){case Ze.CODE_START_A:S=Ze.CODE_CODE_A;break;case Ze.CODE_START_B:S=Ze.CODE_CODE_B;break;case Ze.CODE_START_C:S=Ze.CODE_CODE_C;break;default:throw new G}let R=!1,M=!1,F="",Y=h[0],te=h[1];const ie=Int32Array.from([0,0,0,0,0,0]);let ce=0,Ee=0,je=g,Ge=0,Le=!0,jt=!1,Nt=!1;for(;!R;){const Wi=M;switch(M=!1,ce=Ee,Ee=Ze.decodeCode(a,ie,te),_[v++]=Ee,Ee!==Ze.CODE_STOP&&(Le=!0),Ee!==Ze.CODE_STOP&&(Ge++,je+=Ge*Ee),Y=te,te+=ie.reduce((na,Bl)=>na+Bl,0),Ee){case Ze.CODE_START_A:case Ze.CODE_START_B:case Ze.CODE_START_C:throw new G}switch(S){case Ze.CODE_CODE_A:if(Ee<64)Nt===jt?F+=String.fromCharCode(32+Ee):F+=String.fromCharCode(32+Ee+128),Nt=!1;else if(Ee<96)Nt===jt?F+=String.fromCharCode(Ee-64):F+=String.fromCharCode(Ee+64),Nt=!1;else switch(Ee!==Ze.CODE_STOP&&(Le=!1),Ee){case Ze.CODE_FNC_1:f&&(F.length===0?F+="]C1":F+="");break;case Ze.CODE_FNC_2:case Ze.CODE_FNC_3:break;case Ze.CODE_FNC_4_A:!jt&&Nt?(jt=!0,Nt=!1):jt&&Nt?(jt=!1,Nt=!1):Nt=!0;break;case Ze.CODE_SHIFT:M=!0,S=Ze.CODE_CODE_B;break;case Ze.CODE_CODE_B:S=Ze.CODE_CODE_B;break;case Ze.CODE_CODE_C:S=Ze.CODE_CODE_C;break;case Ze.CODE_STOP:R=!0;break}break;case Ze.CODE_CODE_B:if(Ee<96)Nt===jt?F+=String.fromCharCode(32+Ee):F+=String.fromCharCode(32+Ee+128),Nt=!1;else switch(Ee!==Ze.CODE_STOP&&(Le=!1),Ee){case Ze.CODE_FNC_1:f&&(F.length===0?F+="]C1":F+="");break;case Ze.CODE_FNC_2:case Ze.CODE_FNC_3:break;case Ze.CODE_FNC_4_B:!jt&&Nt?(jt=!0,Nt=!1):jt&&Nt?(jt=!1,Nt=!1):Nt=!0;break;case Ze.CODE_SHIFT:M=!0,S=Ze.CODE_CODE_A;break;case Ze.CODE_CODE_A:S=Ze.CODE_CODE_A;break;case Ze.CODE_CODE_C:S=Ze.CODE_CODE_C;break;case Ze.CODE_STOP:R=!0;break}break;case Ze.CODE_CODE_C:if(Ee<100)Ee<10&&(F+="0"),F+=Ee;else switch(Ee!==Ze.CODE_STOP&&(Le=!1),Ee){case Ze.CODE_FNC_1:f&&(F.length===0?F+="]C1":F+="");break;case Ze.CODE_CODE_A:S=Ze.CODE_CODE_A;break;case Ze.CODE_CODE_B:S=Ze.CODE_CODE_B;break;case Ze.CODE_STOP:R=!0;break}break}Wi&&(S=S===Ze.CODE_CODE_A?Ze.CODE_CODE_B:Ze.CODE_CODE_A)}const Mn=te-Y;if(te=a.getNextUnset(te),!a.isRange(te,Math.min(a.getSize(),te+(te-Y)/2),!1))throw new le;if(je-=Ge*ce,je%103!==ce)throw new N;const li=F.length;if(li===0)throw new le;li>0&&Le&&(S===Ze.CODE_CODE_C?F=F.substring(0,li-2):F=F.substring(0,li-1));const Wr=(h[1]+h[0])/2,qt=Y+Mn/2,Tr=_.length,yn=new Uint8Array(Tr);for(let Wi=0;Wi<Tr;Wi++)yn[Wi]=_[Wi];const Is=[new it(Wr,n),new it(qt,n)];return new ee(F,yn,0,Is,oe.CODE_128,new Date().getTime())}}Ze.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ze.MAX_AVG_VARIANCE=.25,Ze.MAX_INDIVIDUAL_VARIANCE=.7,Ze.CODE_SHIFT=98,Ze.CODE_CODE_C=99,Ze.CODE_CODE_B=100,Ze.CODE_CODE_A=101,Ze.CODE_FNC_1=102,Ze.CODE_FNC_2=97,Ze.CODE_FNC_3=96,Ze.CODE_FNC_4_A=101,Ze.CODE_FNC_4_B=100,Ze.CODE_START_A=103,Ze.CODE_START_B=104,Ze.CODE_START_C=105,Ze.CODE_STOP=106;class yr extends cr{constructor(n=!1,a=!1){super(),this.usingCheckDigit=n,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,a,l){let f=this.counters;f.fill(0),this.decodeRowResult="";let h=yr.findAsteriskPattern(a,f),g=a.getNextSet(h[1]),v=a.getSize(),_,S;do{yr.recordPattern(a,g,f);let ie=yr.toNarrowWidePattern(f);if(ie<0)throw new le;_=yr.patternToChar(ie),this.decodeRowResult+=_,S=g;for(let ce of f)g+=ce;g=a.getNextSet(g)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let R=0;for(let ie of f)R+=ie;let M=g-S-R;if(g!==v&&M*2<R)throw new le;if(this.usingCheckDigit){let ie=this.decodeRowResult.length-1,ce=0;for(let Ee=0;Ee<ie;Ee++)ce+=yr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ee));if(this.decodeRowResult.charAt(ie)!==yr.ALPHABET_STRING.charAt(ce%43))throw new N;this.decodeRowResult=this.decodeRowResult.substring(0,ie)}if(this.decodeRowResult.length===0)throw new le;let F;this.extendedMode?F=yr.decodeExtended(this.decodeRowResult):F=this.decodeRowResult;let Y=(h[1]+h[0])/2,te=S+R/2;return new ee(F,null,0,[new it(Y,n),new it(te,n)],oe.CODE_39,new Date().getTime())}static findAsteriskPattern(n,a){let l=n.getSize(),f=n.getNextSet(0),h=0,g=f,v=!1,_=a.length;for(let S=f;S<l;S++)if(n.get(S)!==v)a[h]++;else{if(h===_-1){if(this.toNarrowWidePattern(a)===yr.ASTERISK_ENCODING&&n.isRange(Math.max(0,g-Math.floor((S-g)/2)),g,!1))return[g,S];g+=a[0]+a[1],a.copyWithin(0,2,2+h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,v=!v}throw new le}static toNarrowWidePattern(n){let a=n.length,l=0,f;do{let h=2147483647;for(let _ of n)_<h&&_>l&&(h=_);l=h,f=0;let g=0,v=0;for(let _=0;_<a;_++){let S=n[_];S>l&&(v|=1<<a-1-_,f++,g+=S)}if(f===3){for(let _=0;_<a&&f>0;_++){let S=n[_];if(S>l&&(f--,S*2>=g))return-1}return v}}while(f>3);return-1}static patternToChar(n){for(let a=0;a<yr.CHARACTER_ENCODINGS.length;a++)if(yr.CHARACTER_ENCODINGS[a]===n)return yr.ALPHABET_STRING.charAt(a);if(n===yr.ASTERISK_ENCODING)return"*";throw new le}static decodeExtended(n){let a=n.length,l="";for(let f=0;f<a;f++){let h=n.charAt(f);if(h==="+"||h==="$"||h==="%"||h==="/"){let g=n.charAt(f+1),v="\0";switch(h){case"+":if(g>="A"&&g<="Z")v=String.fromCharCode(g.charCodeAt(0)+32);else throw new G;break;case"$":if(g>="A"&&g<="Z")v=String.fromCharCode(g.charCodeAt(0)-64);else throw new G;break;case"%":if(g>="A"&&g<="E")v=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")v=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")v=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")v=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")v="\0";else if(g==="V")v="@";else if(g==="W")v="`";else if(g==="X"||g==="Y"||g==="Z")v="";else throw new G;break;case"/":if(g>="A"&&g<="O")v=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")v=":";else throw new G;break}l+=v,f++}else l+=h}return l}}yr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",yr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],yr.ASTERISK_ENCODING=148;class Vt extends cr{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,a,l){let f=this.decodeStart(a),h=this.decodeEnd(a),g=new Re;Vt.decodeMiddle(a,f[1],h[0],g);let v=g.toString(),_=null;l!=null&&(_=l.get(ve.ALLOWED_LENGTHS)),_==null&&(_=Vt.DEFAULT_ALLOWED_LENGTHS);let S=v.length,R=!1,M=0;for(let te of _){if(S===te){R=!0;break}te>M&&(M=te)}if(!R&&S>M&&(R=!0),!R)throw new G;const F=[new it(f[1],n),new it(h[0],n)];return new ee(v,null,0,F,oe.ITF,new Date().getTime())}static decodeMiddle(n,a,l,f){let h=new Int32Array(10),g=new Int32Array(5),v=new Int32Array(5);for(h.fill(0),g.fill(0),v.fill(0);a<l;){cr.recordPattern(n,a,h);for(let S=0;S<5;S++){let R=2*S;g[S]=h[R],v[S]=h[R+1]}let _=Vt.decodeDigit(g);f.append(_.toString()),_=this.decodeDigit(v),f.append(_.toString()),h.forEach(function(S){a+=S})}}decodeStart(n){let a=Vt.skipWhiteSpace(n),l=Vt.findGuardPattern(n,a,Vt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(n,l[0]),l}validateQuietZone(n,a){let l=this.narrowLineWidth*10;l=l<a?l:a;for(let f=a-1;l>0&&f>=0&&!n.get(f);f--)l--;if(l!==0)throw new le}static skipWhiteSpace(n){const a=n.getSize(),l=n.getNextSet(0);if(l===a)throw new le;return l}decodeEnd(n){n.reverse();try{let a=Vt.skipWhiteSpace(n),l;try{l=Vt.findGuardPattern(n,a,Vt.END_PATTERN_REVERSED[0])}catch(h){h instanceof le&&(l=Vt.findGuardPattern(n,a,Vt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,l[0]);let f=l[0];return l[0]=n.getSize()-l[1],l[1]=n.getSize()-f,l}finally{n.reverse()}}static findGuardPattern(n,a,l){let f=l.length,h=new Int32Array(f),g=n.getSize(),v=!1,_=0,S=a;h.fill(0);for(let R=a;R<g;R++)if(n.get(R)!==v)h[_]++;else{if(_===f-1){if(cr.patternMatchVariance(h,l,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE)return[S,R];S+=h[0]+h[1],O.arraycopy(h,2,h,0,_-1),h[_-1]=0,h[_]=0,_--}else _++;h[_]=1,v=!v}throw new le}static decodeDigit(n){let a=Vt.MAX_AVG_VARIANCE,l=-1,f=Vt.PATTERNS.length;for(let h=0;h<f;h++){let g=Vt.PATTERNS[h],v=cr.patternMatchVariance(n,g,Vt.MAX_INDIVIDUAL_VARIANCE);v<a?(a=v,l=h):v===a&&(l=-1)}if(l>=0)return l%10;throw new le}}Vt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Vt.MAX_AVG_VARIANCE=.38,Vt.MAX_INDIVIDUAL_VARIANCE=.5,Vt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Vt.START_PATTERN=Int32Array.from([1,1,1,1]),Vt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class sr extends cr{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let a=!1,l,f=0,h=Int32Array.from([0,0,0]);for(;!a;){h=Int32Array.from([0,0,0]),l=sr.findGuardPattern(n,f,!1,this.START_END_PATTERN,h);let g=l[0];f=l[1];let v=g-(f-g);v>=0&&(a=n.isRange(v,g,!1))}return l}static checkChecksum(n){return sr.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let a=n.length;if(a===0)return!1;let l=parseInt(n.charAt(a-1),10);return sr.getStandardUPCEANChecksum(n.substring(0,a-1))===l}static getStandardUPCEANChecksum(n){let a=n.length,l=0;for(let f=a-1;f>=0;f-=2){let h=n.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new G;l+=h}l*=3;for(let f=a-2;f>=0;f-=2){let h=n.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new G;l+=h}return(1e3-l)%10}static decodeEnd(n,a){return sr.findGuardPattern(n,a,!1,sr.START_END_PATTERN,new Int32Array(sr.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,a,l,f){return this.findGuardPattern(n,a,l,f,new Int32Array(f.length))}static findGuardPattern(n,a,l,f,h){let g=n.getSize();a=l?n.getNextUnset(a):n.getNextSet(a);let v=0,_=a,S=f.length,R=l;for(let M=a;M<g;M++)if(n.get(M)!==R)h[v]++;else{if(v===S-1){if(cr.patternMatchVariance(h,f,sr.MAX_INDIVIDUAL_VARIANCE)<sr.MAX_AVG_VARIANCE)return Int32Array.from([_,M]);_+=h[0]+h[1];let F=h.slice(2,h.length-1);for(let Y=0;Y<v-1;Y++)h[Y]=F[Y];h[v-1]=0,h[v]=0,v--}else v++;h[v]=1,R=!R}throw new le}static decodeDigit(n,a,l,f){this.recordPattern(n,l,a);let h=this.MAX_AVG_VARIANCE,g=-1,v=f.length;for(let _=0;_<v;_++){let S=f[_],R=cr.patternMatchVariance(a,S,sr.MAX_INDIVIDUAL_VARIANCE);R<h&&(h=R,g=_)}if(g>=0)return g;throw new le}}sr.MAX_AVG_VARIANCE=.48,sr.MAX_INDIVIDUAL_VARIANCE=.7,sr.START_END_PATTERN=Int32Array.from([1,1,1]),sr.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),sr.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),sr.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ai{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,a,l){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(a,l,f),g=f.toString(),v=Ai.parseExtensionString(g),_=[new it((l[0]+l[1])/2,n),new it(h,n)],S=new ee(g,null,0,_,oe.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&S.putAllMetadata(v),S}decodeMiddle(n,a,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=n.getSize(),g=a[1],v=0;for(let S=0;S<5&&g<h;S++){let R=sr.decodeDigit(n,f,g,sr.L_AND_G_PATTERNS);l+=String.fromCharCode(48+R%10);for(let M of f)g+=M;R>=10&&(v|=1<<4-S),S!==4&&(g=n.getNextSet(g),g=n.getNextUnset(g))}if(l.length!==5)throw new le;let _=this.determineCheckDigit(v);if(Ai.extensionChecksum(l.toString())!==_)throw new le;return g}static extensionChecksum(n){let a=n.length,l=0;for(let f=a-2;f>=0;f-=2)l+=n.charAt(f).charCodeAt(0)-48;l*=3;for(let f=a-1;f>=0;f-=2)l+=n.charAt(f).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(n){for(let a=0;a<10;a++)if(n===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new le}static parseExtensionString(n){if(n.length!==5)return null;let a=Ai.parseExtension5String(n);return a==null?null:new Map([[De.SUGGESTED_PRICE,a]])}static parseExtension5String(n){let a;switch(n.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let l=parseInt(n.substring(1)),f=(l/100).toString(),h=l%100,g=h<10?"0"+h:h.toString();return a+f+"."+g}}class ss{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,a,l){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(a,l,f),g=f.toString(),v=ss.parseExtensionString(g),_=[new it((l[0]+l[1])/2,n),new it(h,n)],S=new ee(g,null,0,_,oe.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&S.putAllMetadata(v),S}decodeMiddle(n,a,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=n.getSize(),g=a[1],v=0;for(let _=0;_<2&&g<h;_++){let S=sr.decodeDigit(n,f,g,sr.L_AND_G_PATTERNS);l+=String.fromCharCode(48+S%10);for(let R of f)g+=R;S>=10&&(v|=1<<1-_),_!==1&&(g=n.getNextSet(g),g=n.getNextUnset(g))}if(l.length!==2)throw new le;if(parseInt(l.toString())%4!==v)throw new le;return g}static parseExtensionString(n){return n.length!==2?null:new Map([[De.ISSUE_NUMBER,parseInt(n)]])}}class Es{static decodeRow(n,a,l){let f=sr.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ai().decodeRow(n,a,f)}catch{return new ss().decodeRow(n,a,f)}}}Es.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Bt extends sr{constructor(){super(),this.decodeRowStringBuffer="",Bt.L_AND_G_PATTERNS=Bt.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let a=Bt.L_PATTERNS[n-10],l=new Int32Array(a.length);for(let f=0;f<a.length;f++)l[f]=a[a.length-f-1];Bt.L_AND_G_PATTERNS[n]=l}}decodeRow(n,a,l){let f=Bt.findStartGuardPattern(a),h=l==null?null:l.get(ve.NEED_RESULT_POINT_CALLBACK);if(h!=null){const Le=new it((f[0]+f[1])/2,n);h.foundPossibleResultPoint(Le)}let g=this.decodeMiddle(a,f,this.decodeRowStringBuffer),v=g.rowOffset,_=g.resultString;if(h!=null){const Le=new it(v,n);h.foundPossibleResultPoint(Le)}let S=this.decodeEnd(a,v);if(h!=null){const Le=new it((S[0]+S[1])/2,n);h.foundPossibleResultPoint(Le)}let R=S[1],M=R+(R-S[0]);if(M>=a.getSize()||!a.isRange(R,M,!1))throw new le;let F=_.toString();if(F.length<8)throw new G;if(!Bt.checkChecksum(F))throw new N;let Y=(f[1]+f[0])/2,te=(S[1]+S[0])/2,ie=this.getBarcodeFormat(),ce=[new it(Y,n),new it(te,n)],Ee=new ee(F,null,0,ce,ie,new Date().getTime()),je=0;try{let Le=Es.decodeRow(n,a,S[1]);Ee.putMetadata(De.UPC_EAN_EXTENSION,Le.getText()),Ee.putAllMetadata(Le.getResultMetadata()),Ee.addResultPoints(Le.getResultPoints()),je=Le.getText().length}catch{}let Ge=l==null?null:l.get(ve.ALLOWED_EAN_EXTENSIONS);if(Ge!=null){let Le=!1;for(let jt in Ge)if(je.toString()===jt){Le=!0;break}if(!Le)throw new le}return Ee}decodeEnd(n,a){return Bt.findGuardPattern(n,a,!1,Bt.START_END_PATTERN,new Int32Array(Bt.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Bt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let a=n.length;if(a===0)return!1;let l=parseInt(n.charAt(a-1),10);return Bt.getStandardUPCEANChecksum(n.substring(0,a-1))===l}static getStandardUPCEANChecksum(n){let a=n.length,l=0;for(let f=a-1;f>=0;f-=2){let h=n.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new G;l+=h}l*=3;for(let f=a-2;f>=0;f-=2){let h=n.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new G;l+=h}return(1e3-l)%10}}class bn extends Bt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,a,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=n.getSize(),g=a[1],v=0;for(let S=0;S<6&&g<h;S++){let R=Bt.decodeDigit(n,f,g,Bt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+R%10);for(let M of f)g+=M;R>=10&&(v|=1<<5-S)}l=bn.determineFirstDigit(l,v),g=Bt.findGuardPattern(n,g,!0,Bt.MIDDLE_PATTERN,new Int32Array(Bt.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<6&&g<h;S++){let R=Bt.decodeDigit(n,f,g,Bt.L_PATTERNS);l+=String.fromCharCode(48+R);for(let M of f)g+=M}return{rowOffset:g,resultString:l}}getBarcodeFormat(){return oe.EAN_13}static determineFirstDigit(n,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return n=String.fromCharCode(48+l)+n,n;throw new le}}bn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class as extends Bt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,a,l){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=n.getSize(),g=a[1];for(let _=0;_<4&&g<h;_++){let S=Bt.decodeDigit(n,f,g,Bt.L_PATTERNS);l+=String.fromCharCode(48+S);for(let R of f)g+=R}g=Bt.findGuardPattern(n,g,!0,Bt.MIDDLE_PATTERN,new Int32Array(Bt.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<4&&g<h;_++){let S=Bt.decodeDigit(n,f,g,Bt.L_PATTERNS);l+=String.fromCharCode(48+S);for(let R of f)g+=R}return{rowOffset:g,resultString:l}}getBarcodeFormat(){return oe.EAN_8}}class Da extends Bt{constructor(){super(...arguments),this.ean13Reader=new bn}getBarcodeFormat(){return oe.UPC_A}decode(n,a){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,a,l))}decodeMiddle(n,a,l){return this.ean13Reader.decodeMiddle(n,a,l)}maybeReturnResult(n){let a=n.getText();if(a.charAt(0)==="0"){let l=new ee(a.substring(1),null,null,n.getResultPoints(),oe.UPC_A);return n.getResultMetadata()!=null&&l.putAllMetadata(n.getResultMetadata()),l}else throw new le}reset(){this.ean13Reader.reset()}}class kn extends Bt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,a,l){const f=this.decodeMiddleCounters.map(S=>S);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const h=n.getSize();let g=a[1],v=0;for(let S=0;S<6&&g<h;S++){const R=kn.decodeDigit(n,f,g,kn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+R%10);for(let M of f)g+=M;R>=10&&(v|=1<<5-S)}let _=kn.determineNumSysAndCheckDigit(l,v);return{rowOffset:g,resultString:_}}decodeEnd(n,a){return kn.findGuardPatternWithoutCounters(n,a,!0,kn.MIDDLE_END_PATTERN)}checkChecksum(n){return Bt.checkChecksum(kn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,a){for(let l=0;l<=1;l++)for(let f=0;f<10;f++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][f]){let h=String.fromCharCode(48+l),g=String.fromCharCode(48+f);return h+n+g}throw le.getNotFoundInstance()}getBarcodeFormat(){return oe.UPC_E}static convertUPCEtoUPCA(n){const a=n.slice(1,7).split("").map(h=>h.charCodeAt(0)),l=new Re;l.append(n.charAt(0));let f=a[5];switch(f){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(f),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(f);break}return n.length>=8&&l.append(n.charAt(7)),l.toString()}}kn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),kn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ks extends cr{constructor(n){super();let a=n==null?null:n.get(ve.POSSIBLE_FORMATS),l=[];i(a)?(l.push(new bn),l.push(new Da),l.push(new as),l.push(new kn)):(a.indexOf(oe.EAN_13)>-1&&l.push(new bn),a.indexOf(oe.UPC_A)>-1&&l.push(new Da),a.indexOf(oe.EAN_8)>-1&&l.push(new as),a.indexOf(oe.UPC_E)>-1&&l.push(new kn)),this.readers=l}decodeRow(n,a,l){for(let f of this.readers)try{const h=f.decodeRow(n,a,l),g=h.getBarcodeFormat()===oe.EAN_13&&h.getText().charAt(0)==="0",v=l==null?null:l.get(ve.POSSIBLE_FORMATS),_=v==null||v.includes(oe.UPC_A);if(g&&_){const S=h.getRawBytes(),R=new ee(h.getText().substring(1),S,S?S.length:null,h.getResultPoints(),oe.UPC_A);return R.putAllMetadata(h.getResultMetadata()),R}return h}catch{}throw new le}reset(){for(let n of this.readers)n.reset()}}class jr extends cr{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,a){for(let l=0;l<a.length;l++)if(cr.patternMatchVariance(n,a[l],jr.MAX_INDIVIDUAL_VARIANCE)<jr.MAX_AVG_VARIANCE)return l;throw new le}static count(n){return Ct.sum(new Int32Array(n))}static increment(n,a){let l=0,f=a[0];for(let h=1;h<n.length;h++)a[h]>f&&(f=a[h],l=h);n[l]++}static decrement(n,a){let l=0,f=a[0];for(let h=1;h<n.length;h++)a[h]<f&&(f=a[h],l=h);n[l]--}static isFinderPattern(n){let a=n[0]+n[1],l=a+n[2]+n[3],f=a/l;if(f>=jr.MIN_FINDER_PATTERN_RATIO&&f<=jr.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let v of n)v>g&&(g=v),v<h&&(h=v);return g<10*h}return!1}}jr.MAX_AVG_VARIANCE=.2,jr.MAX_INDIVIDUAL_VARIANCE=.45,jr.MIN_FINDER_PATTERN_RATIO=9.5/12,jr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Si{constructor(n,a){this.value=n,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Si))return!1;const a=n;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class _s{constructor(n,a,l,f,h){this.value=n,this.startEnd=a,this.value=n,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new it(l,h)),this.resultPoints.push(new it(f,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof _s))return!1;const a=n;return this.value===a.value}hashCode(){return this.value}}class un{constructor(){}static getRSSvalue(n,a,l){let f=0;for(let _ of n)f+=_;let h=0,g=0,v=n.length;for(let _=0;_<v-1;_++){let S;for(S=1,g|=1<<_;S<n[_];S++,g&=~(1<<_)){let R=un.combins(f-S-1,v-_-2);if(l&&g===0&&f-S-(v-_-1)>=v-_-1&&(R-=un.combins(f-S-(v-_),v-_-2)),v-_-1>1){let M=0;for(let F=f-S-(v-_-2);F>a;F--)M+=un.combins(f-S-F-1,v-_-3);R-=M*(v-1-_)}else f-S>a&&R--;h+=R}f-=S}return h}static combins(n,a){let l,f;n-a>a?(f=a,l=n-a):(f=n-a,l=a);let h=1,g=1;for(let v=n;v>l;v--)h*=v,g<=f&&(h/=g,g++);for(;g<=f;)h/=g,g++;return h}}class Ma{static buildBitArray(n){let a=n.length*2-1;n[n.length-1].getRightChar()==null&&(a-=1);let l=12*a,f=new Q(l),h=0,v=n[0].getRightChar().getValue();for(let _=11;_>=0;--_)(v&1<<_)!=0&&f.set(h),h++;for(let _=1;_<n.length;++_){let S=n[_],R=S.getLeftChar().getValue();for(let M=11;M>=0;--M)(R&1<<M)!=0&&f.set(h),h++;if(S.getRightChar()!=null){let M=S.getRightChar().getValue();for(let F=11;F>=0;--F)(M&1<<F)!=0&&f.set(h),h++}}return f}}class mn{constructor(n,a){a?this.decodedInformation=null:(this.finished=n,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Pa{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Rr extends Pa{constructor(n,a){super(n),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Rr.FNC1}}Rr.FNC1="$";class Xn extends Pa{constructor(n,a,l){super(n),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class L extends Pa{constructor(n,a,l){if(super(n),a<0||a>10||l<0||l>10)throw new G;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===L.FNC1}isSecondDigitFNC1(){return this.secondDigit===L.FNC1}isAnyFNC1(){return this.firstDigit===L.FNC1||this.secondDigit===L.FNC1}}L.FNC1=10;class U{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new le;let a=n.substring(0,2);for(let h of U.TWO_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===U.VARIABLE_LENGTH?U.processVariableAI(2,h[2],n):U.processFixedAI(2,h[1],n);if(n.length<3)throw new le;let l=n.substring(0,3);for(let h of U.THREE_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===U.VARIABLE_LENGTH?U.processVariableAI(3,h[2],n):U.processFixedAI(3,h[1],n);for(let h of U.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===U.VARIABLE_LENGTH?U.processVariableAI(4,h[2],n):U.processFixedAI(4,h[1],n);if(n.length<4)throw new le;let f=n.substring(0,4);for(let h of U.FOUR_DIGIT_DATA_LENGTH)if(h[0]===f)return h[1]===U.VARIABLE_LENGTH?U.processVariableAI(4,h[2],n):U.processFixedAI(4,h[1],n);throw new le}static processFixedAI(n,a,l){if(l.length<n)throw new le;let f=l.substring(0,n);if(l.length<n+a)throw new le;let h=l.substring(n,n+a),g=l.substring(n+a),v="("+f+")"+h,_=U.parseFieldsInGeneralPurpose(g);return _==null?v:v+_}static processVariableAI(n,a,l){let f=l.substring(0,n),h;l.length<n+a?h=l.length:h=n+a;let g=l.substring(n,h),v=l.substring(h),_="("+f+")"+g,S=U.parseFieldsInGeneralPurpose(v);return S==null?_:_+S}}U.VARIABLE_LENGTH=[],U.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",U.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",U.VARIABLE_LENGTH,20],["22",U.VARIABLE_LENGTH,29],["30",U.VARIABLE_LENGTH,8],["37",U.VARIABLE_LENGTH,8],["90",U.VARIABLE_LENGTH,30],["91",U.VARIABLE_LENGTH,30],["92",U.VARIABLE_LENGTH,30],["93",U.VARIABLE_LENGTH,30],["94",U.VARIABLE_LENGTH,30],["95",U.VARIABLE_LENGTH,30],["96",U.VARIABLE_LENGTH,30],["97",U.VARIABLE_LENGTH,3],["98",U.VARIABLE_LENGTH,30],["99",U.VARIABLE_LENGTH,30]],U.THREE_DIGIT_DATA_LENGTH=[["240",U.VARIABLE_LENGTH,30],["241",U.VARIABLE_LENGTH,30],["242",U.VARIABLE_LENGTH,6],["250",U.VARIABLE_LENGTH,30],["251",U.VARIABLE_LENGTH,30],["253",U.VARIABLE_LENGTH,17],["254",U.VARIABLE_LENGTH,20],["400",U.VARIABLE_LENGTH,30],["401",U.VARIABLE_LENGTH,30],["402",17],["403",U.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",U.VARIABLE_LENGTH,20],["421",U.VARIABLE_LENGTH,15],["422",3],["423",U.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],U.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",U.VARIABLE_LENGTH,15],["391",U.VARIABLE_LENGTH,18],["392",U.VARIABLE_LENGTH,15],["393",U.VARIABLE_LENGTH,18],["703",U.VARIABLE_LENGTH,30]],U.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",U.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",U.VARIABLE_LENGTH,20],["8003",U.VARIABLE_LENGTH,30],["8004",U.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",U.VARIABLE_LENGTH,30],["8008",U.VARIABLE_LENGTH,12],["8018",18],["8020",U.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",U.VARIABLE_LENGTH,70],["8200",U.VARIABLE_LENGTH,70]];class H{constructor(n){this.buffer=new Re,this.information=n}decodeAllCodes(n,a){let l=a,f=null;do{let h=this.decodeGeneralPurposeField(l,f),g=U.parseFieldsInGeneralPurpose(h.getNewString());if(g!=null&&n.append(g),h.isRemaining()?f=""+h.getRemainingValue():f=null,l===h.getNewPosition())break;l=h.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let a=n;a<n+3;++a)if(this.information.get(a))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(n,4);return h===0?new L(this.information.getSize(),L.FNC1,L.FNC1):new L(this.information.getSize(),h-1,L.FNC1)}let a=this.extractNumericValueFromBitArray(n,7),l=(a-8)/11,f=(a-8)%11;return new L(n+7,l,f)}extractNumericValueFromBitArray(n,a){return H.extractNumericValueFromBitArray(this.information,n,a)}static extractNumericValueFromBitArray(n,a,l){let f=0;for(let h=0;h<l;++h)n.get(a+h)&&(f|=1<<l-h-1);return f}decodeGeneralPurposeField(n,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(n);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Xn(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Xn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),n=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),n=a.isFinished()):(a=this.parseNumericBlock(),n=a.isFinished()),!(l!==this.current.getPosition())&&!n)break}while(!n);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let a;return n.isSecondDigitFNC1()?a=new Xn(this.current.getPosition(),this.buffer.toString()):a=new Xn(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new mn(!0,a)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let a=new Xn(this.current.getPosition(),this.buffer.toString());return new mn(!0,a)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new mn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let a=new Xn(this.current.getPosition(),this.buffer.toString());return new mn(!0,a)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new mn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let a=new Xn(this.current.getPosition(),this.buffer.toString());return new mn(!0,a)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new mn(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,5);if(a>=5&&a<16)return!0;if(n+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(n,7);if(l>=64&&l<116)return!0;if(n+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(n,8);return f>=232&&f<253}decodeIsoIec646(n){let a=this.extractNumericValueFromBitArray(n,5);if(a===15)return new Rr(n+5,Rr.FNC1);if(a>=5&&a<15)return new Rr(n+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(n,7);if(l>=64&&l<90)return new Rr(n+7,""+(l+1));if(l>=90&&l<116)return new Rr(n+7,""+(l+7));let f=this.extractNumericValueFromBitArray(n,8),h;switch(f){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new G}return new Rr(n+8,h)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,5);if(a>=5&&a<16)return!0;if(n+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(n,6);return l>=16&&l<63}decodeAlphanumeric(n){let a=this.extractNumericValueFromBitArray(n,5);if(a===15)return new Rr(n+5,Rr.FNC1);if(a>=5&&a<15)return new Rr(n+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(n,6);if(l>=32&&l<58)return new Rr(n+6,""+(l+33));let f;switch(l){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new Ar("Decoding invalid alphanumeric value: "+l)}return new Rr(n+6,f)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let a=0;a<5&&a+n<this.information.getSize();++a)if(a===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+a))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let a=n;a<n+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let a=0;a<4&&a+n<this.information.getSize();++a)if(this.information.get(n+a))return!1;return!0}}class V{constructor(n){this.information=n,this.generalDecoder=new H(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class X extends V{constructor(n){super(n)}encodeCompressedGtin(n,a){n.append("(01)");let l=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,a,l)}encodeCompressedGtinWithoutAI(n,a,l){for(let f=0;f<4;++f){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*f,10);h/100===0&&n.append("0"),h/10===0&&n.append("0"),n.append(h)}X.appendCheckDigit(n,l)}static appendCheckDigit(n,a){let l=0;for(let f=0;f<13;f++){let h=n.charAt(f+a).charCodeAt(0)-48;l+=(f&1)===0?3*h:h}l=10-l%10,l===10&&(l=0),n.append(l)}}X.GTIN_SIZE=40;class q extends X{constructor(n){super(n)}parseInformation(){let n=new Re;n.append("(01)");let a=n.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(q.HEADER_SIZE,4);return n.append(l),this.encodeCompressedGtinWithoutAI(n,q.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(n,q.HEADER_SIZE+44)}}q.HEADER_SIZE=4;class pe extends V{constructor(n){super(n)}parseInformation(){let n=new Re;return this.getGeneralDecoder().decodeAllCodes(n,pe.HEADER_SIZE)}}pe.HEADER_SIZE=5;class Ie extends X{constructor(n){super(n)}encodeCompressedWeight(n,a,l){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(n,f);let h=this.checkWeight(f),g=1e5;for(let v=0;v<5;++v)h/g===0&&n.append("0"),g/=10;n.append(h)}}class he extends Ie{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=he.HEADER_SIZE+Ie.GTIN_SIZE+he.WEIGHT_SIZE)throw new le;let n=new Re;return this.encodeCompressedGtin(n,he.HEADER_SIZE),this.encodeCompressedWeight(n,he.HEADER_SIZE+Ie.GTIN_SIZE,he.WEIGHT_SIZE),n.toString()}}he.HEADER_SIZE=5,he.WEIGHT_SIZE=15;class me extends he{constructor(n){super(n)}addWeightCode(n,a){n.append("(3103)")}checkWeight(n){return n}}class ye extends he{constructor(n){super(n)}addWeightCode(n,a){a<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class be extends X{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<be.HEADER_SIZE+X.GTIN_SIZE)throw new le;let n=new Re;this.encodeCompressedGtin(n,be.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(be.HEADER_SIZE+X.GTIN_SIZE,be.LAST_DIGIT_SIZE);n.append("(392"),n.append(a),n.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(be.HEADER_SIZE+X.GTIN_SIZE+be.LAST_DIGIT_SIZE,null);return n.append(l.getNewString()),n.toString()}}be.HEADER_SIZE=8,be.LAST_DIGIT_SIZE=2;class Be extends X{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Be.HEADER_SIZE+X.GTIN_SIZE)throw new le;let n=new Re;this.encodeCompressedGtin(n,Be.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Be.HEADER_SIZE+X.GTIN_SIZE,Be.LAST_DIGIT_SIZE);n.append("(393"),n.append(a),n.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Be.HEADER_SIZE+X.GTIN_SIZE+Be.LAST_DIGIT_SIZE,Be.FIRST_THREE_DIGITS_SIZE);l/100==0&&n.append("0"),l/10==0&&n.append("0"),n.append(l);let f=this.getGeneralDecoder().decodeGeneralPurposeField(Be.HEADER_SIZE+X.GTIN_SIZE+Be.LAST_DIGIT_SIZE+Be.FIRST_THREE_DIGITS_SIZE,null);return n.append(f.getNewString()),n.toString()}}Be.HEADER_SIZE=8,Be.LAST_DIGIT_SIZE=2,Be.FIRST_THREE_DIGITS_SIZE=10;class He extends Ie{constructor(n,a,l){super(n),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=He.HEADER_SIZE+He.GTIN_SIZE+He.WEIGHT_SIZE+He.DATE_SIZE)throw new le;let n=new Re;return this.encodeCompressedGtin(n,He.HEADER_SIZE),this.encodeCompressedWeight(n,He.HEADER_SIZE+He.GTIN_SIZE,He.WEIGHT_SIZE),this.encodeCompressedDate(n,He.HEADER_SIZE+He.GTIN_SIZE+He.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,He.DATE_SIZE);if(l==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let f=l%32;l/=32;let h=l%12+1;l/=12;let g=l;g/10==0&&n.append("0"),n.append(g),h/10==0&&n.append("0"),n.append(h),f/10==0&&n.append("0"),n.append(f)}addWeightCode(n,a){n.append("("),n.append(this.firstAIdigits),n.append(a/1e5),n.append(")")}checkWeight(n){return n%1e5}}He.HEADER_SIZE=8,He.WEIGHT_SIZE=20,He.DATE_SIZE=16;function Ye(D){try{if(D.get(1))return new q(D);if(!D.get(2))return new pe(D);switch(H.extractNumericValueFromBitArray(D,1,4)){case 4:return new me(D);case 5:return new ye(D)}switch(H.extractNumericValueFromBitArray(D,1,5)){case 12:return new be(D);case 13:return new Be(D)}switch(H.extractNumericValueFromBitArray(D,1,7)){case 56:return new He(D,"310","11");case 57:return new He(D,"320","11");case 58:return new He(D,"310","13");case 59:return new He(D,"320","13");case 60:return new He(D,"310","15");case 61:return new He(D,"320","15");case 62:return new He(D,"310","17");case 63:return new He(D,"320","17")}}catch(n){throw console.log(n),new Ar("unknown decoder: "+D)}}class Pe{constructor(n,a,l,f){this.leftchar=n,this.rightchar=a,this.finderpattern=l,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,a){return n instanceof Pe?Pe.equalsOrNull(n.leftchar,a.leftchar)&&Pe.equalsOrNull(n.rightchar,a.rightchar)&&Pe.equalsOrNull(n.finderpattern,a.finderpattern):!1}static equalsOrNull(n,a){return n===null?a===null:Pe.equals(n,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class St{constructor(n,a,l){this.pairs=n,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,a){return n instanceof St?this.checkEqualitity(n,a)&&n.wasReversed===a.wasReversed:!1}checkEqualitity(n,a){if(!n||!a)return;let l;return n.forEach((f,h)=>{a.forEach(g=>{f.getLeftChar().getValue()===g.getLeftChar().getValue()&&f.getRightChar().getValue()===g.getRightChar().getValue()&&f.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(l=!0)})}),l}}class Ce extends jr{constructor(n){super(...arguments),this.pairs=new Array(Ce.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,a,l){this.pairs.length=0,this.startFromEven=!1;try{return Ce.constructResult(this.decodeRow2pairs(n,a))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,Ce.constructResult(this.decodeRow2pairs(n,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,a){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,n))}catch(h){if(h instanceof le){if(!this.pairs.length)throw new le;l=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(n,!1),f){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new le}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return n&&(this.rows=this.rows.reverse()),a}checkRows(n,a){for(let l=a;l<this.rows.length;l++){let f=this.rows[l];this.pairs.length=0;for(let g of n)this.pairs.push(g.getPairs());if(this.pairs.push(f.getPairs()),!Ce.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(n);h.push(f);try{return this.checkRows(h,l+1)}catch(g){this.verbose&&console.log(g)}}throw new le}static isValidSequence(n){for(let a of Ce.FINDER_PATTERN_SEQUENCES){if(n.length>a.length)continue;let l=!0;for(let f=0;f<n.length;f++)if(n[f].getFinderPattern().getValue()!=a[f]){l=!1;break}if(l)return!0}return!1}storeRow(n,a){let l=0,f=!1,h=!1;for(;l<this.rows.length;){let g=this.rows[l];if(g.getRowNumber()>n){h=g.isEquivalent(this.pairs);break}f=g.isEquivalent(this.pairs),l++}h||f||Ce.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new St(this.pairs,n,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,a){for(let l of a)if(l.getPairs().length!==n.length){for(let f of l.getPairs())for(let h of n)if(Pe.equals(f,h))break}}static isPartialRow(n,a){for(let l of a){let f=!0;for(let h of n){let g=!1;for(let v of l.getPairs())if(h.equals(v)){g=!0;break}if(!g){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(n){let a=Ma.buildBitArray(n),f=Ye(a).parseInformation(),h=n[0].getFinderPattern().getResultPoints(),g=n[n.length-1].getFinderPattern().getResultPoints(),v=[h[0],h[1],g[0],g[1]];return new ee(f,null,null,v,oe.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),a=n.getLeftChar(),l=n.getRightChar();if(l==null)return!1;let f=l.getChecksumPortion(),h=2;for(let v=1;v<this.pairs.size();++v){let _=this.pairs.get(v);f+=_.getLeftChar().getChecksumPortion(),h++;let S=_.getRightChar();S!=null&&(f+=S.getChecksumPortion(),h++)}return f%=211,211*(h-4)+f==a.getValue()}static getNextSecondBar(n,a){let l;return n.get(a)?(l=n.getNextUnset(a),l=n.getNextSet(l)):(l=n.getNextSet(a),l=n.getNextUnset(l)),l}retrieveNextPair(n,a,l){let f=a.length%2==0;this.startFromEven&&(f=!f);let h,g=!0,v=-1;do this.findNextPair(n,a,v),h=this.parseFoundFinderPattern(n,l,f),h==null?v=Ce.getNextSecondBar(n,this.startEnd[0]):g=!1;while(g);let _=this.decodeDataCharacter(n,h,f,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new le;let S;try{S=this.decodeDataCharacter(n,h,f,!1)}catch(R){S=null,this.verbose&&console.log(R)}return new Pe(_,S,h,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,a,l){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=n.getSize(),g;l>=0?g=l:this.isEmptyPair(a)?g=0:g=a[a.length-1].getFinderPattern().getStartEnd()[1];let v=a.length%2!=0;this.startFromEven&&(v=!v);let _=!1;for(;g<h&&(_=!n.get(g),!!_);)g++;let S=0,R=g;for(let M=g;M<h;M++)if(n.get(M)!=_)f[S]++;else{if(S==3){if(v&&Ce.reverseCounters(f),Ce.isFinderPattern(f)){this.startEnd[0]=R,this.startEnd[1]=M;return}v&&Ce.reverseCounters(f),R+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,S--}else S++;f[S]=1,_=!_}throw new le}static reverseCounters(n){let a=n.length;for(let l=0;l<a/2;++l){let f=n[l];n[l]=n[a-l-1],n[a-l-1]=f}}parseFoundFinderPattern(n,a,l){let f,h,g;if(l){let S=this.startEnd[0]-1;for(;S>=0&&!n.get(S);)S--;S++,f=this.startEnd[0]-S,h=S,g=this.startEnd[1]}else h=this.startEnd[0],g=n.getNextUnset(this.startEnd[1]+1),f=g-this.startEnd[1];let v=this.getDecodeFinderCounters();O.arraycopy(v,0,v,1,v.length-1),v[0]=f;let _;try{_=this.parseFinderValue(v,Ce.FINDER_PATTERNS)}catch{return null}return new _s(_,[h,g],h,g,a)}decodeDataCharacter(n,a,l,f){let h=this.getDataCharacterCounters();for(let qt=0;qt<h.length;qt++)h[qt]=0;if(f)Ce.recordPatternInReverse(n,a.getStartEnd()[0],h);else{Ce.recordPattern(n,a.getStartEnd()[1],h);for(let qt=0,Tr=h.length-1;qt<Tr;qt++,Tr--){let yn=h[qt];h[qt]=h[Tr],h[Tr]=yn}}let g=17,v=Ct.sum(new Int32Array(h))/g,_=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(v-_)/_>.3)throw new le;let S=this.getOddCounts(),R=this.getEvenCounts(),M=this.getOddRoundingErrors(),F=this.getEvenRoundingErrors();for(let qt=0;qt<h.length;qt++){let Tr=1*h[qt]/v,yn=Tr+.5;if(yn<1){if(Tr<.3)throw new le;yn=1}else if(yn>8){if(Tr>8.7)throw new le;yn=8}let Is=qt/2;(qt&1)==0?(S[Is]=yn,M[Is]=Tr-yn):(R[Is]=yn,F[Is]=Tr-yn)}this.adjustOddEvenCounts(g);let Y=4*a.getValue()+(l?0:2)+(f?0:1)-1,te=0,ie=0;for(let qt=S.length-1;qt>=0;qt--){if(Ce.isNotA1left(a,l,f)){let Tr=Ce.WEIGHTS[Y][2*qt];ie+=S[qt]*Tr}te+=S[qt]}let ce=0;for(let qt=R.length-1;qt>=0;qt--)if(Ce.isNotA1left(a,l,f)){let Tr=Ce.WEIGHTS[Y][2*qt+1];ce+=R[qt]*Tr}let Ee=ie+ce;if((te&1)!=0||te>13||te<4)throw new le;let je=(13-te)/2,Ge=Ce.SYMBOL_WIDEST[je],Le=9-Ge,jt=un.getRSSvalue(S,Ge,!0),Nt=un.getRSSvalue(R,Le,!1),Mn=Ce.EVEN_TOTAL_SUBSET[je],li=Ce.GSUM[je],Wr=jt*Mn+Nt+li;return new Si(Wr,Ee)}static isNotA1left(n,a,l){return!(n.getValue()==0&&a&&l)}adjustOddEvenCounts(n){let a=Ct.sum(new Int32Array(this.getOddCounts())),l=Ct.sum(new Int32Array(this.getEvenCounts())),f=!1,h=!1;a>13?h=!0:a<4&&(f=!0);let g=!1,v=!1;l>13?v=!0:l<4&&(g=!0);let _=a+l-n,S=(a&1)==1,R=(l&1)==0;if(_==1)if(S){if(R)throw new le;h=!0}else{if(!R)throw new le;v=!0}else if(_==-1)if(S){if(R)throw new le;f=!0}else{if(!R)throw new le;g=!0}else if(_==0){if(S){if(!R)throw new le;a<l?(f=!0,v=!0):(h=!0,g=!0)}else if(R)throw new le}else throw new le;if(f){if(h)throw new le;Ce.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Ce.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(v)throw new le;Ce.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&Ce.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ce.SYMBOL_WIDEST=[7,5,4,3,1],Ce.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ce.GSUM=[0,348,1388,2948,3988],Ce.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ce.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ce.FINDER_PAT_A=0,Ce.FINDER_PAT_B=1,Ce.FINDER_PAT_C=2,Ce.FINDER_PAT_D=3,Ce.FINDER_PAT_E=4,Ce.FINDER_PAT_F=5,Ce.FINDER_PATTERN_SEQUENCES=[[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_C,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_C],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_E],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F]],Ce.MAX_PAIRS=11;class ar extends Si{constructor(n,a,l){super(n,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class bt extends jr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,a,l){const f=this.decodePair(a,!1,n,l);bt.addOrTally(this.possibleLeftPairs,f),a.reverse();let h=this.decodePair(a,!0,n,l);bt.addOrTally(this.possibleRightPairs,h),a.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let v of this.possibleRightPairs)if(v.getCount()>1&&bt.checkChecksum(g,v))return bt.constructResult(g,v)}throw new le}static addOrTally(n,a){if(a==null)return;let l=!1;for(let f of n)if(f.getValue()===a.getValue()){f.incrementCount(),l=!0;break}l||n.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,a){let l=4537077*n.getValue()+a.getValue(),f=new String(l).toString(),h=new Re;for(let S=13-f.length;S>0;S--)h.append("0");h.append(f);let g=0;for(let S=0;S<13;S++){let R=h.charAt(S).charCodeAt(0)-48;g+=(S&1)===0?3*R:R}g=10-g%10,g===10&&(g=0),h.append(g.toString());let v=n.getFinderPattern().getResultPoints(),_=a.getFinderPattern().getResultPoints();return new ee(h.toString(),null,0,[v[0],v[1],_[0],_[1]],oe.RSS_14,new Date().getTime())}static checkChecksum(n,a){let l=(n.getChecksumPortion()+16*a.getChecksumPortion())%79,f=9*n.getFinderPattern().getValue()+a.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,l===f}decodePair(n,a,l,f){try{let h=this.findFinderPattern(n,a),g=this.parseFoundFinderPattern(n,l,a,h),v=f==null?null:f.get(ve.NEED_RESULT_POINT_CALLBACK);if(v!=null){let R=(h[0]+h[1])/2;a&&(R=n.getSize()-1-R),v.foundPossibleResultPoint(new it(R,l))}let _=this.decodeDataCharacter(n,g,!0),S=this.decodeDataCharacter(n,g,!1);return new ar(1597*_.getValue()+S.getValue(),_.getChecksumPortion()+4*S.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(n,a,l){let f=this.getDataCharacterCounters();for(let ce=0;ce<f.length;ce++)f[ce]=0;if(l)cr.recordPatternInReverse(n,a.getStartEnd()[0],f);else{cr.recordPattern(n,a.getStartEnd()[1]+1,f);for(let ce=0,Ee=f.length-1;ce<Ee;ce++,Ee--){let je=f[ce];f[ce]=f[Ee],f[Ee]=je}}let h=l?16:15,g=Ct.sum(new Int32Array(f))/h,v=this.getOddCounts(),_=this.getEvenCounts(),S=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let ce=0;ce<f.length;ce++){let Ee=f[ce]/g,je=Math.floor(Ee+.5);je<1?je=1:je>8&&(je=8);let Ge=Math.floor(ce/2);(ce&1)===0?(v[Ge]=je,S[Ge]=Ee-je):(_[Ge]=je,R[Ge]=Ee-je)}this.adjustOddEvenCounts(l,h);let M=0,F=0;for(let ce=v.length-1;ce>=0;ce--)F*=9,F+=v[ce],M+=v[ce];let Y=0,te=0;for(let ce=_.length-1;ce>=0;ce--)Y*=9,Y+=_[ce],te+=_[ce];let ie=F+3*Y;if(l){if((M&1)!==0||M>12||M<4)throw new le;let ce=(12-M)/2,Ee=bt.OUTSIDE_ODD_WIDEST[ce],je=9-Ee,Ge=un.getRSSvalue(v,Ee,!1),Le=un.getRSSvalue(_,je,!0),jt=bt.OUTSIDE_EVEN_TOTAL_SUBSET[ce],Nt=bt.OUTSIDE_GSUM[ce];return new Si(Ge*jt+Le+Nt,ie)}else{if((te&1)!==0||te>10||te<4)throw new le;let ce=(10-te)/2,Ee=bt.INSIDE_ODD_WIDEST[ce],je=9-Ee,Ge=un.getRSSvalue(v,Ee,!0),Le=un.getRSSvalue(_,je,!1),jt=bt.INSIDE_ODD_TOTAL_SUBSET[ce],Nt=bt.INSIDE_GSUM[ce];return new Si(Le*jt+Ge+Nt,ie)}}findFinderPattern(n,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let f=n.getSize(),h=!1,g=0;for(;g<f&&(h=!n.get(g),a!==h);)g++;let v=0,_=g;for(let S=g;S<f;S++)if(n.get(S)!==h)l[v]++;else{if(v===3){if(jr.isFinderPattern(l))return[_,S];_+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,v--}else v++;l[v]=1,h=!h}throw new le}parseFoundFinderPattern(n,a,l,f){let h=n.get(f[0]),g=f[0]-1;for(;g>=0&&h!==n.get(g);)g--;g++;const v=f[0]-g,_=this.getDecodeFinderCounters(),S=new Int32Array(_.length);O.arraycopy(_,0,S,1,_.length-1),S[0]=v;const R=this.parseFinderValue(S,bt.FINDER_PATTERNS);let M=g,F=f[1];return l&&(M=n.getSize()-1-M,F=n.getSize()-1-F),new _s(R,[g,f[1]],M,F,a)}adjustOddEvenCounts(n,a){let l=Ct.sum(new Int32Array(this.getOddCounts())),f=Ct.sum(new Int32Array(this.getEvenCounts())),h=!1,g=!1,v=!1,_=!1;n?(l>12?g=!0:l<4&&(h=!0),f>12?_=!0:f<4&&(v=!0)):(l>11?g=!0:l<5&&(h=!0),f>10?_=!0:f<4&&(v=!0));let S=l+f-a,R=(l&1)===(n?1:0),M=(f&1)===1;if(S===1)if(R){if(M)throw new le;g=!0}else{if(!M)throw new le;_=!0}else if(S===-1)if(R){if(M)throw new le;h=!0}else{if(!M)throw new le;v=!0}else if(S===0){if(R){if(!M)throw new le;l<f?(h=!0,_=!0):(g=!0,v=!0)}else if(M)throw new le}else throw new le;if(h){if(g)throw new le;jr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&jr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(_)throw new le;jr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&jr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}bt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],bt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],bt.OUTSIDE_GSUM=[0,161,961,2015,2715],bt.INSIDE_GSUM=[0,336,1036,1516],bt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],bt.INSIDE_ODD_WIDEST=[2,4,6,8],bt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Yn extends cr{constructor(n,a){super(),this.readers=[],this.verbose=a===!0;const l=n?n.get(ve.POSSIBLE_FORMATS):null,f=n&&n.get(ve.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(oe.EAN_13)||l.includes(oe.UPC_A)||l.includes(oe.EAN_8)||l.includes(oe.UPC_E))&&this.readers.push(new Ks(n)),l.includes(oe.CODE_39)&&this.readers.push(new yr(f)),l.includes(oe.CODE_128)&&this.readers.push(new Ze),l.includes(oe.ITF)&&this.readers.push(new Vt),l.includes(oe.RSS_14)&&this.readers.push(new bt),l.includes(oe.RSS_EXPANDED)&&this.readers.push(new Ce(this.verbose))):(this.readers.push(new Ks(n)),this.readers.push(new yr),this.readers.push(new Ks(n)),this.readers.push(new Ze),this.readers.push(new Vt),this.readers.push(new bt),this.readers.push(new Ce(this.verbose)))}decodeRow(n,a,l){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(n,a,l)}catch{}throw new le}reset(){this.readers.forEach(n=>n.reset())}}class os extends ae{constructor(n=500,a){super(new Yn(a),n,a)}}class Lt{constructor(n,a,l){this.ecCodewords=n,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Et{constructor(n,a){this.count=n,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ft{constructor(n,a,l,f,h,g){this.versionNumber=n,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=h,this.ecBlocks=g;let v=0;const _=g.getECCodewords(),S=g.getECBlocks();for(let R of S)v+=R.getCount()*(R.getDataCodewords()+_);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,a){if((n&1)!==0||(a&1)!==0)throw new G;for(let l of Ft.VERSIONS)if(l.symbolSizeRows===n&&l.symbolSizeColumns===a)return l;throw new G}toString(){return""+this.versionNumber}static buildVersions(){return[new Ft(1,10,10,8,8,new Lt(5,new Et(1,3))),new Ft(2,12,12,10,10,new Lt(7,new Et(1,5))),new Ft(3,14,14,12,12,new Lt(10,new Et(1,8))),new Ft(4,16,16,14,14,new Lt(12,new Et(1,12))),new Ft(5,18,18,16,16,new Lt(14,new Et(1,18))),new Ft(6,20,20,18,18,new Lt(18,new Et(1,22))),new Ft(7,22,22,20,20,new Lt(20,new Et(1,30))),new Ft(8,24,24,22,22,new Lt(24,new Et(1,36))),new Ft(9,26,26,24,24,new Lt(28,new Et(1,44))),new Ft(10,32,32,14,14,new Lt(36,new Et(1,62))),new Ft(11,36,36,16,16,new Lt(42,new Et(1,86))),new Ft(12,40,40,18,18,new Lt(48,new Et(1,114))),new Ft(13,44,44,20,20,new Lt(56,new Et(1,144))),new Ft(14,48,48,22,22,new Lt(68,new Et(1,174))),new Ft(15,52,52,24,24,new Lt(42,new Et(2,102))),new Ft(16,64,64,14,14,new Lt(56,new Et(2,140))),new Ft(17,72,72,16,16,new Lt(36,new Et(4,92))),new Ft(18,80,80,18,18,new Lt(48,new Et(4,114))),new Ft(19,88,88,20,20,new Lt(56,new Et(4,144))),new Ft(20,96,96,22,22,new Lt(68,new Et(4,174))),new Ft(21,104,104,24,24,new Lt(56,new Et(6,136))),new Ft(22,120,120,18,18,new Lt(68,new Et(6,175))),new Ft(23,132,132,20,20,new Lt(62,new Et(8,163))),new Ft(24,144,144,22,22,new Lt(62,new Et(8,156),new Et(2,155))),new Ft(25,8,18,6,16,new Lt(7,new Et(1,5))),new Ft(26,8,32,6,14,new Lt(11,new Et(1,10))),new Ft(27,12,26,10,24,new Lt(14,new Et(1,16))),new Ft(28,12,36,10,16,new Lt(18,new Et(1,22))),new Ft(29,16,36,14,16,new Lt(24,new Et(1,32))),new Ft(30,16,48,14,22,new Lt(28,new Et(1,49)))]}}Ft.VERSIONS=Ft.buildVersions();class pr{constructor(n){const a=n.getHeight();if(a<8||a>144||(a&1)!==0)throw new G;this.version=pr.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new at(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const a=n.getHeight(),l=n.getWidth();return Ft.getVersionForDimensions(a,l)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,f=0;const h=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let v=!1,_=!1,S=!1,R=!1;do if(l===h&&f===0&&!v)n[a++]=this.readCorner1(h,g)&255,l-=2,f+=2,v=!0;else if(l===h-2&&f===0&&(g&3)!==0&&!_)n[a++]=this.readCorner2(h,g)&255,l-=2,f+=2,_=!0;else if(l===h+4&&f===2&&(g&7)===0&&!S)n[a++]=this.readCorner3(h,g)&255,l-=2,f+=2,S=!0;else if(l===h-2&&f===0&&(g&7)===4&&!R)n[a++]=this.readCorner4(h,g)&255,l-=2,f+=2,R=!0;else{do l<h&&f>=0&&!this.readMappingMatrix.get(f,l)&&(n[a++]=this.readUtah(l,f,h,g)&255),l-=2,f+=2;while(l>=0&&f<g);l+=1,f+=3;do l>=0&&f<g&&!this.readMappingMatrix.get(f,l)&&(n[a++]=this.readUtah(l,f,h,g)&255),l+=2,f-=2;while(l<h&&f>=0);l+=3,f+=1}while(l<h||f<g);if(a!==this.version.getTotalCodewords())throw new G;return n}readModule(n,a,l,f){return n<0&&(n+=l,a+=4-(l+4&7)),a<0&&(a+=f,n+=4-(f+4&7)),this.readMappingMatrix.set(a,n),this.mappingBitMatrix.get(a,n)}readUtah(n,a,l,f){let h=0;return this.readModule(n-2,a-2,l,f)&&(h|=1),h<<=1,this.readModule(n-2,a-1,l,f)&&(h|=1),h<<=1,this.readModule(n-1,a-2,l,f)&&(h|=1),h<<=1,this.readModule(n-1,a-1,l,f)&&(h|=1),h<<=1,this.readModule(n-1,a,l,f)&&(h|=1),h<<=1,this.readModule(n,a-2,l,f)&&(h|=1),h<<=1,this.readModule(n,a-1,l,f)&&(h|=1),h<<=1,this.readModule(n,a,l,f)&&(h|=1),h}readCorner1(n,a){let l=0;return this.readModule(n-1,0,n,a)&&(l|=1),l<<=1,this.readModule(n-1,1,n,a)&&(l|=1),l<<=1,this.readModule(n-1,2,n,a)&&(l|=1),l<<=1,this.readModule(0,a-2,n,a)&&(l|=1),l<<=1,this.readModule(0,a-1,n,a)&&(l|=1),l<<=1,this.readModule(1,a-1,n,a)&&(l|=1),l<<=1,this.readModule(2,a-1,n,a)&&(l|=1),l<<=1,this.readModule(3,a-1,n,a)&&(l|=1),l}readCorner2(n,a){let l=0;return this.readModule(n-3,0,n,a)&&(l|=1),l<<=1,this.readModule(n-2,0,n,a)&&(l|=1),l<<=1,this.readModule(n-1,0,n,a)&&(l|=1),l<<=1,this.readModule(0,a-4,n,a)&&(l|=1),l<<=1,this.readModule(0,a-3,n,a)&&(l|=1),l<<=1,this.readModule(0,a-2,n,a)&&(l|=1),l<<=1,this.readModule(0,a-1,n,a)&&(l|=1),l<<=1,this.readModule(1,a-1,n,a)&&(l|=1),l}readCorner3(n,a){let l=0;return this.readModule(n-1,0,n,a)&&(l|=1),l<<=1,this.readModule(n-1,a-1,n,a)&&(l|=1),l<<=1,this.readModule(0,a-3,n,a)&&(l|=1),l<<=1,this.readModule(0,a-2,n,a)&&(l|=1),l<<=1,this.readModule(0,a-1,n,a)&&(l|=1),l<<=1,this.readModule(1,a-3,n,a)&&(l|=1),l<<=1,this.readModule(1,a-2,n,a)&&(l|=1),l<<=1,this.readModule(1,a-1,n,a)&&(l|=1),l}readCorner4(n,a){let l=0;return this.readModule(n-3,0,n,a)&&(l|=1),l<<=1,this.readModule(n-2,0,n,a)&&(l|=1),l<<=1,this.readModule(n-1,0,n,a)&&(l|=1),l<<=1,this.readModule(0,a-2,n,a)&&(l|=1),l<<=1,this.readModule(0,a-1,n,a)&&(l|=1),l<<=1,this.readModule(1,a-1,n,a)&&(l|=1),l<<=1,this.readModule(2,a-1,n,a)&&(l|=1),l<<=1,this.readModule(3,a-1,n,a)&&(l|=1),l}extractDataRegion(n){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(n.getHeight()!==a)throw new A("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),g=a/f|0,v=l/h|0,_=g*f,S=v*h,R=new at(S,_);for(let M=0;M<g;++M){const F=M*f;for(let Y=0;Y<v;++Y){const te=Y*h;for(let ie=0;ie<f;++ie){const ce=M*(f+2)+1+ie,Ee=F+ie;for(let je=0;je<h;++je){const Ge=Y*(h+2)+1+je;if(n.get(Ge,ce)){const Le=te+je;R.set(Le,Ee)}}}}}return R}}class Sl{constructor(n,a){this.numDataCodewords=n,this.codewords=a}static getDataBlocks(n,a){const l=a.getECBlocks();let f=0;const h=l.getECBlocks();for(let ie of h)f+=ie.getCount();const g=new Array(f);let v=0;for(let ie of h)for(let ce=0;ce<ie.getCount();ce++){const Ee=ie.getDataCodewords(),je=l.getECCodewords()+Ee;g[v++]=new Sl(Ee,new Uint8Array(je))}const S=g[0].codewords.length-l.getECCodewords(),R=S-1;let M=0;for(let ie=0;ie<R;ie++)for(let ce=0;ce<v;ce++)g[ce].codewords[ie]=n[M++];const F=a.getVersionNumber()===24,Y=F?8:v;for(let ie=0;ie<Y;ie++)g[ie].codewords[S-1]=n[M++];const te=g[0].codewords.length;for(let ie=S;ie<te;ie++)for(let ce=0;ce<v;ce++){const Ee=F?(ce+8)%v:ce,je=F&&Ee>7?ie-1:ie;g[Ee].codewords[je]=n[M++]}if(M!==n.length)throw new A;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Tl{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new A(""+n);let a=0,l=this.bitOffset,f=this.byteOffset;const h=this.bytes;if(l>0){const g=8-l,v=n<g?n:g,_=g-v,S=255>>8-v<<_;a=(h[f]&S)>>_,n-=v,l+=v,l===8&&(l=0,f++)}if(n>0){for(;n>=8;)a=a<<8|h[f]&255,f++,n-=8;if(n>0){const g=8-n,v=255>>g<<g;a=a<<n|(h[f]&v)>>g,l+=n}}return this.bitOffset=l,this.byteOffset=f,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Hr;(function(D){D[D.PAD_ENCODE=0]="PAD_ENCODE",D[D.ASCII_ENCODE=1]="ASCII_ENCODE",D[D.C40_ENCODE=2]="C40_ENCODE",D[D.TEXT_ENCODE=3]="TEXT_ENCODE",D[D.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",D[D.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",D[D.BASE256_ENCODE=6]="BASE256_ENCODE"})(Hr||(Hr={}));class ii{static decode(n){const a=new Tl(n),l=new Re,f=new Re,h=new Array;let g=Hr.ASCII_ENCODE;do if(g===Hr.ASCII_ENCODE)g=this.decodeAsciiSegment(a,l,f);else{switch(g){case Hr.C40_ENCODE:this.decodeC40Segment(a,l);break;case Hr.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case Hr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case Hr.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case Hr.BASE256_ENCODE:this.decodeBase256Segment(a,l,h);break;default:throw new G}g=Hr.ASCII_ENCODE}while(g!==Hr.PAD_ENCODE&&a.available()>0);return f.length()>0&&l.append(f.toString()),new Xe(n,l.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(n,a,l){let f=!1;do{let h=n.readBits(8);if(h===0)throw new G;if(h<=128)return f&&(h+=128),a.append(String.fromCharCode(h-1)),Hr.ASCII_ENCODE;if(h===129)return Hr.PAD_ENCODE;if(h<=229){const g=h-130;g<10&&a.append("0"),a.append(""+g)}else switch(h){case 230:return Hr.C40_ENCODE;case 231:return Hr.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:f=!0;break;case 236:a.append("[)>05"),l.insert(0,"");break;case 237:a.append("[)>06"),l.insert(0,"");break;case 238:return Hr.ANSIX12_ENCODE;case 239:return Hr.TEXT_ENCODE;case 240:return Hr.EDIFACT_ENCODE;case 241:break;default:if(h!==254||n.available()!==0)throw new G;break}}while(n.available()>0);return Hr.ASCII_ENCODE}static decodeC40Segment(n,a){let l=!1;const f=[];let h=0;do{if(n.available()===8)return;const g=n.readBits(8);if(g===254)return;this.parseTwoBytes(g,n.readBits(8),f);for(let v=0;v<3;v++){const _=f[v];switch(h){case 0:if(_<3)h=_+1;else if(_<this.C40_BASIC_SET_CHARS.length){const S=this.C40_BASIC_SET_CHARS[_];l?(a.append(String.fromCharCode(S.charCodeAt(0)+128)),l=!1):a.append(S)}else throw new G;break;case 1:l?(a.append(String.fromCharCode(_+128)),l=!1):a.append(String.fromCharCode(_)),h=0;break;case 2:if(_<this.C40_SHIFT2_SET_CHARS.length){const S=this.C40_SHIFT2_SET_CHARS[_];l?(a.append(String.fromCharCode(S.charCodeAt(0)+128)),l=!1):a.append(S)}else switch(_){case 27:a.append("");break;case 30:l=!0;break;default:throw new G}h=0;break;case 3:l?(a.append(String.fromCharCode(_+224)),l=!1):a.append(String.fromCharCode(_+96)),h=0;break;default:throw new G}}}while(n.available()>0)}static decodeTextSegment(n,a){let l=!1,f=[],h=0;do{if(n.available()===8)return;const g=n.readBits(8);if(g===254)return;this.parseTwoBytes(g,n.readBits(8),f);for(let v=0;v<3;v++){const _=f[v];switch(h){case 0:if(_<3)h=_+1;else if(_<this.TEXT_BASIC_SET_CHARS.length){const S=this.TEXT_BASIC_SET_CHARS[_];l?(a.append(String.fromCharCode(S.charCodeAt(0)+128)),l=!1):a.append(S)}else throw new G;break;case 1:l?(a.append(String.fromCharCode(_+128)),l=!1):a.append(String.fromCharCode(_)),h=0;break;case 2:if(_<this.TEXT_SHIFT2_SET_CHARS.length){const S=this.TEXT_SHIFT2_SET_CHARS[_];l?(a.append(String.fromCharCode(S.charCodeAt(0)+128)),l=!1):a.append(S)}else switch(_){case 27:a.append("");break;case 30:l=!0;break;default:throw new G}h=0;break;case 3:if(_<this.TEXT_SHIFT3_SET_CHARS.length){const S=this.TEXT_SHIFT3_SET_CHARS[_];l?(a.append(String.fromCharCode(S.charCodeAt(0)+128)),l=!1):a.append(S),h=0}else throw new G;break;default:throw new G}}}while(n.available()>0)}static decodeAnsiX12Segment(n,a){const l=[];do{if(n.available()===8)return;const f=n.readBits(8);if(f===254)return;this.parseTwoBytes(f,n.readBits(8),l);for(let h=0;h<3;h++){const g=l[h];switch(g){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(g<14)a.append(String.fromCharCode(g+44));else if(g<40)a.append(String.fromCharCode(g+51));else throw new G;break}}}while(n.available()>0)}static parseTwoBytes(n,a,l){let f=(n<<8)+a-1,h=Math.floor(f/1600);l[0]=h,f-=h*1600,h=Math.floor(f/40),l[1]=h,l[2]=f-h*40}static decodeEdifactSegment(n,a){do{if(n.available()<=16)return;for(let l=0;l<4;l++){let f=n.readBits(6);if(f===31){const h=8-n.getBitOffset();h!==8&&n.readBits(h);return}(f&32)===0&&(f|=64),a.append(String.fromCharCode(f))}}while(n.available()>0)}static decodeBase256Segment(n,a,l){let f=1+n.getByteOffset();const h=this.unrandomize255State(n.readBits(8),f++);let g;if(h===0?g=n.available()/8|0:h<250?g=h:g=250*(h-249)+this.unrandomize255State(n.readBits(8),f++),g<0)throw new G;const v=new Uint8Array(g);for(let _=0;_<g;_++){if(n.available()<8)throw new G;v[_]=this.unrandomize255State(n.readBits(8),f++)}l.push(v);try{a.append(Te.decode(v,we.ISO88591))}catch(_){throw new Ar("Platform does not support required encoding: "+_.message)}}static unrandomize255State(n,a){const l=149*a%255+1,f=n-l;return f>=0?f:f+256}}ii.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ii.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ii.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ii.TEXT_SHIFT2_SET_CHARS=ii.C40_SHIFT2_SET_CHARS,ii.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class _o{constructor(){this.rsDecoder=new $t(mt.DATA_MATRIX_FIELD_256)}decode(n){const a=new pr(n),l=a.getVersion(),f=a.readCodewords(),h=Sl.getDataBlocks(f,l);let g=0;for(let S of h)g+=S.getNumDataCodewords();const v=new Uint8Array(g),_=h.length;for(let S=0;S<_;S++){const R=h[S],M=R.getCodewords(),F=R.getNumDataCodewords();this.correctErrors(M,F);for(let Y=0;Y<F;Y++)v[Y*_+S]=M[Y]}return ii.decode(v)}correctErrors(n,a){const l=new Int32Array(n);try{this.rsDecoder.decode(l,n.length-a)}catch{throw new N}for(let f=0;f<a;f++)n[f]=l[f]}}class ur{constructor(n){this.image=n,this.rectangleDetector=new Sr(this.image)}detect(){const n=this.rectangleDetector.detect();let a=this.detectSolid1(n);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new le;a=this.shiftToModuleCenter(a);const l=a[0],f=a[1],h=a[2],g=a[3];let v=this.transitionsBetween(l,g)+1,_=this.transitionsBetween(h,g)+1;(v&1)===1&&(v+=1),(_&1)===1&&(_+=1),4*v<7*_&&4*_<7*v&&(v=_=Math.max(v,_));let S=ur.sampleGrid(this.image,l,f,h,g,v,_);return new Fi(S,[l,f,h,g])}static shiftPoint(n,a,l){let f=(a.getX()-n.getX())/(l+1),h=(a.getY()-n.getY())/(l+1);return new it(n.getX()+f,n.getY()+h)}static moveAway(n,a,l){let f=n.getX(),h=n.getY();return f<a?f-=1:f+=1,h<l?h-=1:h+=1,new it(f,h)}detectSolid1(n){let a=n[0],l=n[1],f=n[3],h=n[2],g=this.transitionsBetween(a,l),v=this.transitionsBetween(l,f),_=this.transitionsBetween(f,h),S=this.transitionsBetween(h,a),R=g,M=[h,a,l,f];return R>v&&(R=v,M[0]=a,M[1]=l,M[2]=f,M[3]=h),R>_&&(R=_,M[0]=l,M[1]=f,M[2]=h,M[3]=a),R>S&&(M[0]=f,M[1]=h,M[2]=a,M[3]=l),M}detectSolid2(n){let a=n[0],l=n[1],f=n[2],h=n[3],g=this.transitionsBetween(a,h),v=ur.shiftPoint(l,f,(g+1)*4),_=ur.shiftPoint(f,l,(g+1)*4),S=this.transitionsBetween(v,a),R=this.transitionsBetween(_,h);return S<R?(n[0]=a,n[1]=l,n[2]=f,n[3]=h):(n[0]=l,n[1]=f,n[2]=h,n[3]=a),n}correctTopRight(n){let a=n[0],l=n[1],f=n[2],h=n[3],g=this.transitionsBetween(a,h),v=this.transitionsBetween(l,h),_=ur.shiftPoint(a,l,(v+1)*4),S=ur.shiftPoint(f,l,(g+1)*4);g=this.transitionsBetween(_,h),v=this.transitionsBetween(S,h);let R=new it(h.getX()+(f.getX()-l.getX())/(g+1),h.getY()+(f.getY()-l.getY())/(g+1)),M=new it(h.getX()+(a.getX()-l.getX())/(v+1),h.getY()+(a.getY()-l.getY())/(v+1));if(!this.isValid(R))return this.isValid(M)?M:null;if(!this.isValid(M))return R;let F=this.transitionsBetween(_,R)+this.transitionsBetween(S,R),Y=this.transitionsBetween(_,M)+this.transitionsBetween(S,M);return F>Y?R:M}shiftToModuleCenter(n){let a=n[0],l=n[1],f=n[2],h=n[3],g=this.transitionsBetween(a,h)+1,v=this.transitionsBetween(f,h)+1,_=ur.shiftPoint(a,l,v*4),S=ur.shiftPoint(f,l,g*4);g=this.transitionsBetween(_,h)+1,v=this.transitionsBetween(S,h)+1,(g&1)===1&&(g+=1),(v&1)===1&&(v+=1);let R=(a.getX()+l.getX()+f.getX()+h.getX())/4,M=(a.getY()+l.getY()+f.getY()+h.getY())/4;a=ur.moveAway(a,R,M),l=ur.moveAway(l,R,M),f=ur.moveAway(f,R,M),h=ur.moveAway(h,R,M);let F,Y;return _=ur.shiftPoint(a,l,v*4),_=ur.shiftPoint(_,h,g*4),F=ur.shiftPoint(l,a,v*4),F=ur.shiftPoint(F,f,g*4),S=ur.shiftPoint(f,h,v*4),S=ur.shiftPoint(S,l,g*4),Y=ur.shiftPoint(h,f,v*4),Y=ur.shiftPoint(Y,a,g*4),[_,F,S,Y]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,a,l,f,h,g,v){return Ur.getInstance().sampleGrid(n,g,v,.5,.5,g-.5,.5,g-.5,v-.5,.5,v-.5,a.getX(),a.getY(),h.getX(),h.getY(),f.getX(),f.getY(),l.getX(),l.getY())}transitionsBetween(n,a){let l=Math.trunc(n.getX()),f=Math.trunc(n.getY()),h=Math.trunc(a.getX()),g=Math.trunc(a.getY()),v=Math.abs(g-f)>Math.abs(h-l);if(v){let ie=l;l=f,f=ie,ie=h,h=g,g=ie}let _=Math.abs(h-l),S=Math.abs(g-f),R=-_/2,M=f<g?1:-1,F=l<h?1:-1,Y=0,te=this.image.get(v?f:l,v?l:f);for(let ie=l,ce=f;ie!==h;ie+=F){let Ee=this.image.get(v?ce:ie,v?ie:ce);if(Ee!==te&&(Y++,te=Ee),R+=S,R>0){if(ce===g)break;ce+=M,R-=_}}return Y}}class si{constructor(){this.decoder=new _o}decode(n,a=null){let l,f;if(a!=null&&a.has(ve.PURE_BARCODE)){const S=si.extractPureBits(n.getBlackMatrix());l=this.decoder.decode(S),f=si.NO_POINTS}else{const S=new ur(n.getBlackMatrix()).detect();l=this.decoder.decode(S.getBits()),f=S.getPoints()}const h=l.getRawBytes(),g=new ee(l.getText(),h,8*h.length,f,oe.DATA_MATRIX,O.currentTimeMillis()),v=l.getByteSegments();v!=null&&g.putMetadata(De.BYTE_SEGMENTS,v);const _=l.getECLevel();return _!=null&&g.putMetadata(De.ERROR_CORRECTION_LEVEL,_),g}reset(){}static extractPureBits(n){const a=n.getTopLeftOnBit(),l=n.getBottomRightOnBit();if(a==null||l==null)throw new le;const f=this.moduleSize(a,n);let h=a[1];const g=l[1];let v=a[0];const S=(l[0]-v+1)/f,R=(g-h+1)/f;if(S<=0||R<=0)throw new le;const M=f/2;h+=M,v+=M;const F=new at(S,R);for(let Y=0;Y<R;Y++){const te=h+Y*f;for(let ie=0;ie<S;ie++)n.get(v+ie*f,te)&&F.set(ie,Y)}return F}static moduleSize(n,a){const l=a.getWidth();let f=n[0];const h=n[1];for(;f<l&&a.get(f,h);)f++;if(f===l)throw new le;const g=f-n[0];if(g===0)throw new le;return g}}si.NO_POINTS=[];class F0 extends ae{constructor(n=500){super(new si,n)}}var $s;(function(D){D[D.L=0]="L",D[D.M=1]="M",D[D.Q=2]="Q",D[D.H=3]="H"})($s||($s={}));class Zt{constructor(n,a,l){this.value=n,this.stringValue=a,this.bits=l,Zt.FOR_BITS.set(l,this),Zt.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return Zt.L;case"M":return Zt.M;case"Q":return Zt.Q;case"H":return Zt.H;default:throw new E(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof Zt))return!1;const a=n;return this.value===a.value}static forBits(n){if(n<0||n>=Zt.FOR_BITS.size)throw new A;return Zt.FOR_BITS.get(n)}}Zt.FOR_BITS=new Map,Zt.FOR_VALUE=new Map,Zt.L=new Zt($s.L,"L",1),Zt.M=new Zt($s.M,"M",0),Zt.Q=new Zt($s.Q,"Q",3),Zt.H=new Zt($s.H,"H",2);class Zr{constructor(n){this.errorCorrectionLevel=Zt.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,a){return B.bitCount(n^a)}static decodeFormatInformation(n,a){const l=Zr.doDecodeFormatInformation(n,a);return l!==null?l:Zr.doDecodeFormatInformation(n^Zr.FORMAT_INFO_MASK_QR,a^Zr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,a){let l=Number.MAX_SAFE_INTEGER,f=0;for(const h of Zr.FORMAT_INFO_DECODE_LOOKUP){const g=h[0];if(g===n||g===a)return new Zr(h[1]);let v=Zr.numBitsDiffering(n,g);v<l&&(f=h[1],l=v),n!==a&&(v=Zr.numBitsDiffering(a,g),v<l&&(f=h[1],l=v))}return l<=3?new Zr(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof Zr))return!1;const a=n;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Zr.FORMAT_INFO_MASK_QR=21522,Zr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class de{constructor(n,...a){this.ecCodewordsPerBlock=n,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const a=this.ecBlocks;for(const l of a)n+=l.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class W{constructor(n,a){this.count=n,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ht{constructor(n,a,...l){this.versionNumber=n,this.alignmentPatternCenters=a,this.ecBlocks=l;let f=0;const h=l[0].getECCodewordsPerBlock(),g=l[0].getECBlocks();for(const v of g)f+=v.getCount()*(v.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new G;try{return this.getVersionForNumber((n-17)/4)}catch{throw new G}}static getVersionForNumber(n){if(n<1||n>40)throw new A;return ht.VERSIONS[n-1]}static decodeVersionInformation(n){let a=Number.MAX_SAFE_INTEGER,l=0;for(let f=0;f<ht.VERSION_DECODE_INFO.length;f++){const h=ht.VERSION_DECODE_INFO[f];if(h===n)return ht.getVersionForNumber(f+7);const g=Zr.numBitsDiffering(n,h);g<a&&(l=f+7,a=g)}return a<=3?ht.getVersionForNumber(l):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),a=new at(n);a.setRegion(0,0,9,9),a.setRegion(n-8,0,8,9),a.setRegion(0,n-8,9,8);const l=this.alignmentPatternCenters.length;for(let f=0;f<l;f++){const h=this.alignmentPatternCenters[f]-2;for(let g=0;g<l;g++)f===0&&(g===0||g===l-1)||f===l-1&&g===0||a.setRegion(this.alignmentPatternCenters[g]-2,h,5,5)}return a.setRegion(6,9,1,n-17),a.setRegion(9,6,n-17,1),this.versionNumber>6&&(a.setRegion(n-11,0,3,6),a.setRegion(0,n-11,6,3)),a}toString(){return""+this.versionNumber}}ht.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ht.VERSIONS=[new ht(1,new Int32Array(0),new de(7,new W(1,19)),new de(10,new W(1,16)),new de(13,new W(1,13)),new de(17,new W(1,9))),new ht(2,Int32Array.from([6,18]),new de(10,new W(1,34)),new de(16,new W(1,28)),new de(22,new W(1,22)),new de(28,new W(1,16))),new ht(3,Int32Array.from([6,22]),new de(15,new W(1,55)),new de(26,new W(1,44)),new de(18,new W(2,17)),new de(22,new W(2,13))),new ht(4,Int32Array.from([6,26]),new de(20,new W(1,80)),new de(18,new W(2,32)),new de(26,new W(2,24)),new de(16,new W(4,9))),new ht(5,Int32Array.from([6,30]),new de(26,new W(1,108)),new de(24,new W(2,43)),new de(18,new W(2,15),new W(2,16)),new de(22,new W(2,11),new W(2,12))),new ht(6,Int32Array.from([6,34]),new de(18,new W(2,68)),new de(16,new W(4,27)),new de(24,new W(4,19)),new de(28,new W(4,15))),new ht(7,Int32Array.from([6,22,38]),new de(20,new W(2,78)),new de(18,new W(4,31)),new de(18,new W(2,14),new W(4,15)),new de(26,new W(4,13),new W(1,14))),new ht(8,Int32Array.from([6,24,42]),new de(24,new W(2,97)),new de(22,new W(2,38),new W(2,39)),new de(22,new W(4,18),new W(2,19)),new de(26,new W(4,14),new W(2,15))),new ht(9,Int32Array.from([6,26,46]),new de(30,new W(2,116)),new de(22,new W(3,36),new W(2,37)),new de(20,new W(4,16),new W(4,17)),new de(24,new W(4,12),new W(4,13))),new ht(10,Int32Array.from([6,28,50]),new de(18,new W(2,68),new W(2,69)),new de(26,new W(4,43),new W(1,44)),new de(24,new W(6,19),new W(2,20)),new de(28,new W(6,15),new W(2,16))),new ht(11,Int32Array.from([6,30,54]),new de(20,new W(4,81)),new de(30,new W(1,50),new W(4,51)),new de(28,new W(4,22),new W(4,23)),new de(24,new W(3,12),new W(8,13))),new ht(12,Int32Array.from([6,32,58]),new de(24,new W(2,92),new W(2,93)),new de(22,new W(6,36),new W(2,37)),new de(26,new W(4,20),new W(6,21)),new de(28,new W(7,14),new W(4,15))),new ht(13,Int32Array.from([6,34,62]),new de(26,new W(4,107)),new de(22,new W(8,37),new W(1,38)),new de(24,new W(8,20),new W(4,21)),new de(22,new W(12,11),new W(4,12))),new ht(14,Int32Array.from([6,26,46,66]),new de(30,new W(3,115),new W(1,116)),new de(24,new W(4,40),new W(5,41)),new de(20,new W(11,16),new W(5,17)),new de(24,new W(11,12),new W(5,13))),new ht(15,Int32Array.from([6,26,48,70]),new de(22,new W(5,87),new W(1,88)),new de(24,new W(5,41),new W(5,42)),new de(30,new W(5,24),new W(7,25)),new de(24,new W(11,12),new W(7,13))),new ht(16,Int32Array.from([6,26,50,74]),new de(24,new W(5,98),new W(1,99)),new de(28,new W(7,45),new W(3,46)),new de(24,new W(15,19),new W(2,20)),new de(30,new W(3,15),new W(13,16))),new ht(17,Int32Array.from([6,30,54,78]),new de(28,new W(1,107),new W(5,108)),new de(28,new W(10,46),new W(1,47)),new de(28,new W(1,22),new W(15,23)),new de(28,new W(2,14),new W(17,15))),new ht(18,Int32Array.from([6,30,56,82]),new de(30,new W(5,120),new W(1,121)),new de(26,new W(9,43),new W(4,44)),new de(28,new W(17,22),new W(1,23)),new de(28,new W(2,14),new W(19,15))),new ht(19,Int32Array.from([6,30,58,86]),new de(28,new W(3,113),new W(4,114)),new de(26,new W(3,44),new W(11,45)),new de(26,new W(17,21),new W(4,22)),new de(26,new W(9,13),new W(16,14))),new ht(20,Int32Array.from([6,34,62,90]),new de(28,new W(3,107),new W(5,108)),new de(26,new W(3,41),new W(13,42)),new de(30,new W(15,24),new W(5,25)),new de(28,new W(15,15),new W(10,16))),new ht(21,Int32Array.from([6,28,50,72,94]),new de(28,new W(4,116),new W(4,117)),new de(26,new W(17,42)),new de(28,new W(17,22),new W(6,23)),new de(30,new W(19,16),new W(6,17))),new ht(22,Int32Array.from([6,26,50,74,98]),new de(28,new W(2,111),new W(7,112)),new de(28,new W(17,46)),new de(30,new W(7,24),new W(16,25)),new de(24,new W(34,13))),new ht(23,Int32Array.from([6,30,54,78,102]),new de(30,new W(4,121),new W(5,122)),new de(28,new W(4,47),new W(14,48)),new de(30,new W(11,24),new W(14,25)),new de(30,new W(16,15),new W(14,16))),new ht(24,Int32Array.from([6,28,54,80,106]),new de(30,new W(6,117),new W(4,118)),new de(28,new W(6,45),new W(14,46)),new de(30,new W(11,24),new W(16,25)),new de(30,new W(30,16),new W(2,17))),new ht(25,Int32Array.from([6,32,58,84,110]),new de(26,new W(8,106),new W(4,107)),new de(28,new W(8,47),new W(13,48)),new de(30,new W(7,24),new W(22,25)),new de(30,new W(22,15),new W(13,16))),new ht(26,Int32Array.from([6,30,58,86,114]),new de(28,new W(10,114),new W(2,115)),new de(28,new W(19,46),new W(4,47)),new de(28,new W(28,22),new W(6,23)),new de(30,new W(33,16),new W(4,17))),new ht(27,Int32Array.from([6,34,62,90,118]),new de(30,new W(8,122),new W(4,123)),new de(28,new W(22,45),new W(3,46)),new de(30,new W(8,23),new W(26,24)),new de(30,new W(12,15),new W(28,16))),new ht(28,Int32Array.from([6,26,50,74,98,122]),new de(30,new W(3,117),new W(10,118)),new de(28,new W(3,45),new W(23,46)),new de(30,new W(4,24),new W(31,25)),new de(30,new W(11,15),new W(31,16))),new ht(29,Int32Array.from([6,30,54,78,102,126]),new de(30,new W(7,116),new W(7,117)),new de(28,new W(21,45),new W(7,46)),new de(30,new W(1,23),new W(37,24)),new de(30,new W(19,15),new W(26,16))),new ht(30,Int32Array.from([6,26,52,78,104,130]),new de(30,new W(5,115),new W(10,116)),new de(28,new W(19,47),new W(10,48)),new de(30,new W(15,24),new W(25,25)),new de(30,new W(23,15),new W(25,16))),new ht(31,Int32Array.from([6,30,56,82,108,134]),new de(30,new W(13,115),new W(3,116)),new de(28,new W(2,46),new W(29,47)),new de(30,new W(42,24),new W(1,25)),new de(30,new W(23,15),new W(28,16))),new ht(32,Int32Array.from([6,34,60,86,112,138]),new de(30,new W(17,115)),new de(28,new W(10,46),new W(23,47)),new de(30,new W(10,24),new W(35,25)),new de(30,new W(19,15),new W(35,16))),new ht(33,Int32Array.from([6,30,58,86,114,142]),new de(30,new W(17,115),new W(1,116)),new de(28,new W(14,46),new W(21,47)),new de(30,new W(29,24),new W(19,25)),new de(30,new W(11,15),new W(46,16))),new ht(34,Int32Array.from([6,34,62,90,118,146]),new de(30,new W(13,115),new W(6,116)),new de(28,new W(14,46),new W(23,47)),new de(30,new W(44,24),new W(7,25)),new de(30,new W(59,16),new W(1,17))),new ht(35,Int32Array.from([6,30,54,78,102,126,150]),new de(30,new W(12,121),new W(7,122)),new de(28,new W(12,47),new W(26,48)),new de(30,new W(39,24),new W(14,25)),new de(30,new W(22,15),new W(41,16))),new ht(36,Int32Array.from([6,24,50,76,102,128,154]),new de(30,new W(6,121),new W(14,122)),new de(28,new W(6,47),new W(34,48)),new de(30,new W(46,24),new W(10,25)),new de(30,new W(2,15),new W(64,16))),new ht(37,Int32Array.from([6,28,54,80,106,132,158]),new de(30,new W(17,122),new W(4,123)),new de(28,new W(29,46),new W(14,47)),new de(30,new W(49,24),new W(10,25)),new de(30,new W(24,15),new W(46,16))),new ht(38,Int32Array.from([6,32,58,84,110,136,162]),new de(30,new W(4,122),new W(18,123)),new de(28,new W(13,46),new W(32,47)),new de(30,new W(48,24),new W(14,25)),new de(30,new W(42,15),new W(32,16))),new ht(39,Int32Array.from([6,26,54,82,110,138,166]),new de(30,new W(20,117),new W(4,118)),new de(28,new W(40,47),new W(7,48)),new de(30,new W(43,24),new W(22,25)),new de(30,new W(10,15),new W(67,16))),new ht(40,Int32Array.from([6,30,58,86,114,142,170]),new de(30,new W(19,118),new W(6,119)),new de(28,new W(18,47),new W(31,48)),new de(30,new W(34,24),new W(34,25)),new de(30,new W(20,15),new W(61,16)))];var br;(function(D){D[D.DATA_MASK_000=0]="DATA_MASK_000",D[D.DATA_MASK_001=1]="DATA_MASK_001",D[D.DATA_MASK_010=2]="DATA_MASK_010",D[D.DATA_MASK_011=3]="DATA_MASK_011",D[D.DATA_MASK_100=4]="DATA_MASK_100",D[D.DATA_MASK_101=5]="DATA_MASK_101",D[D.DATA_MASK_110=6]="DATA_MASK_110",D[D.DATA_MASK_111=7]="DATA_MASK_111"})(br||(br={}));class Dt{constructor(n,a){this.value=n,this.isMasked=a}unmaskBitMatrix(n,a){for(let l=0;l<a;l++)for(let f=0;f<a;f++)this.isMasked(l,f)&&n.flip(f,l)}}Dt.values=new Map([[br.DATA_MASK_000,new Dt(br.DATA_MASK_000,(D,n)=>(D+n&1)===0)],[br.DATA_MASK_001,new Dt(br.DATA_MASK_001,(D,n)=>(D&1)===0)],[br.DATA_MASK_010,new Dt(br.DATA_MASK_010,(D,n)=>n%3===0)],[br.DATA_MASK_011,new Dt(br.DATA_MASK_011,(D,n)=>(D+n)%3===0)],[br.DATA_MASK_100,new Dt(br.DATA_MASK_100,(D,n)=>(Math.floor(D/2)+Math.floor(n/3)&1)===0)],[br.DATA_MASK_101,new Dt(br.DATA_MASK_101,(D,n)=>D*n%6===0)],[br.DATA_MASK_110,new Dt(br.DATA_MASK_110,(D,n)=>D*n%6<3)],[br.DATA_MASK_111,new Dt(br.DATA_MASK_111,(D,n)=>(D+n+D*n%3&1)===0)]]);class Uu{constructor(n){const a=n.getHeight();if(a<21||(a&3)!==1)throw new G;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let h=0;h<6;h++)n=this.copyBit(h,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let h=5;h>=0;h--)n=this.copyBit(8,h,n);const a=this.bitMatrix.getHeight();let l=0;const f=a-7;for(let h=a-1;h>=f;h--)l=this.copyBit(8,h,l);for(let h=a-8;h<a;h++)l=this.copyBit(h,8,l);if(this.parsedFormatInfo=Zr.decodeFormatInformation(n,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new G}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),a=Math.floor((n-17)/4);if(a<=6)return ht.getVersionForNumber(a);let l=0;const f=n-11;for(let g=5;g>=0;g--)for(let v=n-9;v>=f;v--)l=this.copyBit(v,g,l);let h=ht.decodeVersionInformation(l);if(h!==null&&h.getDimensionForVersion()===n)return this.parsedVersion=h,h;l=0;for(let g=5;g>=0;g--)for(let v=n-9;v>=f;v--)l=this.copyBit(g,v,l);if(h=ht.decodeVersionInformation(l),h!==null&&h.getDimensionForVersion()===n)return this.parsedVersion=h,h;throw new G}copyBit(n,a,l){return(this.isMirror?this.bitMatrix.get(a,n):this.bitMatrix.get(n,a))?l<<1|1:l<<1}readCodewords(){const n=this.readFormatInformation(),a=this.readVersion(),l=Dt.values.get(n.getDataMask()),f=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,f);const h=a.buildFunctionPattern();let g=!0;const v=new Uint8Array(a.getTotalCodewords());let _=0,S=0,R=0;for(let M=f-1;M>0;M-=2){M===6&&M--;for(let F=0;F<f;F++){const Y=g?f-1-F:F;for(let te=0;te<2;te++)h.get(M-te,Y)||(R++,S<<=1,this.bitMatrix.get(M-te,Y)&&(S|=1),R===8&&(v[_++]=S,R=0,S=0))}g=!g}if(_!==a.getTotalCodewords())throw new G;return v}remask(){if(this.parsedFormatInfo===null)return;const n=Dt.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let a=0,l=n.getWidth();a<l;a++)for(let f=a+1,h=n.getHeight();f<h;f++)n.get(a,f)!==n.get(f,a)&&(n.flip(f,a),n.flip(a,f))}}class Ao{constructor(n,a){this.numDataCodewords=n,this.codewords=a}static getDataBlocks(n,a,l){if(n.length!==a.getTotalCodewords())throw new A;const f=a.getECBlocksForLevel(l);let h=0;const g=f.getECBlocks();for(const te of g)h+=te.getCount();const v=new Array(h);let _=0;for(const te of g)for(let ie=0;ie<te.getCount();ie++){const ce=te.getDataCodewords(),Ee=f.getECCodewordsPerBlock()+ce;v[_++]=new Ao(ce,new Uint8Array(Ee))}const S=v[0].codewords.length;let R=v.length-1;for(;R>=0&&v[R].codewords.length!==S;)R--;R++;const M=S-f.getECCodewordsPerBlock();let F=0;for(let te=0;te<M;te++)for(let ie=0;ie<_;ie++)v[ie].codewords[te]=n[F++];for(let te=R;te<_;te++)v[te].codewords[M]=n[F++];const Y=v[0].codewords.length;for(let te=M;te<Y;te++)for(let ie=0;ie<_;ie++){const ce=ie<R?te:te+1;v[ie].codewords[ce]=n[F++]}return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Dn;(function(D){D[D.TERMINATOR=0]="TERMINATOR",D[D.NUMERIC=1]="NUMERIC",D[D.ALPHANUMERIC=2]="ALPHANUMERIC",D[D.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",D[D.BYTE=4]="BYTE",D[D.ECI=5]="ECI",D[D.KANJI=6]="KANJI",D[D.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",D[D.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",D[D.HANZI=9]="HANZI"})(Dn||(Dn={}));class gt{constructor(n,a,l,f){this.value=n,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=f,gt.FOR_BITS.set(f,this),gt.FOR_VALUE.set(n,this)}static forBits(n){const a=gt.FOR_BITS.get(n);if(a===void 0)throw new A;return a}getCharacterCountBits(n){const a=n.getVersionNumber();let l;return a<=9?l=0:a<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof gt))return!1;const a=n;return this.value===a.value}toString(){return this.stringValue}}gt.FOR_BITS=new Map,gt.FOR_VALUE=new Map,gt.TERMINATOR=new gt(Dn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),gt.NUMERIC=new gt(Dn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),gt.ALPHANUMERIC=new gt(Dn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),gt.STRUCTURED_APPEND=new gt(Dn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),gt.BYTE=new gt(Dn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),gt.ECI=new gt(Dn.ECI,"ECI",Int32Array.from([0,0,0]),7),gt.KANJI=new gt(Dn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),gt.FNC1_FIRST_POSITION=new gt(Dn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),gt.FNC1_SECOND_POSITION=new gt(Dn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),gt.HANZI=new gt(Dn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class fr{static decode(n,a,l,f){const h=new Tl(n);let g=new Re;const v=new Array;let _=-1,S=-1;try{let R=null,M=!1,F;do{if(h.available()<4)F=gt.TERMINATOR;else{const Y=h.readBits(4);F=gt.forBits(Y)}switch(F){case gt.TERMINATOR:break;case gt.FNC1_FIRST_POSITION:case gt.FNC1_SECOND_POSITION:M=!0;break;case gt.STRUCTURED_APPEND:if(h.available()<16)throw new G;_=h.readBits(8),S=h.readBits(8);break;case gt.ECI:const Y=fr.parseECIValue(h);if(R=Z.getCharacterSetECIByValue(Y),R===null)throw new G;break;case gt.HANZI:const te=h.readBits(4),ie=h.readBits(F.getCharacterCountBits(a));te===fr.GB2312_SUBSET&&fr.decodeHanziSegment(h,g,ie);break;default:const ce=h.readBits(F.getCharacterCountBits(a));switch(F){case gt.NUMERIC:fr.decodeNumericSegment(h,g,ce);break;case gt.ALPHANUMERIC:fr.decodeAlphanumericSegment(h,g,ce,M);break;case gt.BYTE:fr.decodeByteSegment(h,g,ce,R,v,f);break;case gt.KANJI:fr.decodeKanjiSegment(h,g,ce);break;default:throw new G}break}}while(F!==gt.TERMINATOR)}catch{throw new G}return new Xe(n,g.toString(),v.length===0?null:v,l===null?null:l.toString(),_,S)}static decodeHanziSegment(n,a,l){if(l*13>n.available())throw new G;const f=new Uint8Array(2*l);let h=0;for(;l>0;){const g=n.readBits(13);let v=g/96<<8&4294967295|g%96;v<959?v+=41377:v+=42657,f[h]=v>>8&255,f[h+1]=v&255,h+=2,l--}try{a.append(Te.decode(f,we.GB2312))}catch(g){throw new G(g)}}static decodeKanjiSegment(n,a,l){if(l*13>n.available())throw new G;const f=new Uint8Array(2*l);let h=0;for(;l>0;){const g=n.readBits(13);let v=g/192<<8&4294967295|g%192;v<7936?v+=33088:v+=49472,f[h]=v>>8,f[h+1]=v,h+=2,l--}try{a.append(Te.decode(f,we.SHIFT_JIS))}catch(g){throw new G(g)}}static decodeByteSegment(n,a,l,f,h,g){if(8*l>n.available())throw new G;const v=new Uint8Array(l);for(let S=0;S<l;S++)v[S]=n.readBits(8);let _;f===null?_=we.guessEncoding(v,g):_=f.getName();try{a.append(Te.decode(v,_))}catch(S){throw new G(S)}h.push(v)}static toAlphaNumericChar(n){if(n>=fr.ALPHANUMERIC_CHARS.length)throw new G;return fr.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,a,l,f){const h=a.length();for(;l>1;){if(n.available()<11)throw new G;const g=n.readBits(11);a.append(fr.toAlphaNumericChar(Math.floor(g/45))),a.append(fr.toAlphaNumericChar(g%45)),l-=2}if(l===1){if(n.available()<6)throw new G;a.append(fr.toAlphaNumericChar(n.readBits(6)))}if(f)for(let g=h;g<a.length();g++)a.charAt(g)==="%"&&(g<a.length()-1&&a.charAt(g+1)==="%"?a.deleteCharAt(g+1):a.setCharAt(g,""))}static decodeNumericSegment(n,a,l){for(;l>=3;){if(n.available()<10)throw new G;const f=n.readBits(10);if(f>=1e3)throw new G;a.append(fr.toAlphaNumericChar(Math.floor(f/100))),a.append(fr.toAlphaNumericChar(Math.floor(f/10)%10)),a.append(fr.toAlphaNumericChar(f%10)),l-=3}if(l===2){if(n.available()<7)throw new G;const f=n.readBits(7);if(f>=100)throw new G;a.append(fr.toAlphaNumericChar(Math.floor(f/10))),a.append(fr.toAlphaNumericChar(f%10))}else if(l===1){if(n.available()<4)throw new G;const f=n.readBits(4);if(f>=10)throw new G;a.append(fr.toAlphaNumericChar(f))}}static parseECIValue(n){const a=n.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){const l=n.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){const l=n.readBits(16);return(a&31)<<16&4294967295|l}throw new G}}fr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",fr.GB2312_SUBSET=1;class Cl{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const a=n[0];n[0]=n[2],n[2]=a}}class Il{constructor(){this.rsDecoder=new $t(mt.QR_CODE_FIELD_256)}decodeBooleanArray(n,a){return this.decodeBitMatrix(at.parseFromBooleanArray(n),a)}decodeBitMatrix(n,a){const l=new Uu(n);let f=null;try{return this.decodeBitMatrixParser(l,a)}catch(h){f=h}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const h=this.decodeBitMatrixParser(l,a);return h.setOther(new Cl(!0)),h}catch(h){throw f!==null?f:h}}decodeBitMatrixParser(n,a){const l=n.readVersion(),f=n.readFormatInformation().getErrorCorrectionLevel(),h=n.readCodewords(),g=Ao.getDataBlocks(h,l,f);let v=0;for(const R of g)v+=R.getNumDataCodewords();const _=new Uint8Array(v);let S=0;for(const R of g){const M=R.getCodewords(),F=R.getNumDataCodewords();this.correctErrors(M,F);for(let Y=0;Y<F;Y++)_[S++]=M[Y]}return fr.decode(_,l,f,a)}correctErrors(n,a){const l=new Int32Array(n);try{this.rsDecoder.decode(l,n.length-a)}catch{throw new N}for(let f=0;f<a;f++)n[f]=l[f]}}class qs extends it{constructor(n,a,l){super(n,a),this.estimatedModuleSize=l}aboutEquals(n,a,l){if(Math.abs(a-this.getY())<=n&&Math.abs(l-this.getX())<=n){const f=Math.abs(n-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(n,a,l){const f=(this.getX()+a)/2,h=(this.getY()+n)/2,g=(this.estimatedModuleSize+l)/2;return new qs(f,h,g)}}class ai{constructor(n,a,l,f,h,g,v){this.image=n,this.startX=a,this.startY=l,this.width=f,this.height=h,this.moduleSize=g,this.resultPointCallback=v,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,a=this.height,l=this.width,f=n+l,h=this.startY+a/2,g=new Int32Array(3),v=this.image;for(let _=0;_<a;_++){const S=h+((_&1)===0?Math.floor((_+1)/2):-Math.floor((_+1)/2));g[0]=0,g[1]=0,g[2]=0;let R=n;for(;R<f&&!v.get(R,S);)R++;let M=0;for(;R<f;){if(v.get(R,S))if(M===1)g[1]++;else if(M===2){if(this.foundPatternCross(g)){const F=this.handlePossibleCenter(g,S,R);if(F!==null)return F}g[0]=g[2],g[1]=1,g[2]=0,M=1}else g[++M]++;else M===1&&M++,g[M]++;R++}if(this.foundPatternCross(g)){const F=this.handlePossibleCenter(g,S,f);if(F!==null)return F}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new le}static centerFromEnd(n,a){return a-n[2]-n[1]/2}foundPatternCross(n){const a=this.moduleSize,l=a/2;for(let f=0;f<3;f++)if(Math.abs(a-n[f])>=l)return!1;return!0}crossCheckVertical(n,a,l,f){const h=this.image,g=h.getHeight(),v=this.crossCheckStateCount;v[0]=0,v[1]=0,v[2]=0;let _=n;for(;_>=0&&h.get(a,_)&&v[1]<=l;)v[1]++,_--;if(_<0||v[1]>l)return NaN;for(;_>=0&&!h.get(a,_)&&v[0]<=l;)v[0]++,_--;if(v[0]>l)return NaN;for(_=n+1;_<g&&h.get(a,_)&&v[1]<=l;)v[1]++,_++;if(_===g||v[1]>l)return NaN;for(;_<g&&!h.get(a,_)&&v[2]<=l;)v[2]++,_++;if(v[2]>l)return NaN;const S=v[0]+v[1]+v[2];return 5*Math.abs(S-f)>=2*f?NaN:this.foundPatternCross(v)?ai.centerFromEnd(v,_):NaN}handlePossibleCenter(n,a,l){const f=n[0]+n[1]+n[2],h=ai.centerFromEnd(n,l),g=this.crossCheckVertical(a,h,2*n[1],f);if(!isNaN(g)){const v=(n[0]+n[1]+n[2])/3;for(const S of this.possibleCenters)if(S.aboutEquals(v,g,h))return S.combineEstimate(g,h,v);const _=new qs(h,g,v);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null}}class Ti extends it{constructor(n,a,l,f){super(n,a),this.estimatedModuleSize=l,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,a,l){if(Math.abs(a-this.getY())<=n&&Math.abs(l-this.getX())<=n){const f=Math.abs(n-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(n,a,l){const f=this.count+1,h=(this.count*this.getX()+a)/f,g=(this.count*this.getY()+n)/f,v=(this.count*this.estimatedModuleSize+l)/f;return new Ti(h,g,v,f)}}class ls{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Er{constructor(n,a){this.image=n,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const a=n!=null&&n.get(ve.TRY_HARDER)!==void 0,l=n!=null&&n.get(ve.PURE_BARCODE)!==void 0,f=this.image,h=f.getHeight(),g=f.getWidth();let v=Math.floor(3*h/(4*Er.MAX_MODULES));(v<Er.MIN_SKIP||a)&&(v=Er.MIN_SKIP);let _=!1;const S=new Int32Array(5);for(let M=v-1;M<h&&!_;M+=v){S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0;let F=0;for(let Y=0;Y<g;Y++)if(f.get(Y,M))(F&1)===1&&F++,S[F]++;else if((F&1)===0)if(F===4)if(Er.foundPatternCross(S)){if(this.handlePossibleCenter(S,M,Y,l)===!0)if(v=2,this.hasSkipped===!0)_=this.haveMultiplyConfirmedCenters();else{const ie=this.findRowSkip();ie>S[2]&&(M+=ie-S[2]-v,Y=g-1)}else{S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,F=3;continue}F=0,S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0}else S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,F=3;else S[++F]++;else S[F]++;Er.foundPatternCross(S)&&this.handlePossibleCenter(S,M,g,l)===!0&&(v=S[0],this.hasSkipped&&(_=this.haveMultiplyConfirmedCenters()))}const R=this.selectBestPatterns();return it.orderBestPatterns(R),new ls(R)}static centerFromEnd(n,a){return a-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let a=0;for(let h=0;h<5;h++){const g=n[h];if(g===0)return!1;a+=g}if(a<7)return!1;const l=a/7,f=l/2;return Math.abs(l-n[0])<f&&Math.abs(l-n[1])<f&&Math.abs(3*l-n[2])<3*f&&Math.abs(l-n[3])<f&&Math.abs(l-n[4])<f}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,a,l,f){const h=this.getCrossCheckStateCount();let g=0;const v=this.image;for(;n>=g&&a>=g&&v.get(a-g,n-g);)h[2]++,g++;if(n<g||a<g)return!1;for(;n>=g&&a>=g&&!v.get(a-g,n-g)&&h[1]<=l;)h[1]++,g++;if(n<g||a<g||h[1]>l)return!1;for(;n>=g&&a>=g&&v.get(a-g,n-g)&&h[0]<=l;)h[0]++,g++;if(h[0]>l)return!1;const _=v.getHeight(),S=v.getWidth();for(g=1;n+g<_&&a+g<S&&v.get(a+g,n+g);)h[2]++,g++;if(n+g>=_||a+g>=S)return!1;for(;n+g<_&&a+g<S&&!v.get(a+g,n+g)&&h[3]<l;)h[3]++,g++;if(n+g>=_||a+g>=S||h[3]>=l)return!1;for(;n+g<_&&a+g<S&&v.get(a+g,n+g)&&h[4]<l;)h[4]++,g++;if(h[4]>=l)return!1;const R=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(R-f)<2*f&&Er.foundPatternCross(h)}crossCheckVertical(n,a,l,f){const h=this.image,g=h.getHeight(),v=this.getCrossCheckStateCount();let _=n;for(;_>=0&&h.get(a,_);)v[2]++,_--;if(_<0)return NaN;for(;_>=0&&!h.get(a,_)&&v[1]<=l;)v[1]++,_--;if(_<0||v[1]>l)return NaN;for(;_>=0&&h.get(a,_)&&v[0]<=l;)v[0]++,_--;if(v[0]>l)return NaN;for(_=n+1;_<g&&h.get(a,_);)v[2]++,_++;if(_===g)return NaN;for(;_<g&&!h.get(a,_)&&v[3]<l;)v[3]++,_++;if(_===g||v[3]>=l)return NaN;for(;_<g&&h.get(a,_)&&v[4]<l;)v[4]++,_++;if(v[4]>=l)return NaN;const S=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(S-f)>=2*f?NaN:Er.foundPatternCross(v)?Er.centerFromEnd(v,_):NaN}crossCheckHorizontal(n,a,l,f){const h=this.image,g=h.getWidth(),v=this.getCrossCheckStateCount();let _=n;for(;_>=0&&h.get(_,a);)v[2]++,_--;if(_<0)return NaN;for(;_>=0&&!h.get(_,a)&&v[1]<=l;)v[1]++,_--;if(_<0||v[1]>l)return NaN;for(;_>=0&&h.get(_,a)&&v[0]<=l;)v[0]++,_--;if(v[0]>l)return NaN;for(_=n+1;_<g&&h.get(_,a);)v[2]++,_++;if(_===g)return NaN;for(;_<g&&!h.get(_,a)&&v[3]<l;)v[3]++,_++;if(_===g||v[3]>=l)return NaN;for(;_<g&&h.get(_,a)&&v[4]<l;)v[4]++,_++;if(v[4]>=l)return NaN;const S=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(S-f)>=f?NaN:Er.foundPatternCross(v)?Er.centerFromEnd(v,_):NaN}handlePossibleCenter(n,a,l,f){const h=n[0]+n[1]+n[2]+n[3]+n[4];let g=Er.centerFromEnd(n,l),v=this.crossCheckVertical(a,Math.floor(g),n[2],h);if(!isNaN(v)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(v),n[2],h),!isNaN(g)&&(!f||this.crossCheckDiagonal(Math.floor(v),Math.floor(g),n[2],h)))){const _=h/7;let S=!1;const R=this.possibleCenters;for(let M=0,F=R.length;M<F;M++){const Y=R[M];if(Y.aboutEquals(_,v,g)){R[M]=Y.combineEstimate(v,g,_),S=!0;break}}if(!S){const M=new Ti(g,v,_);R.push(M),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(M)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=Er.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,a=0;const l=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=Er.CENTER_QUORUM&&(n++,a+=g.getEstimatedModuleSize());if(n<3)return!1;const f=a/l;let h=0;for(const g of this.possibleCenters)h+=Math.abs(g.getEstimatedModuleSize()-f);return h<=.05*a}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new le;const a=this.possibleCenters;let l;if(n>3){let f=0,h=0;for(const _ of this.possibleCenters){const S=_.getEstimatedModuleSize();f+=S,h+=S*S}l=f/n;let g=Math.sqrt(h/n-l*l);a.sort((_,S)=>{const R=Math.abs(S.getEstimatedModuleSize()-l),M=Math.abs(_.getEstimatedModuleSize()-l);return R<M?-1:R>M?1:0});const v=Math.max(.2*l,g);for(let _=0;_<a.length&&a.length>3;_++){const S=a[_];Math.abs(S.getEstimatedModuleSize()-l)>v&&(a.splice(_,1),_--)}}if(a.length>3){let f=0;for(const h of a)f+=h.getEstimatedModuleSize();l=f/a.length,a.sort((h,g)=>{if(g.getCount()===h.getCount()){const v=Math.abs(g.getEstimatedModuleSize()-l),_=Math.abs(h.getEstimatedModuleSize()-l);return v<_?1:v>_?-1:0}else return g.getCount()-h.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Er.CENTER_QUORUM=2,Er.MIN_SKIP=3,Er.MAX_MODULES=57;class ji{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(ve.NEED_RESULT_POINT_CALLBACK);const l=new Er(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(l)}processFinderPatternInfo(n){const a=n.getTopLeft(),l=n.getTopRight(),f=n.getBottomLeft(),h=this.calculateModuleSize(a,l,f);if(h<1)throw new le("No pattern found in proccess finder.");const g=ji.computeDimension(a,l,f,h),v=ht.getProvisionalVersionForDimension(g),_=v.getDimensionForVersion()-7;let S=null;if(v.getAlignmentPatternCenters().length>0){const Y=l.getX()-a.getX()+f.getX(),te=l.getY()-a.getY()+f.getY(),ie=1-3/_,ce=Math.floor(a.getX()+ie*(Y-a.getX())),Ee=Math.floor(a.getY()+ie*(te-a.getY()));for(let je=4;je<=16;je<<=1)try{S=this.findAlignmentInRegion(h,ce,Ee,je);break}catch(Ge){if(!(Ge instanceof le))throw Ge}}const R=ji.createTransform(a,l,f,S,g),M=ji.sampleGrid(this.image,R,g);let F;return S===null?F=[f,a,l]:F=[f,a,l,S],new Fi(M,F)}static createTransform(n,a,l,f,h){const g=h-3.5;let v,_,S,R;return f!==null?(v=f.getX(),_=f.getY(),S=g-3,R=S):(v=a.getX()-n.getX()+l.getX(),_=a.getY()-n.getY()+l.getY(),S=g,R=g),ln.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,S,R,3.5,g,n.getX(),n.getY(),a.getX(),a.getY(),v,_,l.getX(),l.getY())}static sampleGrid(n,a,l){return Ur.getInstance().sampleGridWithTransform(n,l,l,a)}static computeDimension(n,a,l,f){const h=Ct.round(it.distance(n,a)/f),g=Ct.round(it.distance(n,l)/f);let v=Math.floor((h+g)/2)+7;switch(v&3){case 0:v++;break;case 2:v--;break;case 3:throw new le("Dimensions could be not found.")}return v}calculateModuleSize(n,a,l){return(this.calculateModuleSizeOneWay(n,a)+this.calculateModuleSizeOneWay(n,l))/2}calculateModuleSizeOneWay(n,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(a.getX()),Math.floor(a.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(l)?f/7:isNaN(f)?l/7:(l+f)/14}sizeOfBlackWhiteBlackRunBothWays(n,a,l,f){let h=this.sizeOfBlackWhiteBlackRun(n,a,l,f),g=1,v=n-(l-n);v<0?(g=n/(n-v),v=0):v>=this.image.getWidth()&&(g=(this.image.getWidth()-1-n)/(v-n),v=this.image.getWidth()-1);let _=Math.floor(a-(f-a)*g);return g=1,_<0?(g=a/(a-_),_=0):_>=this.image.getHeight()&&(g=(this.image.getHeight()-1-a)/(_-a),_=this.image.getHeight()-1),v=Math.floor(n+(v-n)*g),h+=this.sizeOfBlackWhiteBlackRun(n,a,v,_),h-1}sizeOfBlackWhiteBlackRun(n,a,l,f){const h=Math.abs(f-a)>Math.abs(l-n);if(h){let Y=n;n=a,a=Y,Y=l,l=f,f=Y}const g=Math.abs(l-n),v=Math.abs(f-a);let _=-g/2;const S=n<l?1:-1,R=a<f?1:-1;let M=0;const F=l+S;for(let Y=n,te=a;Y!==F;Y+=S){const ie=h?te:Y,ce=h?Y:te;if(M===1===this.image.get(ie,ce)){if(M===2)return Ct.distance(Y,te,n,a);M++}if(_+=v,_>0){if(te===f)break;te+=R,_-=g}}return M===2?Ct.distance(l+S,f,n,a):NaN}findAlignmentInRegion(n,a,l,f){const h=Math.floor(f*n),g=Math.max(0,a-h),v=Math.min(this.image.getWidth()-1,a+h);if(v-g<n*3)throw new le("Alignment top exceeds estimated module size.");const _=Math.max(0,l-h),S=Math.min(this.image.getHeight()-1,l+h);if(S-_<n*3)throw new le("Alignment bottom exceeds estimated module size.");return new ai(this.image,g,_,v-g,S-_,n,this.resultPointCallback).find()}}class wn{constructor(){this.decoder=new Il}getDecoder(){return this.decoder}decode(n,a){let l,f;if(a!=null&&a.get(ve.PURE_BARCODE)!==void 0){const _=wn.extractPureBits(n.getBlackMatrix());l=this.decoder.decodeBitMatrix(_,a),f=wn.NO_POINTS}else{const _=new ji(n.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(_.getBits(),a),f=_.getPoints()}l.getOther()instanceof Cl&&l.getOther().applyMirroredCorrection(f);const h=new ee(l.getText(),l.getRawBytes(),void 0,f,oe.QR_CODE,void 0),g=l.getByteSegments();g!==null&&h.putMetadata(De.BYTE_SEGMENTS,g);const v=l.getECLevel();return v!==null&&h.putMetadata(De.ERROR_CORRECTION_LEVEL,v),l.hasStructuredAppend()&&(h.putMetadata(De.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),h.putMetadata(De.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),h}reset(){}static extractPureBits(n){const a=n.getTopLeftOnBit(),l=n.getBottomRightOnBit();if(a===null||l===null)throw new le;const f=this.moduleSize(a,n);let h=a[1],g=l[1],v=a[0],_=l[0];if(v>=_||h>=g)throw new le;if(g-h!==_-v&&(_=v+(g-h),_>=n.getWidth()))throw new le;const S=Math.round((_-v+1)/f),R=Math.round((g-h+1)/f);if(S<=0||R<=0)throw new le;if(R!==S)throw new le;const M=Math.floor(f/2);h+=M,v+=M;const F=v+Math.floor((S-1)*f)-_;if(F>0){if(F>M)throw new le;v-=F}const Y=h+Math.floor((R-1)*f)-g;if(Y>0){if(Y>M)throw new le;h-=Y}const te=new at(S,R);for(let ie=0;ie<R;ie++){const ce=h+Math.floor(ie*f);for(let Ee=0;Ee<S;Ee++)n.get(v+Math.floor(Ee*f),ce)&&te.set(Ee,ie)}return te}static moduleSize(n,a){const l=a.getHeight(),f=a.getWidth();let h=n[0],g=n[1],v=!0,_=0;for(;h<f&&g<l;){if(v!==a.get(h,g)){if(++_===5)break;v=!v}h++,g++}if(h===f||g===l)throw new le;return(h-n[0])/7}}wn.NO_POINTS=new Array;class yt{PDF417Common(){}static getBitCountSum(n){return Ct.sum(n)}static toIntArray(n){if(n==null||!n.length)return yt.EMPTY_INT_ARRAY;const a=new Int32Array(n.length);let l=0;for(const f of n)a[l++]=f;return a}static getCodeword(n){const a=z.binarySearch(yt.SYMBOL_TABLE,n&262143);return a<0?-1:(yt.CODEWORD_TABLE[a]-1)%yt.NUMBER_OF_CODEWORDS}}yt.NUMBER_OF_CODEWORDS=929,yt.MAX_CODEWORDS_IN_BARCODE=yt.NUMBER_OF_CODEWORDS-1,yt.MIN_ROWS_IN_BARCODE=3,yt.MAX_ROWS_IN_BARCODE=90,yt.MODULES_IN_CODEWORD=17,yt.MODULES_IN_STOP_PATTERN=18,yt.BARS_IN_MODULE=8,yt.EMPTY_INT_ARRAY=new Int32Array([]),yt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),yt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ju{constructor(n,a){this.bits=n,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Ot{static detectMultiple(n,a,l){let f=n.getBlackMatrix(),h=Ot.detect(l,f);return h.length||(f=f.clone(),f.rotate180(),h=Ot.detect(l,f)),new ju(f,h)}static detect(n,a){const l=new Array;let f=0,h=0,g=!1;for(;f<a.getHeight();){const v=Ot.findVertices(a,f,h);if(v[0]==null&&v[3]==null){if(!g)break;g=!1,h=0;for(const _ of l)_[1]!=null&&(f=Math.trunc(Math.max(f,_[1].getY()))),_[3]!=null&&(f=Math.max(f,Math.trunc(_[3].getY())));f+=Ot.ROW_STEP;continue}if(g=!0,l.push(v),!n)break;v[2]!=null?(h=Math.trunc(v[2].getX()),f=Math.trunc(v[2].getY())):(h=Math.trunc(v[4].getX()),f=Math.trunc(v[4].getY()))}return l}static findVertices(n,a,l){const f=n.getHeight(),h=n.getWidth(),g=new Array(8);return Ot.copyToResult(g,Ot.findRowsWithPattern(n,f,h,a,l,Ot.START_PATTERN),Ot.INDEXES_START_PATTERN),g[4]!=null&&(l=Math.trunc(g[4].getX()),a=Math.trunc(g[4].getY())),Ot.copyToResult(g,Ot.findRowsWithPattern(n,f,h,a,l,Ot.STOP_PATTERN),Ot.INDEXES_STOP_PATTERN),g}static copyToResult(n,a,l){for(let f=0;f<l.length;f++)n[l[f]]=a[f]}static findRowsWithPattern(n,a,l,f,h,g){const v=new Array(4);let _=!1;const S=new Int32Array(g.length);for(;f<a;f+=Ot.ROW_STEP){let M=Ot.findGuardPattern(n,h,f,l,!1,g,S);if(M!=null){for(;f>0;){const F=Ot.findGuardPattern(n,h,--f,l,!1,g,S);if(F!=null)M=F;else{f++;break}}v[0]=new it(M[0],f),v[1]=new it(M[1],f),_=!0;break}}let R=f+1;if(_){let M=0,F=Int32Array.from([Math.trunc(v[0].getX()),Math.trunc(v[1].getX())]);for(;R<a;R++){const Y=Ot.findGuardPattern(n,F[0],R,l,!1,g,S);if(Y!=null&&Math.abs(F[0]-Y[0])<Ot.MAX_PATTERN_DRIFT&&Math.abs(F[1]-Y[1])<Ot.MAX_PATTERN_DRIFT)F=Y,M=0;else{if(M>Ot.SKIPPED_ROW_COUNT_MAX)break;M++}}R-=M+1,v[2]=new it(F[0],R),v[3]=new it(F[1],R)}return R-f<Ot.BARCODE_MIN_HEIGHT&&z.fill(v,null),v}static findGuardPattern(n,a,l,f,h,g,v){z.fillWithin(v,0,v.length,0);let _=a,S=0;for(;n.get(_,l)&&_>0&&S++<Ot.MAX_PIXEL_DRIFT;)_--;let R=_,M=0,F=g.length;for(let Y=h;R<f;R++)if(n.get(R,l)!==Y)v[M]++;else{if(M===F-1){if(Ot.patternMatchVariance(v,g,Ot.MAX_INDIVIDUAL_VARIANCE)<Ot.MAX_AVG_VARIANCE)return new Int32Array([_,R]);_+=v[0]+v[1],O.arraycopy(v,2,v,0,M-1),v[M-1]=0,v[M]=0,M--}else M++;v[M]=1,Y=!Y}return M===F-1&&Ot.patternMatchVariance(v,g,Ot.MAX_INDIVIDUAL_VARIANCE)<Ot.MAX_AVG_VARIANCE?new Int32Array([_,R-1]):null}static patternMatchVariance(n,a,l){let f=n.length,h=0,g=0;for(let S=0;S<f;S++)h+=n[S],g+=a[S];if(h<g)return 1/0;let v=h/g;l*=v;let _=0;for(let S=0;S<f;S++){let R=n[S],M=a[S]*v,F=R>M?R-M:M-R;if(F>l)return 1/0;_+=F}return _/h}}Ot.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ot.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ot.MAX_AVG_VARIANCE=.42,Ot.MAX_INDIVIDUAL_VARIANCE=.8,Ot.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ot.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ot.MAX_PIXEL_DRIFT=3,Ot.MAX_PATTERN_DRIFT=5,Ot.SKIPPED_ROW_COUNT_MAX=25,Ot.ROW_STEP=5,Ot.BARCODE_MIN_HEIGHT=10;class Jr{constructor(n,a){if(a.length===0)throw new A;this.field=n;let l=a.length;if(l>1&&a[0]===0){let f=1;for(;f<l&&a[f]===0;)f++;f===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-f),O.arraycopy(a,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let f=0;for(let h of this.coefficients)f=this.field.add(f,h);return f}let a=this.coefficients[0],l=this.coefficients.length;for(let f=1;f<l;f++)a=this.field.add(this.field.multiply(n,a),this.coefficients[f]);return a}add(n){if(!this.field.equals(n.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let a=this.coefficients,l=n.coefficients;if(a.length>l.length){let g=a;a=l,l=g}let f=new Int32Array(l.length),h=l.length-a.length;O.arraycopy(l,0,f,0,h);for(let g=h;g<l.length;g++)f[g]=this.field.add(a[g-h],l[g]);return new Jr(this.field,f)}subtract(n){if(!this.field.equals(n.field))throw new A("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof Jr?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new Jr(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,f=n.coefficients,h=f.length,g=new Int32Array(l+h-1);for(let v=0;v<l;v++){let _=a[v];for(let S=0;S<h;S++)g[v+S]=this.field.add(g[v+S],this.field.multiply(_,f[S]))}return new Jr(this.field,g)}negative(){let n=this.coefficients.length,a=new Int32Array(n);for(let l=0;l<n;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new Jr(this.field,a)}multiplyScalar(n){if(n===0)return new Jr(this.field,new Int32Array([0]));if(n===1)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let f=0;f<a;f++)l[f]=this.field.multiply(this.coefficients[f],n);return new Jr(this.field,l)}multiplyByMonomial(n,a){if(n<0)throw new A;if(a===0)return new Jr(this.field,new Int32Array([0]));let l=this.coefficients.length,f=new Int32Array(l+n);for(let h=0;h<l;h++)f[h]=this.field.multiply(this.coefficients[h],a);return new Jr(this.field,f)}toString(){let n=new Re;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);l!==0&&(l<0?(n.append(" - "),l=-l):n.length()>0&&n.append(" + "),(a===0||l!==1)&&n.append(l),a!==0&&(a===1?n.append("x"):(n.append("x^"),n.append(a))))}return n.toString()}}class Hu{add(n,a){return(n+a)%this.modulus}subtract(n,a){return(this.modulus+n-a)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new A;return this.logTable[n]}inverse(n){if(n===0)throw new Mt;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,a){return n===0||a===0?0:this.expTable[(this.logTable[n]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class Qs extends Hu{constructor(n,a){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let l=1;for(let f=0;f<n;f++)this.expTable[f]=l,l=l*a%n;for(let f=0;f<n-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new Jr(this,new Int32Array([0])),this.one=new Jr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,a){if(n<0)throw new A;if(a===0)return this.zero;let l=new Int32Array(n+1);return l[0]=a,new Jr(this,l)}}Qs.PDF417_GF=new Qs(yt.NUMBER_OF_CODEWORDS,3);class Ol{constructor(){this.field=Qs.PDF417_GF}decode(n,a,l){let f=new Jr(this.field,n),h=new Int32Array(a),g=!1;for(let te=a;te>0;te--){let ie=f.evaluateAt(this.field.exp(te));h[a-te]=ie,ie!==0&&(g=!0)}if(!g)return 0;let v=this.field.getOne();if(l!=null)for(const te of l){let ie=this.field.exp(n.length-1-te),ce=new Jr(this.field,new Int32Array([this.field.subtract(0,ie),1]));v=v.multiply(ce)}let _=new Jr(this.field,h),S=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),_,a),R=S[0],M=S[1],F=this.findErrorLocations(R),Y=this.findErrorMagnitudes(M,R,F);for(let te=0;te<F.length;te++){let ie=n.length-1-this.field.log(F[te]);if(ie<0)throw N.getChecksumInstance();n[ie]=this.field.subtract(n[ie],Y[te])}return F.length}runEuclideanAlgorithm(n,a,l){if(n.getDegree()<a.getDegree()){let F=n;n=a,a=F}let f=n,h=a,g=this.field.getZero(),v=this.field.getOne();for(;h.getDegree()>=Math.round(l/2);){let F=f,Y=g;if(f=h,g=v,f.isZero())throw N.getChecksumInstance();h=F;let te=this.field.getZero(),ie=f.getCoefficient(f.getDegree()),ce=this.field.inverse(ie);for(;h.getDegree()>=f.getDegree()&&!h.isZero();){let Ee=h.getDegree()-f.getDegree(),je=this.field.multiply(h.getCoefficient(h.getDegree()),ce);te=te.add(this.field.buildMonomial(Ee,je)),h=h.subtract(f.multiplyByMonomial(Ee,je))}v=te.multiply(g).subtract(Y).negative()}let _=v.getCoefficient(0);if(_===0)throw N.getChecksumInstance();let S=this.field.inverse(_),R=v.multiply(S),M=h.multiply(S);return[R,M]}findErrorLocations(n){let a=n.getDegree(),l=new Int32Array(a),f=0;for(let h=1;h<this.field.getSize()&&f<a;h++)n.evaluateAt(h)===0&&(l[f]=this.field.inverse(h),f++);if(f!==a)throw N.getChecksumInstance();return l}findErrorMagnitudes(n,a,l){let f=a.getDegree(),h=new Int32Array(f);for(let S=1;S<=f;S++)h[f-S]=this.field.multiply(S,a.getCoefficient(S));let g=new Jr(this.field,h),v=l.length,_=new Int32Array(v);for(let S=0;S<v;S++){let R=this.field.inverse(l[S]),M=this.field.subtract(0,n.evaluateAt(R)),F=this.field.inverse(g.evaluateAt(R));_[S]=this.field.multiply(M,F)}return _}}class As{constructor(n,a,l,f,h){n instanceof As?this.constructor_2(n):this.constructor_1(n,a,l,f,h)}constructor_1(n,a,l,f,h){const g=a==null||l==null,v=f==null||h==null;if(g&&v)throw new le;g?(a=new it(0,f.getY()),l=new it(0,h.getY())):v&&(f=new it(n.getWidth()-1,a.getY()),h=new it(n.getWidth()-1,l.getY())),this.image=n,this.topLeft=a,this.bottomLeft=l,this.topRight=f,this.bottomRight=h,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(f.getX(),h.getX())),this.minY=Math.trunc(Math.min(a.getY(),f.getY())),this.maxY=Math.trunc(Math.max(l.getY(),h.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,a){return n==null?a:a==null?n:new As(n.image,n.topLeft,n.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(n,a,l){let f=this.topLeft,h=this.bottomLeft,g=this.topRight,v=this.bottomRight;if(n>0){let _=l?this.topLeft:this.topRight,S=Math.trunc(_.getY()-n);S<0&&(S=0);let R=new it(_.getX(),S);l?f=R:g=R}if(a>0){let _=l?this.bottomLeft:this.bottomRight,S=Math.trunc(_.getY()+a);S>=this.image.getHeight()&&(S=this.image.getHeight()-1);let R=new it(_.getX(),S);l?h=R:v=R}return new As(this.image,f,h,g,v)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class La{constructor(n,a,l,f){this.columnCount=n,this.errorCorrectionLevel=f,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Hi{constructor(){this.buffer=""}static form(n,a){let l=-1;function f(g,v,_,S,R,M){if(g==="%%")return"%";if(a[++l]===void 0)return;g=S?parseInt(S.substr(1)):void 0;let F=R?parseInt(R.substr(1)):void 0,Y;switch(M){case"s":Y=a[l];break;case"c":Y=a[l][0];break;case"f":Y=parseFloat(a[l]).toFixed(g);break;case"p":Y=parseFloat(a[l]).toPrecision(g);break;case"e":Y=parseFloat(a[l]).toExponential(g);break;case"x":Y=parseInt(a[l]).toString(F||16);break;case"d":Y=parseFloat(parseInt(a[l],F||10).toPrecision(g)).toFixed(0);break}Y=typeof Y=="object"?JSON.stringify(Y):(+Y).toString(F);let te=parseInt(_),ie=_&&_[0]+""=="0"?"0":" ";for(;Y.length<te;)Y=v!==void 0?Y+ie:ie+Y;return Y}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(h,f)}format(n,...a){this.buffer+=Hi.form(n,a)}toString(){return this.buffer}}class Ci{constructor(n){this.boundingBox=new As(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let a=this.getCodeword(n);if(a!=null)return a;for(let l=1;l<Ci.MAX_NEARBY_DISTANCE;l++){let f=this.imageRowToCodewordIndex(n)-l;if(f>=0&&(a=this.codewords[f],a!=null)||(f=this.imageRowToCodewordIndex(n)+l,f<this.codewords.length&&(a=this.codewords[f],a!=null)))return a}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,a){this.codewords[this.imageRowToCodewordIndex(n)]=a}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Hi;let a=0;for(const l of this.codewords){if(l==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return n.toString()}}Ci.MAX_NEARBY_DISTANCE=5;class us{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let a=this.values.get(n);a==null&&(a=0),a++,this.values.set(n,a)}getValue(){let n=-1,a=new Array;for(const[l,f]of this.values.entries()){const h={getKey:()=>l,getValue:()=>f};h.getValue()>n?(n=h.getValue(),a=[],a.push(h.getKey())):h.getValue()===n&&a.push(h.getKey())}return yt.toIntArray(a)}getConfidence(n){return this.values.get(n)}}class zu extends Ci{constructor(n,a){super(n),this._isLeft=a}setRowNumbers(){for(let n of this.getCodewords())n?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,n);let l=this.getBoundingBox(),f=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(f.getY())),v=this.imageRowToCodewordIndex(Math.trunc(h.getY())),_=-1,S=1,R=0;for(let M=g;M<v;M++){if(a[M]==null)continue;let F=a[M],Y=F.getRowNumber()-_;if(Y===0)R++;else if(Y===1)S=Math.max(S,R),R=1,_=F.getRowNumber();else if(Y<0||F.getRowNumber()>=n.getRowCount()||Y>M)a[M]=null;else{let te;S>2?te=(S-2)*Y:te=Y;let ie=te>=M;for(let ce=1;ce<=te&&!ie;ce++)ie=a[M-ce]!=null;ie?a[M]=null:(_=F.getRowNumber(),R=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let a=new Int32Array(n.getRowCount());for(let l of this.getCodewords())if(l!=null){let f=l.getRowNumber();if(f>=a.length)continue;a[f]++}return a}adjustIncompleteIndicatorColumnRowNumbers(n){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),f=this._isLeft?a.getBottomLeft():a.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.imageRowToCodewordIndex(Math.trunc(f.getY())),v=this.getCodewords(),_=-1;for(let S=h;S<g;S++){if(v[S]==null)continue;let R=v[S];R.setRowNumberAsRowIndicatorColumn();let M=R.getRowNumber()-_;M===0||(M===1?_=R.getRowNumber():R.getRowNumber()>=n.getRowCount()?v[S]=null:_=R.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),a=new us,l=new us,f=new us,h=new us;for(let v of n){if(v==null)continue;v.setRowNumberAsRowIndicatorColumn();let _=v.getValue()%30,S=v.getRowNumber();switch(this._isLeft||(S+=2),S%3){case 0:l.setValue(_*3+1);break;case 1:h.setValue(_/3),f.setValue(_%3);break;case 2:a.setValue(_+1);break}}if(a.getValue().length===0||l.getValue().length===0||f.getValue().length===0||h.getValue().length===0||a.getValue()[0]<1||l.getValue()[0]+f.getValue()[0]<yt.MIN_ROWS_IN_BARCODE||l.getValue()[0]+f.getValue()[0]>yt.MAX_ROWS_IN_BARCODE)return null;let g=new La(a.getValue()[0],l.getValue()[0],f.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(n,g),g}removeIncorrectCodewords(n,a){for(let l=0;l<n.length;l++){let f=n[l];if(n[l]==null)continue;let h=f.getValue()%30,g=f.getRowNumber();if(g>a.getRowCount()){n[l]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:h*3+1!==a.getRowCountUpperPart()&&(n[l]=null);break;case 1:(Math.trunc(h/3)!==a.getErrorCorrectionLevel()||h%3!==a.getRowCountLowerPart())&&(n[l]=null);break;case 2:h+1!==a.getColumnCount()&&(n[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Fa{constructor(n,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=yt.MAX_CODEWORDS_IN_BARCODE,a;do a=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let f=0;f<l.length;f++)l[f]!=null&&(l[f].hasValidRowNumber()||this.adjustRowNumbers(a,f,l))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<n.length;l++)if(n[l]!=null&&a[l]!=null&&n[l].getRowNumber()===a[l].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let h=this.detectionResultColumns[f].getCodewords()[l];h!=null&&(h.setRowNumber(n[l].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let f=a[l].getRowNumber(),h=0;for(let g=this.barcodeColumnCount+1;g>0&&h<this.ADJUST_ROW_NUMBER_SKIP;g--){let v=this.detectionResultColumns[g].getCodewords()[l];v!=null&&(h=Fa.adjustRowNumberIfValid(f,h,v),v.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let f=a[l].getRowNumber(),h=0;for(let g=1;g<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;g++){let v=this.detectionResultColumns[g].getCodewords()[l];v!=null&&(h=Fa.adjustRowNumberIfValid(f,h,v),v.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,a,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(n)?(l.setRowNumber(n),a=0):++a),a}adjustRowNumbers(n,a,l){if(!this.detectionResultColumns[n-1])return;let f=l[a],h=this.detectionResultColumns[n-1].getCodewords(),g=h;this.detectionResultColumns[n+1]!=null&&(g=this.detectionResultColumns[n+1].getCodewords());let v=new Array(14);v[2]=h[a],v[3]=g[a],a>0&&(v[0]=l[a-1],v[4]=h[a-1],v[5]=g[a-1]),a>1&&(v[8]=l[a-2],v[10]=h[a-2],v[11]=g[a-2]),a<l.length-1&&(v[1]=l[a+1],v[6]=h[a+1],v[7]=g[a+1]),a<l.length-2&&(v[9]=l[a+2],v[12]=h[a+2],v[13]=g[a+2]);for(let _ of v)if(Fa.adjustRowNumber(f,_))return}static adjustRowNumber(n,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===n.getBucket()?(n.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,a){this.detectionResultColumns[n]=a}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Hi;for(let l=0;l<n.getCodewords().length;l++){a.format("CW %3d:",l);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){a.format("    |   ");continue}let h=this.detectionResultColumns[f].getCodewords()[l];if(h==null){a.format("    |   ");continue}a.format(" %3d|%3d",h.getRowNumber(),h.getValue())}a.format("%n")}return a.toString()}}class Ss{constructor(n,a,l,f){this.rowNumber=Ss.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Ss.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Ss.BARCODE_ROW_UNKNOWN=-1;class en{static initialize(){for(let n=0;n<yt.SYMBOL_TABLE.length;n++){let a=yt.SYMBOL_TABLE[n],l=a&1;for(let f=0;f<yt.BARS_IN_MODULE;f++){let h=0;for(;(a&1)===l;)h+=1,a>>=1;l=a&1,en.RATIOS_TABLE[n]||(en.RATIOS_TABLE[n]=new Array(yt.BARS_IN_MODULE)),en.RATIOS_TABLE[n][yt.BARS_IN_MODULE-f-1]=Math.fround(h/yt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let a=en.getDecodedCodewordValue(en.sampleBitCounts(n));return a!==-1?a:en.getClosestDecodedValue(n)}static sampleBitCounts(n){let a=Ct.sum(n),l=new Int32Array(yt.BARS_IN_MODULE),f=0,h=0;for(let g=0;g<yt.MODULES_IN_CODEWORD;g++){let v=a/(2*yt.MODULES_IN_CODEWORD)+g*a/yt.MODULES_IN_CODEWORD;h+n[f]<=v&&(h+=n[f],f++),l[f]++}return l}static getDecodedCodewordValue(n){let a=en.getBitValue(n);return yt.getCodeword(a)===-1?-1:a}static getBitValue(n){let a=0;for(let l=0;l<n.length;l++)for(let f=0;f<n[l];f++)a=a<<1|(l%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(n){let a=Ct.sum(n),l=new Array(yt.BARS_IN_MODULE);if(a>1)for(let g=0;g<l.length;g++)l[g]=Math.fround(n[g]/a);let f=on.MAX_VALUE,h=-1;this.bSymbolTableReady||en.initialize();for(let g=0;g<en.RATIOS_TABLE.length;g++){let v=0,_=en.RATIOS_TABLE[g];for(let S=0;S<yt.BARS_IN_MODULE;S++){let R=Math.fround(_[S]-l[S]);if(v+=Math.fround(R*R),v>=f)break}v<f&&(f=v,h=yt.SYMBOL_TABLE[g])}return h}}en.bSymbolTableReady=!1,en.RATIOS_TABLE=new Array(yt.SYMBOL_TABLE.length).map(D=>new Array(yt.BARS_IN_MODULE));class So{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class Nl{static parseLong(n,a=void 0){return parseInt(n,a)}}class zi extends x{}zi.kind="NullPointerException";class Rl{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,a,l){if(n==null)throw new zi;if(a<0||a>n.length||l<0||a+l>n.length||a+l<0)throw new k;if(l===0)return;for(let f=0;f<l;f++)this.write(n[a+f])}flush(){}close(){}}class To extends x{}class Wu extends Rl{constructor(n=32){if(super(),this.count=0,n<0)throw new A("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let l=this.buf.length<<1;if(l-n<0&&(l=n),l<0){if(n<0)throw new To;l=B.MAX_VALUE}this.buf=z.copyOfUint8Array(this.buf,l)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,a,l){if(a<0||a>n.length||l<0||a+l-n.length>0)throw new k;this.ensureCapacity(this.count+l),O.arraycopy(n,a,this.buf,this.count,l),this.count+=l}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return z.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var Gt;(function(D){D[D.ALPHA=0]="ALPHA",D[D.LOWER=1]="LOWER",D[D.MIXED=2]="MIXED",D[D.PUNCT=3]="PUNCT",D[D.ALPHA_SHIFT=4]="ALPHA_SHIFT",D[D.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Gt||(Gt={}));function Ba(){if(typeof window<"u")return window.BigInt||null;if(typeof jc<"u")return jc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ua;function kr(D){if(typeof Ua>"u"&&(Ua=Ba()),Ua===null)throw new Error("BigInt is not supported!");return Ua(D)}function Zs(){let D=[];D[0]=kr(1);let n=kr(900);D[1]=n;for(let a=2;a<16;a++)D[a]=D[a-1]*n;return D}class _e{static decode(n,a){let l=new Re(""),f=Z.ISO8859_1;l.enableDecoding(f);let h=1,g=n[h++],v=new So;for(;h<n[0];){switch(g){case _e.TEXT_COMPACTION_MODE_LATCH:h=_e.textCompaction(n,h,l);break;case _e.BYTE_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:h=_e.byteCompaction(g,n,f,h,l);break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h++]);break;case _e.NUMERIC_COMPACTION_MODE_LATCH:h=_e.numericCompaction(n,h,l);break;case _e.ECI_CHARSET:Z.getCharacterSetECIByValue(n[h++]);break;case _e.ECI_GENERAL_PURPOSE:h+=2;break;case _e.ECI_USER_DEFINED:h++;break;case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=_e.decodeMacroBlock(n,h,v);break;case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:throw new G;default:h--,h=_e.textCompaction(n,h,l);break}if(h<n.length)g=n[h++];else throw G.getFormatInstance()}if(l.length()===0)throw G.getFormatInstance();let _=new Xe(null,l.toString(),null,a);return _.setOther(v),_}static decodeMacroBlock(n,a,l){if(a+_e.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw G.getFormatInstance();let f=new Int32Array(_e.NUMBER_OF_SEQUENCE_CODEWORDS);for(let v=0;v<_e.NUMBER_OF_SEQUENCE_CODEWORDS;v++,a++)f[v]=n[a];l.setSegmentIndex(B.parseInt(_e.decodeBase900toBase10(f,_e.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new Re;a=_e.textCompaction(n,a,h),l.setFileId(h.toString());let g=-1;for(n[a]===_e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=a+1);a<n[0];)switch(n[a]){case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,n[a]){case _e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let v=new Re;a=_e.textCompaction(n,a+1,v),l.setFileName(v.toString());break;case _e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let _=new Re;a=_e.textCompaction(n,a+1,_),l.setSender(_.toString());break;case _e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let S=new Re;a=_e.textCompaction(n,a+1,S),l.setAddressee(S.toString());break;case _e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let R=new Re;a=_e.numericCompaction(n,a+1,R),l.setSegmentCount(B.parseInt(R.toString()));break;case _e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let M=new Re;a=_e.numericCompaction(n,a+1,M),l.setTimestamp(Nl.parseLong(M.toString()));break;case _e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let F=new Re;a=_e.numericCompaction(n,a+1,F),l.setChecksum(B.parseInt(F.toString()));break;case _e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Y=new Re;a=_e.numericCompaction(n,a+1,Y),l.setFileSize(Nl.parseLong(Y.toString()));break;default:throw G.getFormatInstance()}break;case _e.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw G.getFormatInstance()}if(g!==-1){let v=a-g;l.isLastSegment()&&v--,l.setOptionalData(z.copyOfRange(n,g,g+v))}return a}static textCompaction(n,a,l){let f=new Int32Array((n[0]-a)*2),h=new Int32Array((n[0]-a)*2),g=0,v=!1;for(;a<n[0]&&!v;){let _=n[a++];if(_<_e.TEXT_COMPACTION_MODE_LATCH)f[g]=_/30,f[g+1]=_%30,g+=2;else switch(_){case _e.TEXT_COMPACTION_MODE_LATCH:f[g++]=_e.TEXT_COMPACTION_MODE_LATCH;break;case _e.BYTE_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.NUMERIC_COMPACTION_MODE_LATCH:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:a--,v=!0;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[g]=_e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,_=n[a++],h[g]=_,g++;break}}return _e.decodeTextCompaction(f,h,g,l),a}static decodeTextCompaction(n,a,l,f){let h=Gt.ALPHA,g=Gt.ALPHA,v=0;for(;v<l;){let _=n[v],S="";switch(h){case Gt.ALPHA:if(_<26)S=String.fromCharCode(65+_);else switch(_){case 26:S=" ";break;case _e.LL:h=Gt.LOWER;break;case _e.ML:h=Gt.MIXED;break;case _e.PS:g=h,h=Gt.PUNCT_SHIFT;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(a[v]);break;case _e.TEXT_COMPACTION_MODE_LATCH:h=Gt.ALPHA;break}break;case Gt.LOWER:if(_<26)S=String.fromCharCode(97+_);else switch(_){case 26:S=" ";break;case _e.AS:g=h,h=Gt.ALPHA_SHIFT;break;case _e.ML:h=Gt.MIXED;break;case _e.PS:g=h,h=Gt.PUNCT_SHIFT;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(a[v]);break;case _e.TEXT_COMPACTION_MODE_LATCH:h=Gt.ALPHA;break}break;case Gt.MIXED:if(_<_e.PL)S=_e.MIXED_CHARS[_];else switch(_){case _e.PL:h=Gt.PUNCT;break;case 26:S=" ";break;case _e.LL:h=Gt.LOWER;break;case _e.AL:h=Gt.ALPHA;break;case _e.PS:g=h,h=Gt.PUNCT_SHIFT;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(a[v]);break;case _e.TEXT_COMPACTION_MODE_LATCH:h=Gt.ALPHA;break}break;case Gt.PUNCT:if(_<_e.PAL)S=_e.PUNCT_CHARS[_];else switch(_){case _e.PAL:h=Gt.ALPHA;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(a[v]);break;case _e.TEXT_COMPACTION_MODE_LATCH:h=Gt.ALPHA;break}break;case Gt.ALPHA_SHIFT:if(h=g,_<26)S=String.fromCharCode(65+_);else switch(_){case 26:S=" ";break;case _e.TEXT_COMPACTION_MODE_LATCH:h=Gt.ALPHA;break}break;case Gt.PUNCT_SHIFT:if(h=g,_<_e.PAL)S=_e.PUNCT_CHARS[_];else switch(_){case _e.PAL:h=Gt.ALPHA;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(a[v]);break;case _e.TEXT_COMPACTION_MODE_LATCH:h=Gt.ALPHA;break}break}S!==""&&f.append(S),v++}}static byteCompaction(n,a,l,f,h){let g=new Wu,v=0,_=0,S=!1;switch(n){case _e.BYTE_COMPACTION_MODE_LATCH:let R=new Int32Array(6),M=a[f++];for(;f<a[0]&&!S;)switch(R[v++]=M,_=900*_+M,M=a[f++],M){case _e.TEXT_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH:case _e.NUMERIC_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:f--,S=!0;break;default:if(v%5===0&&v>0){for(let F=0;F<6;++F)g.write(Number(kr(_)>>kr(8*(5-F))));_=0,v=0}break}f===a[0]&&M<_e.TEXT_COMPACTION_MODE_LATCH&&(R[v++]=M);for(let F=0;F<v;F++)g.write(R[F]);break;case _e.BYTE_COMPACTION_MODE_LATCH_6:for(;f<a[0]&&!S;){let F=a[f++];if(F<_e.TEXT_COMPACTION_MODE_LATCH)v++,_=900*_+F;else switch(F){case _e.TEXT_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH:case _e.NUMERIC_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:f--,S=!0;break}if(v%5===0&&v>0){for(let Y=0;Y<6;++Y)g.write(Number(kr(_)>>kr(8*(5-Y))));_=0,v=0}}break}return h.append(Te.decode(g.toByteArray(),l)),f}static numericCompaction(n,a,l){let f=0,h=!1,g=new Int32Array(_e.MAX_NUMERIC_CODEWORDS);for(;a<n[0]&&!h;){let v=n[a++];if(a===n[0]&&(h=!0),v<_e.TEXT_COMPACTION_MODE_LATCH)g[f]=v,f++;else switch(v){case _e.TEXT_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:a--,h=!0;break}(f%_e.MAX_NUMERIC_CODEWORDS===0||v===_e.NUMERIC_COMPACTION_MODE_LATCH||h)&&f>0&&(l.append(_e.decodeBase900toBase10(g,f)),f=0)}return a}static decodeBase900toBase10(n,a){let l=kr(0);for(let h=0;h<a;h++)l+=_e.EXP900[a-h-1]*kr(n[h]);let f=l.toString();if(f.charAt(0)!=="1")throw new G;return f.substring(1)}}_e.TEXT_COMPACTION_MODE_LATCH=900,_e.BYTE_COMPACTION_MODE_LATCH=901,_e.NUMERIC_COMPACTION_MODE_LATCH=902,_e.BYTE_COMPACTION_MODE_LATCH_6=924,_e.ECI_USER_DEFINED=925,_e.ECI_GENERAL_PURPOSE=926,_e.ECI_CHARSET=927,_e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,_e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,_e.MACRO_PDF417_TERMINATOR=922,_e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,_e.MAX_NUMERIC_CODEWORDS=15,_e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,_e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,_e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,_e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,_e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,_e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,_e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,_e.PL=25,_e.LL=27,_e.AS=27,_e.ML=28,_e.AL=28,_e.PS=29,_e.PAL=29,_e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,_e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",_e.EXP900=Ba()?Zs():[],_e.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Rt{constructor(){}static decode(n,a,l,f,h,g,v){let _=new As(n,a,l,f,h),S=null,R=null,M;for(let te=!0;;te=!1){if(a!=null&&(S=Rt.getRowIndicatorColumn(n,_,a,!0,g,v)),f!=null&&(R=Rt.getRowIndicatorColumn(n,_,f,!1,g,v)),M=Rt.merge(S,R),M==null)throw le.getNotFoundInstance();let ie=M.getBoundingBox();if(te&&ie!=null&&(ie.getMinY()<_.getMinY()||ie.getMaxY()>_.getMaxY()))_=ie;else break}M.setBoundingBox(_);let F=M.getBarcodeColumnCount()+1;M.setDetectionResultColumn(0,S),M.setDetectionResultColumn(F,R);let Y=S!=null;for(let te=1;te<=F;te++){let ie=Y?te:F-te;if(M.getDetectionResultColumn(ie)!==void 0)continue;let ce;ie===0||ie===F?ce=new zu(_,ie===0):ce=new Ci(_),M.setDetectionResultColumn(ie,ce);let Ee=-1,je=Ee;for(let Ge=_.getMinY();Ge<=_.getMaxY();Ge++){if(Ee=Rt.getStartColumn(M,ie,Ge,Y),Ee<0||Ee>_.getMaxX()){if(je===-1)continue;Ee=je}let Le=Rt.detectCodeword(n,_.getMinX(),_.getMaxX(),Y,Ee,Ge,g,v);Le!=null&&(ce.setCodeword(Ge,Le),je=Ee,g=Math.min(g,Le.getWidth()),v=Math.max(v,Le.getWidth()))}}return Rt.createDecoderResult(M)}static merge(n,a){if(n==null&&a==null)return null;let l=Rt.getBarcodeMetadata(n,a);if(l==null)return null;let f=As.merge(Rt.adjustBoundingBox(n),Rt.adjustBoundingBox(a));return new Fa(l,f)}static adjustBoundingBox(n){if(n==null)return null;let a=n.getRowHeights();if(a==null)return null;let l=Rt.getMax(a),f=0;for(let v of a)if(f+=l-v,v>0)break;let h=n.getCodewords();for(let v=0;f>0&&h[v]==null;v++)f--;let g=0;for(let v=a.length-1;v>=0&&(g+=l-a[v],!(a[v]>0));v--);for(let v=h.length-1;g>0&&h[v]==null;v--)g--;return n.getBoundingBox().addMissingRows(f,g,n.isLeft())}static getMax(n){let a=-1;for(let l of n)a=Math.max(a,l);return a}static getBarcodeMetadata(n,a){let l;if(n==null||(l=n.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let f;return a==null||(f=a.getBarcodeMetadata())==null?l:l.getColumnCount()!==f.getColumnCount()&&l.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&l.getRowCount()!==f.getRowCount()?null:l}static getRowIndicatorColumn(n,a,l,f,h,g){let v=new zu(a,f);for(let _=0;_<2;_++){let S=_===0?1:-1,R=Math.trunc(Math.trunc(l.getX()));for(let M=Math.trunc(Math.trunc(l.getY()));M<=a.getMaxY()&&M>=a.getMinY();M+=S){let F=Rt.detectCodeword(n,0,n.getWidth(),f,R,M,h,g);F!=null&&(v.setCodeword(M,F),f?R=F.getStartX():R=F.getEndX())}}return v}static adjustCodewordCount(n,a){let l=a[0][1],f=l.getValue(),h=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-Rt.getNumberOfECCodeWords(n.getBarcodeECLevel());if(f.length===0){if(h<1||h>yt.MAX_CODEWORDS_IN_BARCODE)throw le.getNotFoundInstance();l.setValue(h)}else f[0]!==h&&l.setValue(h)}static createDecoderResult(n){let a=Rt.createBarcodeMatrix(n);Rt.adjustCodewordCount(n,a);let l=new Array,f=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),h=[],g=new Array;for(let _=0;_<n.getBarcodeRowCount();_++)for(let S=0;S<n.getBarcodeColumnCount();S++){let R=a[_][S+1].getValue(),M=_*n.getBarcodeColumnCount()+S;R.length===0?l.push(M):R.length===1?f[M]=R[0]:(g.push(M),h.push(R))}let v=new Array(h.length);for(let _=0;_<v.length;_++)v[_]=h[_];return Rt.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),f,yt.toIntArray(l),yt.toIntArray(g),v)}static createDecoderResultFromAmbiguousValues(n,a,l,f,h){let g=new Int32Array(f.length),v=100;for(;v-- >0;){for(let _=0;_<g.length;_++)a[f[_]]=h[_][g[_]];try{return Rt.decodeCodewords(a,n,l)}catch(_){if(!(_ instanceof N))throw _}if(g.length===0)throw N.getChecksumInstance();for(let _=0;_<g.length;_++)if(g[_]<h[_].length-1){g[_]++;break}else if(g[_]=0,_===g.length-1)throw N.getChecksumInstance()}throw N.getChecksumInstance()}static createBarcodeMatrix(n){let a=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let f=0;f<a.length;f++)for(let h=0;h<a[f].length;h++)a[f][h]=new us;let l=0;for(let f of n.getDetectionResultColumns()){if(f!=null){for(let h of f.getCodewords())if(h!=null){let g=h.getRowNumber();if(g>=0){if(g>=a.length)continue;a[g][l].setValue(h.getValue())}}}l++}return a}static isValidBarcodeColumn(n,a){return a>=0&&a<=n.getBarcodeColumnCount()+1}static getStartColumn(n,a,l,f){let h=f?1:-1,g=null;if(Rt.isValidBarcodeColumn(n,a-h)&&(g=n.getDetectionResultColumn(a-h).getCodeword(l)),g!=null)return f?g.getEndX():g.getStartX();if(g=n.getDetectionResultColumn(a).getCodewordNearby(l),g!=null)return f?g.getStartX():g.getEndX();if(Rt.isValidBarcodeColumn(n,a-h)&&(g=n.getDetectionResultColumn(a-h).getCodewordNearby(l)),g!=null)return f?g.getEndX():g.getStartX();let v=0;for(;Rt.isValidBarcodeColumn(n,a-h);){a-=h;for(let _ of n.getDetectionResultColumn(a).getCodewords())if(_!=null)return(f?_.getEndX():_.getStartX())+h*v*(_.getEndX()-_.getStartX());v++}return f?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,a,l,f,h,g,v,_){h=Rt.adjustCodewordStartColumn(n,a,l,f,h,g);let S=Rt.getModuleBitCount(n,a,l,f,h,g);if(S==null)return null;let R,M=Ct.sum(S);if(f)R=h+M;else{for(let te=0;te<S.length/2;te++){let ie=S[te];S[te]=S[S.length-1-te],S[S.length-1-te]=ie}R=h,h=R-M}if(!Rt.checkCodewordSkew(M,v,_))return null;let F=en.getDecodedValue(S),Y=yt.getCodeword(F);return Y===-1?null:new Ss(h,R,Rt.getCodewordBucketNumber(F),Y)}static getModuleBitCount(n,a,l,f,h,g){let v=h,_=new Int32Array(8),S=0,R=f?1:-1,M=f;for(;(f?v<l:v>=a)&&S<_.length;)n.get(v,g)===M?(_[S]++,v+=R):(S++,M=!M);return S===_.length||v===(f?l:a)&&S===_.length-1?_:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,a,l,f,h,g){let v=h,_=f?-1:1;for(let S=0;S<2;S++){for(;(f?v>=a:v<l)&&f===n.get(v,g);){if(Math.abs(h-v)>Rt.CODEWORD_SKEW_SIZE)return h;v+=_}_=-_,f=!f}return v}static checkCodewordSkew(n,a,l){return a-Rt.CODEWORD_SKEW_SIZE<=n&&n<=l+Rt.CODEWORD_SKEW_SIZE}static decodeCodewords(n,a,l){if(n.length===0)throw G.getFormatInstance();let f=1<<a+1,h=Rt.correctErrors(n,l,f);Rt.verifyCodewordCount(n,f);let g=_e.decode(n,""+a);return g.setErrorsCorrected(h),g.setErasures(l.length),g}static correctErrors(n,a,l){if(a!=null&&a.length>l/2+Rt.MAX_ERRORS||l<0||l>Rt.MAX_EC_CODEWORDS)throw N.getChecksumInstance();return Rt.errorCorrection.decode(n,l,a)}static verifyCodewordCount(n,a){if(n.length<4)throw G.getFormatInstance();let l=n[0];if(l>n.length)throw G.getFormatInstance();if(l===0)if(a<n.length)n[0]=n.length-a;else throw G.getFormatInstance()}static getBitCountForCodeword(n){let a=new Int32Array(8),l=0,f=a.length-1;for(;!((n&1)!==l&&(l=n&1,f--,f<0));)a[f]++,n>>=1;return a}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return Rt.getCodewordBucketNumber(Rt.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let a=new Hi;for(let l=0;l<n.length;l++){a.format("Row %2d: ",l);for(let f=0;f<n[l].length;f++){let h=n[l][f];h.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}a.format("%n")}return a.toString()}}Rt.CODEWORD_SKEW_SIZE=2,Rt.MAX_ERRORS=3,Rt.MAX_EC_CODEWORDS=512,Rt.errorCorrection=new Ol;class tn{decode(n,a=null){let l=tn.decode(n,a,!1);if(l==null||l.length===0||l[0]==null)throw le.getNotFoundInstance();return l[0]}decodeMultiple(n,a=null){try{return tn.decode(n,a,!0)}catch(l){throw l instanceof G||l instanceof N?le.getNotFoundInstance():l}}static decode(n,a,l){const f=new Array,h=Ot.detectMultiple(n,a,l);for(const g of h.getPoints()){const v=Rt.decode(h.getBits(),g[4],g[5],g[6],g[7],tn.getMinCodewordWidth(g),tn.getMaxCodewordWidth(g)),_=new ee(v.getText(),v.getRawBytes(),void 0,g,oe.PDF_417);_.putMetadata(De.ERROR_CORRECTION_LEVEL,v.getECLevel());const S=v.getOther();S!=null&&_.putMetadata(De.PDF417_EXTRA_METADATA,S),f.push(_)}return f.map(g=>g)}static getMaxWidth(n,a){return n==null||a==null?0:Math.trunc(Math.abs(n.getX()-a.getX()))}static getMinWidth(n,a){return n==null||a==null?B.MAX_VALUE:Math.trunc(Math.abs(n.getX()-a.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(tn.getMaxWidth(n[0],n[4]),tn.getMaxWidth(n[6],n[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.max(tn.getMaxWidth(n[1],n[5]),tn.getMaxWidth(n[7],n[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(tn.getMinWidth(n[0],n[4]),tn.getMinWidth(n[6],n[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.min(tn.getMinWidth(n[1],n[5]),tn.getMinWidth(n[7],n[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Js extends x{}Js.kind="ReaderException";class Co{constructor(n,a){this.verbose=n===!0,a&&this.setHints(a)}decode(n,a){return a&&this.setHints(a),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const a=!i(n)&&n.get(ve.TRY_HARDER)===!0,l=i(n)?null:n.get(ve.POSSIBLE_FORMATS),f=new Array;if(!i(l)){const h=l.some(g=>g===oe.UPC_A||g===oe.UPC_E||g===oe.EAN_13||g===oe.EAN_8||g===oe.CODABAR||g===oe.CODE_39||g===oe.CODE_93||g===oe.CODE_128||g===oe.ITF||g===oe.RSS_14||g===oe.RSS_EXPANDED);h&&!a&&f.push(new Yn(n,this.verbose)),l.includes(oe.QR_CODE)&&f.push(new wn),l.includes(oe.DATA_MATRIX)&&f.push(new si),l.includes(oe.AZTEC)&&f.push(new ni),l.includes(oe.PDF_417)&&f.push(new tn),h&&a&&f.push(new Yn(n,this.verbose))}f.length===0&&(a||f.push(new Yn(n,this.verbose)),f.push(new wn),f.push(new si),f.push(new ni),f.push(new tn),a&&f.push(new Yn(n,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Js("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(n,this.hints)}catch(l){if(l instanceof Js)continue}throw new le("No MultiFormat Readers were able to detect the code.")}}class ja extends ae{constructor(n=null,a=500){const l=new Co;l.setHints(n),super(l,a)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class Io extends ae{constructor(n=500){super(new tn,n)}}class Vu extends ae{constructor(n=500){super(new wn,n)}}var bl;(function(D){D[D.ERROR_CORRECTION=0]="ERROR_CORRECTION",D[D.CHARACTER_SET=1]="CHARACTER_SET",D[D.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",D[D.MIN_SIZE=3]="MIN_SIZE",D[D.MAX_SIZE=4]="MAX_SIZE",D[D.MARGIN=5]="MARGIN",D[D.PDF417_COMPACT=6]="PDF417_COMPACT",D[D.PDF417_COMPACTION=7]="PDF417_COMPACTION",D[D.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",D[D.AZTEC_LAYERS=9]="AZTEC_LAYERS",D[D.QR_VERSION=10]="QR_VERSION"})(bl||(bl={}));var zr=bl;class kl{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Tt(n,Int32Array.from([1])))}buildGenerator(n){const a=this.cachedGenerators;if(n>=a.length){let l=a[a.length-1];const f=this.field;for(let h=a.length;h<=n;h++){const g=l.multiply(new Tt(f,Int32Array.from([1,f.exp(h-1+f.getGeneratorBase())])));a.push(g),l=g}}return a[n]}encode(n,a){if(a===0)throw new A("No error correction bytes");const l=n.length-a;if(l<=0)throw new A("No data bytes provided");const f=this.buildGenerator(a),h=new Int32Array(l);O.arraycopy(n,0,h,0,l);let g=new Tt(this.field,h);g=g.multiplyByMonomial(a,1);const _=g.divide(f)[1].getCoefficients(),S=a-_.length;for(let R=0;R<S;R++)n[l+R]=0;O.arraycopy(_,0,n,l+S,_.length)}}class hr{constructor(){}static applyMaskPenaltyRule1(n){return hr.applyMaskPenaltyRule1Internal(n,!0)+hr.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let a=0;const l=n.getArray(),f=n.getWidth(),h=n.getHeight();for(let g=0;g<h-1;g++){const v=l[g];for(let _=0;_<f-1;_++){const S=v[_];S===v[_+1]&&S===l[g+1][_]&&S===l[g+1][_+1]&&a++}}return hr.N2*a}static applyMaskPenaltyRule3(n){let a=0;const l=n.getArray(),f=n.getWidth(),h=n.getHeight();for(let g=0;g<h;g++)for(let v=0;v<f;v++){const _=l[g];v+6<f&&_[v]===1&&_[v+1]===0&&_[v+2]===1&&_[v+3]===1&&_[v+4]===1&&_[v+5]===0&&_[v+6]===1&&(hr.isWhiteHorizontal(_,v-4,v)||hr.isWhiteHorizontal(_,v+7,v+11))&&a++,g+6<h&&l[g][v]===1&&l[g+1][v]===0&&l[g+2][v]===1&&l[g+3][v]===1&&l[g+4][v]===1&&l[g+5][v]===0&&l[g+6][v]===1&&(hr.isWhiteVertical(l,v,g-4,g)||hr.isWhiteVertical(l,v,g+7,g+11))&&a++}return a*hr.N3}static isWhiteHorizontal(n,a,l){a=Math.max(a,0),l=Math.min(l,n.length);for(let f=a;f<l;f++)if(n[f]===1)return!1;return!0}static isWhiteVertical(n,a,l,f){l=Math.max(l,0),f=Math.min(f,n.length);for(let h=l;h<f;h++)if(n[h][a]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let a=0;const l=n.getArray(),f=n.getWidth(),h=n.getHeight();for(let _=0;_<h;_++){const S=l[_];for(let R=0;R<f;R++)S[R]===1&&a++}const g=n.getHeight()*n.getWidth();return Math.floor(Math.abs(a*2-g)*10/g)*hr.N4}static getDataMaskBit(n,a,l){let f,h;switch(n){case 0:f=l+a&1;break;case 1:f=l&1;break;case 2:f=a%3;break;case 3:f=(l+a)%3;break;case 4:f=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:h=l*a,f=(h&1)+h%3;break;case 6:h=l*a,f=(h&1)+h%3&1;break;case 7:h=l*a,f=h%3+(l+a&1)&1;break;default:throw new A("Invalid mask pattern: "+n)}return f===0}static applyMaskPenaltyRule1Internal(n,a){let l=0;const f=a?n.getHeight():n.getWidth(),h=a?n.getWidth():n.getHeight(),g=n.getArray();for(let v=0;v<f;v++){let _=0,S=-1;for(let R=0;R<h;R++){const M=a?g[v][R]:g[R][v];M===S?_++:(_>=5&&(l+=hr.N1+(_-5)),_=1,S=M)}_>=5&&(l+=hr.N1+(_-5))}return l}}hr.N1=3,hr.N2=3,hr.N3=40,hr.N4=10;class Oo{constructor(n,a){this.width=n,this.height=a;const l=new Array(a);for(let f=0;f!==a;f++)l[f]=new Uint8Array(n);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(n,a){return this.bytes[a][n]}getArray(){return this.bytes}setNumber(n,a,l){this.bytes[a][n]=l}setBoolean(n,a,l){this.bytes[a][n]=l?1:0}clear(n){for(const a of this.bytes)z.fill(a,n)}equals(n){if(!(n instanceof Oo))return!1;const a=n;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,f=this.height;l<f;++l){const h=this.bytes[l],g=a.bytes[l];for(let v=0,_=this.width;v<_;++v)if(h[v]!==g[v])return!1}return!0}toString(){const n=new Re;for(let a=0,l=this.height;a<l;++a){const f=this.bytes[a];for(let h=0,g=this.width;h<g;++h)switch(f[h]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class Ts{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new Re;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<Ts.NUM_MASK_PATTERNS}}Ts.NUM_MASK_PATTERNS=8;class Jt extends x{}Jt.kind="WriterException";class xt{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,a,l,f,h){xt.clearMatrix(h),xt.embedBasicPatterns(l,h),xt.embedTypeInfo(a,f,h),xt.maybeEmbedVersionInfo(l,h),xt.embedDataBits(n,f,h)}static embedBasicPatterns(n,a){xt.embedPositionDetectionPatternsAndSeparators(a),xt.embedDarkDotAtLeftBottomCorner(a),xt.maybeEmbedPositionAdjustmentPatterns(n,a),xt.embedTimingPatterns(a)}static embedTypeInfo(n,a,l){const f=new Q;xt.makeTypeInfoBits(n,a,f);for(let h=0,g=f.getSize();h<g;++h){const v=f.get(f.getSize()-1-h),_=xt.TYPE_INFO_COORDINATES[h],S=_[0],R=_[1];if(l.setBoolean(S,R,v),h<8){const M=l.getWidth()-h-1;l.setBoolean(M,8,v)}else{const F=l.getHeight()-7+(h-8);l.setBoolean(8,F,v)}}}static maybeEmbedVersionInfo(n,a){if(n.getVersionNumber()<7)return;const l=new Q;xt.makeVersionInfoBits(n,l);let f=17;for(let h=0;h<6;++h)for(let g=0;g<3;++g){const v=l.get(f);f--,a.setBoolean(h,a.getHeight()-11+g,v),a.setBoolean(a.getHeight()-11+g,h,v)}}static embedDataBits(n,a,l){let f=0,h=-1,g=l.getWidth()-1,v=l.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);v>=0&&v<l.getHeight();){for(let _=0;_<2;++_){const S=g-_;if(!xt.isEmpty(l.get(S,v)))continue;let R;f<n.getSize()?(R=n.get(f),++f):R=!1,a!==255&&hr.getDataMaskBit(a,S,v)&&(R=!R),l.setBoolean(S,v,R)}v+=h}h=-h,v+=h,g-=2}if(f!==n.getSize())throw new Jt("Not all bits consumed: "+f+"/"+n.getSize())}static findMSBSet(n){return 32-B.numberOfLeadingZeros(n)}static calculateBCHCode(n,a){if(a===0)throw new A("0 polynomial");const l=xt.findMSBSet(a);for(n<<=l-1;xt.findMSBSet(n)>=l;)n^=a<<xt.findMSBSet(n)-l;return n}static makeTypeInfoBits(n,a,l){if(!Ts.isValidMaskPattern(a))throw new Jt("Invalid mask pattern");const f=n.getBits()<<3|a;l.appendBits(f,5);const h=xt.calculateBCHCode(f,xt.TYPE_INFO_POLY);l.appendBits(h,10);const g=new Q;if(g.appendBits(xt.TYPE_INFO_MASK_PATTERN,15),l.xor(g),l.getSize()!==15)throw new Jt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(n,a){a.appendBits(n.getVersionNumber(),6);const l=xt.calculateBCHCode(n.getVersionNumber(),xt.VERSION_INFO_POLY);if(a.appendBits(l,12),a.getSize()!==18)throw new Jt("should not happen but we got: "+a.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let a=8;a<n.getWidth()-8;++a){const l=(a+1)%2;xt.isEmpty(n.get(a,6))&&n.setNumber(a,6,l),xt.isEmpty(n.get(6,a))&&n.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Jt;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,a,l){for(let f=0;f<8;++f){if(!xt.isEmpty(l.get(n+f,a)))throw new Jt;l.setNumber(n+f,a,0)}}static embedVerticalSeparationPattern(n,a,l){for(let f=0;f<7;++f){if(!xt.isEmpty(l.get(n,a+f)))throw new Jt;l.setNumber(n,a+f,0)}}static embedPositionAdjustmentPattern(n,a,l){for(let f=0;f<5;++f){const h=xt.POSITION_ADJUSTMENT_PATTERN[f];for(let g=0;g<5;++g)l.setNumber(n+g,a+f,h[g])}}static embedPositionDetectionPattern(n,a,l){for(let f=0;f<7;++f){const h=xt.POSITION_DETECTION_PATTERN[f];for(let g=0;g<7;++g)l.setNumber(n+g,a+f,h[g])}}static embedPositionDetectionPatternsAndSeparators(n){const a=xt.POSITION_DETECTION_PATTERN[0].length;xt.embedPositionDetectionPattern(0,0,n),xt.embedPositionDetectionPattern(n.getWidth()-a,0,n),xt.embedPositionDetectionPattern(0,n.getWidth()-a,n);const l=8;xt.embedHorizontalSeparationPattern(0,l-1,n),xt.embedHorizontalSeparationPattern(n.getWidth()-l,l-1,n),xt.embedHorizontalSeparationPattern(0,n.getWidth()-l,n);const f=7;xt.embedVerticalSeparationPattern(f,0,n),xt.embedVerticalSeparationPattern(n.getHeight()-f-1,0,n),xt.embedVerticalSeparationPattern(f,n.getHeight()-f,n)}static maybeEmbedPositionAdjustmentPatterns(n,a){if(n.getVersionNumber()<2)return;const l=n.getVersionNumber()-1,f=xt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let h=0,g=f.length;h!==g;h++){const v=f[h];if(v>=0)for(let _=0;_!==g;_++){const S=f[_];S>=0&&xt.isEmpty(a.get(S,v))&&xt.embedPositionAdjustmentPattern(S-2,v-2,a)}}}}xt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),xt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),xt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),xt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),xt.VERSION_INFO_POLY=7973,xt.TYPE_INFO_POLY=1335,xt.TYPE_INFO_MASK_PATTERN=21522;class B0{constructor(n,a){this.dataBytes=n,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class or{constructor(){}static calculateMaskPenalty(n){return hr.applyMaskPenaltyRule1(n)+hr.applyMaskPenaltyRule2(n)+hr.applyMaskPenaltyRule3(n)+hr.applyMaskPenaltyRule4(n)}static encode(n,a,l=null){let f=or.DEFAULT_BYTE_MODE_ENCODING;const h=l!==null&&l.get(zr.CHARACTER_SET)!==void 0;h&&(f=l.get(zr.CHARACTER_SET).toString());const g=this.chooseMode(n,f),v=new Q;if(g===gt.BYTE&&(h||or.DEFAULT_BYTE_MODE_ENCODING!==f)){const Ge=Z.getCharacterSetECIByName(f);Ge!==void 0&&this.appendECI(Ge,v)}this.appendModeInfo(g,v);const _=new Q;this.appendBytes(n,g,_,f);let S;if(l!==null&&l.get(zr.QR_VERSION)!==void 0){const Ge=Number.parseInt(l.get(zr.QR_VERSION).toString(),10);S=ht.getVersionForNumber(Ge);const Le=this.calculateBitsNeeded(g,v,_,S);if(!this.willFit(Le,S,a))throw new Jt("Data too big for requested version")}else S=this.recommendVersion(a,g,v,_);const R=new Q;R.appendBitArray(v);const M=g===gt.BYTE?_.getSizeInBytes():n.length;this.appendLengthInfo(M,S,g,R),R.appendBitArray(_);const F=S.getECBlocksForLevel(a),Y=S.getTotalCodewords()-F.getTotalECCodewords();this.terminateBits(Y,R);const te=this.interleaveWithECBytes(R,S.getTotalCodewords(),Y,F.getNumBlocks()),ie=new Ts;ie.setECLevel(a),ie.setMode(g),ie.setVersion(S);const ce=S.getDimensionForVersion(),Ee=new Oo(ce,ce),je=this.chooseMaskPattern(te,a,S,Ee);return ie.setMaskPattern(je),xt.buildMatrix(te,a,S,je,Ee),ie.setMatrix(Ee),ie}static recommendVersion(n,a,l,f){const h=this.calculateBitsNeeded(a,l,f,ht.getVersionForNumber(1)),g=this.chooseVersion(h,n),v=this.calculateBitsNeeded(a,l,f,g);return this.chooseVersion(v,n)}static calculateBitsNeeded(n,a,l,f){return a.getSize()+n.getCharacterCountBits(f)+l.getSize()}static getAlphanumericCode(n){return n<or.ALPHANUMERIC_TABLE.length?or.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,a=null){if(Z.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(n))return gt.KANJI;let l=!1,f=!1;for(let h=0,g=n.length;h<g;++h){const v=n.charAt(h);if(or.isDigit(v))l=!0;else if(this.getAlphanumericCode(v.charCodeAt(0))!==-1)f=!0;else return gt.BYTE}return f?gt.ALPHANUMERIC:l?gt.NUMERIC:gt.BYTE}static isOnlyDoubleByteKanji(n){let a;try{a=Te.encode(n,Z.SJIS)}catch{return!1}const l=a.length;if(l%2!==0)return!1;for(let f=0;f<l;f+=2){const h=a[f]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(n,a,l,f){let h=Number.MAX_SAFE_INTEGER,g=-1;for(let v=0;v<Ts.NUM_MASK_PATTERNS;v++){xt.buildMatrix(n,a,l,v,f);let _=this.calculateMaskPenalty(f);_<h&&(h=_,g=v)}return g}static chooseVersion(n,a){for(let l=1;l<=40;l++){const f=ht.getVersionForNumber(l);if(or.willFit(n,f,a))return f}throw new Jt("Data too big")}static willFit(n,a,l){const f=a.getTotalCodewords(),g=a.getECBlocksForLevel(l).getTotalECCodewords(),v=f-g,_=(n+7)/8;return v>=_}static terminateBits(n,a){const l=n*8;if(a.getSize()>l)throw new Jt("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let g=0;g<4&&a.getSize()<l;++g)a.appendBit(!1);const f=a.getSize()&7;if(f>0)for(let g=f;g<8;g++)a.appendBit(!1);const h=n-a.getSizeInBytes();for(let g=0;g<h;++g)a.appendBits((g&1)===0?236:17,8);if(a.getSize()!==l)throw new Jt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,a,l,f,h,g){if(f>=l)throw new Jt("Block ID too large");const v=n%l,_=l-v,S=Math.floor(n/l),R=S+1,M=Math.floor(a/l),F=M+1,Y=S-M,te=R-F;if(Y!==te)throw new Jt("EC bytes mismatch");if(l!==_+v)throw new Jt("RS blocks mismatch");if(n!==(M+Y)*_+(F+te)*v)throw new Jt("Total bytes mismatch");f<_?(h[0]=M,g[0]=Y):(h[0]=F,g[0]=te)}static interleaveWithECBytes(n,a,l,f){if(n.getSizeInBytes()!==l)throw new Jt("Number of bits and data bytes does not match");let h=0,g=0,v=0;const _=new Array;for(let R=0;R<f;++R){const M=new Int32Array(1),F=new Int32Array(1);or.getNumDataBytesAndNumECBytesForBlockID(a,l,f,R,M,F);const Y=M[0],te=new Uint8Array(Y);n.toBytes(8*h,te,0,Y);const ie=or.generateECBytes(te,F[0]);_.push(new B0(te,ie)),g=Math.max(g,Y),v=Math.max(v,ie.length),h+=M[0]}if(l!==h)throw new Jt("Data bytes does not match offset");const S=new Q;for(let R=0;R<g;++R)for(const M of _){const F=M.getDataBytes();R<F.length&&S.appendBits(F[R],8)}for(let R=0;R<v;++R)for(const M of _){const F=M.getErrorCorrectionBytes();R<F.length&&S.appendBits(F[R],8)}if(a!==S.getSizeInBytes())throw new Jt("Interleaving error: "+a+" and "+S.getSizeInBytes()+" differ.");return S}static generateECBytes(n,a){const l=n.length,f=new Int32Array(l+a);for(let g=0;g<l;g++)f[g]=n[g]&255;new kl(mt.QR_CODE_FIELD_256).encode(f,a);const h=new Uint8Array(a);for(let g=0;g<a;g++)h[g]=f[l+g];return h}static appendModeInfo(n,a){a.appendBits(n.getBits(),4)}static appendLengthInfo(n,a,l,f){const h=l.getCharacterCountBits(a);if(n>=1<<h)throw new Jt(n+" is bigger than "+((1<<h)-1));f.appendBits(n,h)}static appendBytes(n,a,l,f){switch(a){case gt.NUMERIC:or.appendNumericBytes(n,l);break;case gt.ALPHANUMERIC:or.appendAlphanumericBytes(n,l);break;case gt.BYTE:or.append8BitBytes(n,l,f);break;case gt.KANJI:or.appendKanjiBytes(n,l);break;default:throw new Jt("Invalid mode: "+a)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const a=or.getDigit(n);return a>=0&&a<=9}static appendNumericBytes(n,a){const l=n.length;let f=0;for(;f<l;){const h=or.getDigit(n.charAt(f));if(f+2<l){const g=or.getDigit(n.charAt(f+1)),v=or.getDigit(n.charAt(f+2));a.appendBits(h*100+g*10+v,10),f+=3}else if(f+1<l){const g=or.getDigit(n.charAt(f+1));a.appendBits(h*10+g,7),f+=2}else a.appendBits(h,4),f++}}static appendAlphanumericBytes(n,a){const l=n.length;let f=0;for(;f<l;){const h=or.getAlphanumericCode(n.charCodeAt(f));if(h===-1)throw new Jt;if(f+1<l){const g=or.getAlphanumericCode(n.charCodeAt(f+1));if(g===-1)throw new Jt;a.appendBits(h*45+g,11),f+=2}else a.appendBits(h,6),f++}}static append8BitBytes(n,a,l){let f;try{f=Te.encode(n,l)}catch(h){throw new Jt(h)}for(let h=0,g=f.length;h!==g;h++){const v=f[h];a.appendBits(v,8)}}static appendKanjiBytes(n,a){let l;try{l=Te.encode(n,Z.SJIS)}catch(h){throw new Jt(h)}const f=l.length;for(let h=0;h<f;h+=2){const g=l[h]&255,v=l[h+1]&255,_=g<<8&4294967295|v;let S=-1;if(_>=33088&&_<=40956?S=_-33088:_>=57408&&_<=60351&&(S=_-49472),S===-1)throw new Jt("Invalid byte sequence");const R=(S>>8)*192+(S&255);a.appendBits(R,13)}}static appendECI(n,a){a.appendBits(gt.ECI.getBits(),4),a.appendBits(n.getValue(),8)}}or.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),or.DEFAULT_BYTE_MODE_ENCODING=Z.UTF8.getName();class Cs{write(n,a,l,f=null){if(n.length===0)throw new A("Found empty contents");if(a<0||l<0)throw new A("Requested dimensions are too small: "+a+"x"+l);let h=Zt.L,g=Cs.QUIET_ZONE_SIZE;f!==null&&(f.get(zr.ERROR_CORRECTION)!==void 0&&(h=Zt.fromString(f.get(zr.ERROR_CORRECTION).toString())),f.get(zr.MARGIN)!==void 0&&(g=Number.parseInt(f.get(zr.MARGIN).toString(),10)));const v=or.encode(n,h,f);return this.renderResult(v,a,l,g)}writeToDom(n,a,l,f,h=null){typeof n=="string"&&(n=document.querySelector(n));const g=this.write(a,l,f,h);n&&n.appendChild(g)}renderResult(n,a,l,f){const h=n.getMatrix();if(h===null)throw new Ar;const g=h.getWidth(),v=h.getHeight(),_=g+f*2,S=v+f*2,R=Math.max(a,_),M=Math.max(l,S),F=Math.min(Math.floor(R/_),Math.floor(M/S)),Y=Math.floor((R-g*F)/2),te=Math.floor((M-v*F)/2),ie=this.createSVGElement(R,M);for(let ce=0,Ee=te;ce<v;ce++,Ee+=F)for(let je=0,Ge=Y;je<g;je++,Ge+=F)if(h.get(je,ce)===1){const Le=this.createSvgRectElement(Ge,Ee,F,F);ie.appendChild(Le)}return ie}createSVGElement(n,a){const l=document.createElementNS(Cs.SVG_NS,"svg");return l.setAttributeNS(null,"height",n.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(n,a,l,f){const h=document.createElementNS(Cs.SVG_NS,"rect");return h.setAttributeNS(null,"x",n.toString()),h.setAttributeNS(null,"y",a.toString()),h.setAttributeNS(null,"height",l.toString()),h.setAttributeNS(null,"width",f.toString()),h.setAttributeNS(null,"fill","#000000"),h}}Cs.QUIET_ZONE_SIZE=4,Cs.SVG_NS="http://www.w3.org/2000/svg";class ea{encode(n,a,l,f,h){if(n.length===0)throw new A("Found empty contents");if(a!==oe.QR_CODE)throw new A("Can only encode QR_CODE, but got "+a);if(l<0||f<0)throw new A(`Requested dimensions are too small: ${l}x${f}`);let g=Zt.L,v=ea.QUIET_ZONE_SIZE;h!==null&&(h.get(zr.ERROR_CORRECTION)!==void 0&&(g=Zt.fromString(h.get(zr.ERROR_CORRECTION).toString())),h.get(zr.MARGIN)!==void 0&&(v=Number.parseInt(h.get(zr.MARGIN).toString(),10)));const _=or.encode(n,g,h);return ea.renderResult(_,l,f,v)}static renderResult(n,a,l,f){const h=n.getMatrix();if(h===null)throw new Ar;const g=h.getWidth(),v=h.getHeight(),_=g+f*2,S=v+f*2,R=Math.max(a,_),M=Math.max(l,S),F=Math.min(Math.floor(R/_),Math.floor(M/S)),Y=Math.floor((R-g*F)/2),te=Math.floor((M-v*F)/2),ie=new at(R,M);for(let ce=0,Ee=te;ce<v;ce++,Ee+=F)for(let je=0,Ge=Y;je<g;je++,Ge+=F)h.get(je,ce)===1&&ie.setRegion(Ge,Ee,F,F);return ie}}ea.QUIET_ZONE_SIZE=4;class U0{encode(n,a,l,f,h){let g;if(a===oe.QR_CODE)g=new ea;else throw new A("No encoder available for format "+a);return g.encode(n,a,l,f,h)}}class Ii extends We{constructor(n,a,l,f,h,g,v,_){if(super(g,v),this.yuvData=n,this.dataWidth=a,this.dataHeight=l,this.left=f,this.top=h,f+g>a||h+v>l)throw new A("Crop rectangle does not fit within image data.");_&&this.reverseHorizontal(g,v)}getRow(n,a){if(n<0||n>=this.getHeight())throw new A("Requested row is outside the image: "+n);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const f=(n+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,f,a,0,l),a}getMatrix(){const n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=n*a,f=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return O.arraycopy(this.yuvData,h,f,0,l),f;for(let g=0;g<a;g++){const v=g*n;O.arraycopy(this.yuvData,h,f,v,n),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(n,a,l,f){return new Ii(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+a,l,f,!1)}renderThumbnail(){const n=this.getWidth()/Ii.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Ii.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(n*a),f=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let g=0;g<a;g++){const v=g*n;for(let _=0;_<n;_++){const S=f[h+_*Ii.THUMBNAIL_SCALE_FACTOR]&255;l[v+_]=4278190080|S*65793}h+=this.dataWidth*Ii.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Ii.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ii.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,a){const l=this.yuvData;for(let f=0,h=this.top*this.dataWidth+this.left;f<a;f++,h+=this.dataWidth){const g=h+n/2;for(let v=h,_=h+n-1;v<g;v++,_--){const S=l[v];l[v]=l[_],l[_]=S}}}invert(){return new nt(this)}}Ii.THUMBNAIL_SCALE_FACTOR=2;class Ha extends We{constructor(n,a,l,f,h,g,v){if(super(a,l),this.dataWidth=f,this.dataHeight=h,this.left=g,this.top=v,n.BYTES_PER_ELEMENT===4){const _=a*l,S=new Uint8ClampedArray(_);for(let R=0;R<_;R++){const M=n[R],F=M>>16&255,Y=M>>7&510,te=M&255;S[R]=(F+Y+te)/4&255}this.luminances=S}else this.luminances=n;if(f===void 0&&(this.dataWidth=a),h===void 0&&(this.dataHeight=l),g===void 0&&(this.left=0),v===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(n,a){if(n<0||n>=this.getHeight())throw new A("Requested row is outside the image: "+n);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const f=(n+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,f,a,0,l),a}getMatrix(){const n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=n*a,f=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return O.arraycopy(this.luminances,h,f,0,l),f;for(let g=0;g<a;g++){const v=g*n;O.arraycopy(this.luminances,h,f,v,n),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(n,a,l,f){return new Ha(this.luminances,l,f,this.dataWidth,this.dataHeight,this.left+n,this.top+a)}invert(){return new nt(this)}}class Gu extends Z{static forName(n){return this.getCharacterSetECIByName(n)}}class Dl{}Dl.ISO_8859_1=Z.ISO8859_1;class Xu{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class Ml{static singletonList(n){return[n]}static min(n,a){return n.sort(a)[0]}}class j0{constructor(n){this.previous=n}getPrevious(){return this.previous}}class ta extends j0{constructor(n,a,l){super(n),this.value=a,this.bitCount=l}appendTo(n,a){n.appendBits(this.value,this.bitCount)}add(n,a){return new ta(this,n,a)}addBinaryShift(n,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ta(this,n,a)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+B.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class Pl extends ta{constructor(n,a,l){super(n,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(n,a){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):l===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(n,a){return new Pl(this,n,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function H0(D,n,a){return new Pl(D,n,a)}function za(D,n,a){return new ta(D,n,a)}const z0=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],cs=0,ra=1,cn=2,Yu=3,oi=4,Ku=new ta(null,0,0),No=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function $u(D){for(let n of D)z.fill(n,-1);return D[cs][oi]=0,D[ra][oi]=0,D[ra][cs]=28,D[Yu][oi]=0,D[cn][oi]=0,D[cn][cs]=15,D}const Ll=$u(z.createInt32Array(6,6));class vn{constructor(n,a,l,f){this.token=n,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,a){let l=this.bitCount,f=this.token;if(n!==this.mode){let g=No[this.mode][n];f=za(f,g&65535,g>>16),l+=g>>16}let h=n===cn?4:5;return f=za(f,a,h),new vn(f,n,0,l+h)}shiftAndAppend(n,a){let l=this.token,f=this.mode===cn?4:5;return l=za(l,Ll[this.mode][n],f),l=za(l,a,5),new vn(l,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(n){let a=this.token,l=this.mode,f=this.bitCount;if(this.mode===oi||this.mode===cn){let v=No[l][cs];a=za(a,v&65535,v>>16),f+=v>>16,l=cs}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new vn(a,l,this.binaryShiftByteCount+1,f+h);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(n+1)),g}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=H0(a,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new vn(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let a=this.bitCount+(No[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?a+=vn.calculateBinaryShiftCost(n)-vn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(a+=10),a<=n.bitCount}toBitArray(n){let a=[];for(let f=this.endBinaryShift(n.length).token;f!==null;f=f.getPrevious())a.unshift(f);let l=new Q;for(const f of a)f.appendTo(l,n);return l}toString(){return we.format("%s bits=%d bytes=%d",z0[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}vn.INITIAL_STATE=new vn(Ku,cs,0,0);function W0(D){const n=we.getCharCode(" "),a=we.getCharCode("."),l=we.getCharCode(",");D[cs][n]=1;const f=we.getCharCode("Z"),h=we.getCharCode("A");for(let F=h;F<=f;F++)D[cs][F]=F-h+2;D[ra][n]=1;const g=we.getCharCode("z"),v=we.getCharCode("a");for(let F=v;F<=g;F++)D[ra][F]=F-v+2;D[cn][n]=1;const _=we.getCharCode("9"),S=we.getCharCode("0");for(let F=S;F<=_;F++)D[cn][F]=F-S+2;D[cn][l]=12,D[cn][a]=13;const R=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let F=0;F<R.length;F++)D[Yu][we.getCharCode(R[F])]=F;const M=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let F=0;F<M.length;F++)we.getCharCode(M[F])>0&&(D[oi][we.getCharCode(M[F])]=F);return D}const Fl=W0(z.createInt32Array(5,256));class Wa{constructor(n){this.text=n}encode(){const n=we.getCharCode(" "),a=we.getCharCode(`
`);let l=Ml.singletonList(vn.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let g,v=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case we.getCharCode("\r"):g=v===a?2:0;break;case we.getCharCode("."):g=v===n?3:0;break;case we.getCharCode(","):g=v===n?4:0;break;case we.getCharCode(":"):g=v===n?5:0;break;default:g=0}g>0?(l=Wa.updateStateListForPair(l,h,g),h++):l=this.updateStateListForChar(l,h)}return Ml.min(l,(h,g)=>h.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,a){const l=[];for(let f of n)this.updateStateForChar(f,a,l);return Wa.simplifyStates(l)}updateStateForChar(n,a,l){let f=this.text[a]&255,h=Fl[n.getMode()][f]>0,g=null;for(let v=0;v<=oi;v++){let _=Fl[v][f];if(_>0){if(g==null&&(g=n.endBinaryShift(a)),!h||v===n.getMode()||v===cn){const S=g.latchAndAppend(v,_);l.push(S)}if(!h&&Ll[n.getMode()][v]>=0){const S=g.shiftAndAppend(v,_);l.push(S)}}}if(n.getBinaryShiftByteCount()>0||Fl[n.getMode()][f]===0){let v=n.addBinaryShiftChar(a);l.push(v)}}static updateStateListForPair(n,a,l){const f=[];for(let h of n)this.updateStateForPair(h,a,l,f);return this.simplifyStates(f)}static updateStateForPair(n,a,l,f){let h=n.endBinaryShift(a);if(f.push(h.latchAndAppend(oi,l)),n.getMode()!==oi&&f.push(h.shiftAndAppend(oi,l)),l===3||l===4){let g=h.latchAndAppend(cn,16-l).latchAndAppend(cn,1);f.push(g)}if(n.getBinaryShiftByteCount()>0){let g=n.addBinaryShiftChar(a).addBinaryShiftChar(a+1);f.push(g)}}static simplifyStates(n){let a=[];for(const l of n){let f=!0;for(const h of a){if(h.isBetterThanOrEqualTo(l)){f=!1;break}l.isBetterThanOrEqualTo(h)&&(a=a.filter(g=>g!==h))}f&&a.push(l)}return a}}class Wt{constructor(){}static encodeBytes(n){return Wt.encode(n,Wt.DEFAULT_EC_PERCENT,Wt.DEFAULT_AZTEC_LAYERS)}static encode(n,a,l){let f=new Wa(n).encode(),h=B.truncDivision(f.getSize()*a,100)+11,g=f.getSize()+h,v,_,S,R,M;if(l!==Wt.DEFAULT_AZTEC_LAYERS){if(v=l<0,_=Math.abs(l),_>(v?Wt.MAX_NB_BITS_COMPACT:Wt.MAX_NB_BITS))throw new A(we.format("Illegal value %s for layers",l));S=Wt.totalBitsInLayer(_,v),R=Wt.WORD_SIZE[_];let Le=S-S%R;if(M=Wt.stuffBits(f,R),M.getSize()+h>Le)throw new A("Data to large for user specified layer");if(v&&M.getSize()>R*64)throw new A("Data to large for user specified layer")}else{R=0,M=null;for(let Le=0;;Le++){if(Le>Wt.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(v=Le<=3,_=v?Le+1:Le,S=Wt.totalBitsInLayer(_,v),g>S)continue;(M==null||R!==Wt.WORD_SIZE[_])&&(R=Wt.WORD_SIZE[_],M=Wt.stuffBits(f,R));let jt=S-S%R;if(!(v&&M.getSize()>R*64)&&M.getSize()+h<=jt)break}}let F=Wt.generateCheckWords(M,S,R),Y=M.getSize()/R,te=Wt.generateModeMessage(v,_,Y),ie=(v?11:14)+_*4,ce=new Int32Array(ie),Ee;if(v){Ee=ie;for(let Le=0;Le<ce.length;Le++)ce[Le]=Le}else{Ee=ie+1+2*B.truncDivision(B.truncDivision(ie,2)-1,15);let Le=B.truncDivision(ie,2),jt=B.truncDivision(Ee,2);for(let Nt=0;Nt<Le;Nt++){let Mn=Nt+B.truncDivision(Nt,15);ce[Le-Nt-1]=jt-Mn-1,ce[Le+Nt]=jt+Mn+1}}let je=new at(Ee);for(let Le=0,jt=0;Le<_;Le++){let Nt=(_-Le)*4+(v?9:12);for(let Mn=0;Mn<Nt;Mn++){let li=Mn*2;for(let Wr=0;Wr<2;Wr++)F.get(jt+li+Wr)&&je.set(ce[Le*2+Wr],ce[Le*2+Mn]),F.get(jt+Nt*2+li+Wr)&&je.set(ce[Le*2+Mn],ce[ie-1-Le*2-Wr]),F.get(jt+Nt*4+li+Wr)&&je.set(ce[ie-1-Le*2-Wr],ce[ie-1-Le*2-Mn]),F.get(jt+Nt*6+li+Wr)&&je.set(ce[ie-1-Le*2-Mn],ce[Le*2+Wr])}jt+=Nt*8}if(Wt.drawModeMessage(je,v,Ee,te),v)Wt.drawBullsEye(je,B.truncDivision(Ee,2),5);else{Wt.drawBullsEye(je,B.truncDivision(Ee,2),7);for(let Le=0,jt=0;Le<B.truncDivision(ie,2)-1;Le+=15,jt+=16)for(let Nt=B.truncDivision(Ee,2)&1;Nt<Ee;Nt+=2)je.set(B.truncDivision(Ee,2)-jt,Nt),je.set(B.truncDivision(Ee,2)+jt,Nt),je.set(Nt,B.truncDivision(Ee,2)-jt),je.set(Nt,B.truncDivision(Ee,2)+jt)}let Ge=new Xu;return Ge.setCompact(v),Ge.setSize(Ee),Ge.setLayers(_),Ge.setCodeWords(Y),Ge.setMatrix(je),Ge}static drawBullsEye(n,a,l){for(let f=0;f<l;f+=2)for(let h=a-f;h<=a+f;h++)n.set(h,a-f),n.set(h,a+f),n.set(a-f,h),n.set(a+f,h);n.set(a-l,a-l),n.set(a-l+1,a-l),n.set(a-l,a-l+1),n.set(a+l,a-l),n.set(a+l,a-l+1),n.set(a+l,a+l-1)}static generateModeMessage(n,a,l){let f=new Q;return n?(f.appendBits(a-1,2),f.appendBits(l-1,6),f=Wt.generateCheckWords(f,28,4)):(f.appendBits(a-1,5),f.appendBits(l-1,11),f=Wt.generateCheckWords(f,40,4)),f}static drawModeMessage(n,a,l,f){let h=B.truncDivision(l,2);if(a)for(let g=0;g<7;g++){let v=h-3+g;f.get(g)&&n.set(v,h-5),f.get(g+7)&&n.set(h+5,v),f.get(20-g)&&n.set(v,h+5),f.get(27-g)&&n.set(h-5,v)}else for(let g=0;g<10;g++){let v=h-5+g+B.truncDivision(g,5);f.get(g)&&n.set(v,h-7),f.get(g+10)&&n.set(h+7,v),f.get(29-g)&&n.set(v,h+7),f.get(39-g)&&n.set(h-7,v)}}static generateCheckWords(n,a,l){let f=n.getSize()/l,h=new kl(Wt.getGF(l)),g=B.truncDivision(a,l),v=Wt.bitsToWords(n,l,g);h.encode(v,g-f);let _=a%l,S=new Q;S.appendBits(0,_);for(const R of Array.from(v))S.appendBits(R,l);return S}static bitsToWords(n,a,l){let f=new Int32Array(l),h,g;for(h=0,g=n.getSize()/a;h<g;h++){let v=0;for(let _=0;_<a;_++)v|=n.get(h*a+_)?1<<a-_-1:0;f[h]=v}return f}static getGF(n){switch(n){case 4:return mt.AZTEC_PARAM;case 6:return mt.AZTEC_DATA_6;case 8:return mt.AZTEC_DATA_8;case 10:return mt.AZTEC_DATA_10;case 12:return mt.AZTEC_DATA_12;default:throw new A("Unsupported word size "+n)}}static stuffBits(n,a){let l=new Q,f=n.getSize(),h=(1<<a)-2;for(let g=0;g<f;g+=a){let v=0;for(let _=0;_<a;_++)(g+_>=f||n.get(g+_))&&(v|=1<<a-1-_);(v&h)===h?(l.appendBits(v&h,a),g--):(v&h)===0?(l.appendBits(v|1,a),g--):l.appendBits(v,a)}return l}static totalBitsInLayer(n,a){return((a?88:112)+16*n)*n}}Wt.DEFAULT_EC_PERCENT=33,Wt.DEFAULT_AZTEC_LAYERS=0,Wt.MAX_NB_BITS=32,Wt.MAX_NB_BITS_COMPACT=4,Wt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Va{encode(n,a,l,f){return this.encodeWithHints(n,a,l,f,null)}encodeWithHints(n,a,l,f,h){let g=Dl.ISO_8859_1,v=Wt.DEFAULT_EC_PERCENT,_=Wt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(zr.CHARACTER_SET)&&(g=Gu.forName(h.get(zr.CHARACTER_SET).toString())),h.has(zr.ERROR_CORRECTION)&&(v=B.parseInt(h.get(zr.ERROR_CORRECTION).toString())),h.has(zr.AZTEC_LAYERS)&&(_=B.parseInt(h.get(zr.AZTEC_LAYERS).toString()))),Va.encodeLayers(n,a,l,f,g,v,_)}static encodeLayers(n,a,l,f,h,g,v){if(a!==oe.AZTEC)throw new A("Can only encode AZTEC, but got "+a);let _=Wt.encode(we.getBytes(n,h),g,v);return Va.renderResult(_,l,f)}static renderResult(n,a,l){let f=n.getMatrix();if(f==null)throw new Ar;let h=f.getWidth(),g=f.getHeight(),v=Math.max(a,h),_=Math.max(l,g),S=Math.min(v/h,_/g),R=(v-h*S)/2,M=(_-g*S)/2,F=new at(v,_);for(let Y=0,te=M;Y<g;Y++,te+=S)for(let ie=0,ce=R;ie<h;ie++,ce+=S)f.get(ie,Y)&&F.setRegion(ce,te,S,S);return F}}r.AbstractExpandedDecoder=V,r.ArgumentException=E,r.ArithmeticException=Mt,r.AztecCode=Xu,r.AztecCodeReader=ni,r.AztecCodeWriter=Va,r.AztecDecoder=kt,r.AztecDetector=Ui,r.AztecDetectorResult=ys,r.AztecEncoder=Wt,r.AztecHighLevelEncoder=Wa,r.AztecPoint=Xr,r.BarcodeFormat=oe,r.Binarizer=b,r.BinaryBitmap=C,r.BitArray=Q,r.BitMatrix=at,r.BitSource=Tl,r.BrowserAztecCodeReader=Eo,r.BrowserBarcodeReader=os,r.BrowserCodeReader=ae,r.BrowserDatamatrixCodeReader=F0,r.BrowserMultiFormatReader=ja,r.BrowserPDF417Reader=Io,r.BrowserQRCodeReader=Vu,r.BrowserQRCodeSvgWriter=Cs,r.CharacterSetECI=Z,r.ChecksumException=N,r.Code128Reader=Ze,r.Code39Reader=yr,r.DataMatrixDecodedBitStreamParser=ii,r.DataMatrixReader=si,r.DecodeHintType=ve,r.DecoderResult=Xe,r.DefaultGridSampler=is,r.DetectorResult=Fi,r.EAN13Reader=bn,r.EncodeHintType=zr,r.Exception=x,r.FormatException=G,r.GenericGF=mt,r.GenericGFPoly=Tt,r.GlobalHistogramBinarizer=pt,r.GridSampler=Bi,r.GridSamplerInstance=Ur,r.HTMLCanvasElementLuminanceSource=$e,r.HybridBinarizer=Ke,r.ITFReader=Vt,r.IllegalArgumentException=A,r.IllegalStateException=Ar,r.InvertedLuminanceSource=nt,r.LuminanceSource=We,r.MathUtils=Ct,r.MultiFormatOneDReader=Yn,r.MultiFormatReader=Co,r.MultiFormatWriter=U0,r.NotFoundException=le,r.OneDReader=cr,r.PDF417DecodedBitStreamParser=_e,r.PDF417DecoderErrorCorrection=Ol,r.PDF417Reader=tn,r.PDF417ResultMetadata=So,r.PerspectiveTransform=ln,r.PlanarYUVLuminanceSource=Ii,r.QRCodeByteMatrix=Oo,r.QRCodeDataMask=Dt,r.QRCodeDecodedBitStreamParser=fr,r.QRCodeDecoderErrorCorrectionLevel=Zt,r.QRCodeDecoderFormatInformation=Zr,r.QRCodeEncoder=or,r.QRCodeEncoderQRCode=Ts,r.QRCodeMaskUtil=hr,r.QRCodeMatrixUtil=xt,r.QRCodeMode=gt,r.QRCodeReader=wn,r.QRCodeVersion=ht,r.QRCodeWriter=ea,r.RGBLuminanceSource=Ha,r.RSS14Reader=bt,r.RSSExpandedReader=Ce,r.ReaderException=Js,r.ReedSolomonDecoder=$t,r.ReedSolomonEncoder=kl,r.ReedSolomonException=Pt,r.Result=ee,r.ResultMetadataType=De,r.ResultPoint=it,r.StringUtils=we,r.UnsupportedOperationException=Ne,r.VideoInputDevice=ue,r.WhiteRectangleDetector=Sr,r.WriterException=Jt,r.ZXingArrays=z,r.ZXingCharset=Gu,r.ZXingInteger=B,r.ZXingStandardCharsets=Dl,r.ZXingStringBuilder=Re,r.ZXingStringEncoding=Te,r.ZXingSystem=O,r.createAbstractExpandedDecoder=Ye,Object.defineProperty(r,"__esModule",{value:!0})}))})(ou,ou.exports)),ou.exports}var wr=h3();const d3=Qh(wr),g3=p2({__proto__:null,default:d3},[wr]);var wp=(function(){function t(e,r,i){if(this.formatMap=new Map([[ot.QR_CODE,wr.BarcodeFormat.QR_CODE],[ot.AZTEC,wr.BarcodeFormat.AZTEC],[ot.CODABAR,wr.BarcodeFormat.CODABAR],[ot.CODE_39,wr.BarcodeFormat.CODE_39],[ot.CODE_93,wr.BarcodeFormat.CODE_93],[ot.CODE_128,wr.BarcodeFormat.CODE_128],[ot.DATA_MATRIX,wr.BarcodeFormat.DATA_MATRIX],[ot.MAXICODE,wr.BarcodeFormat.MAXICODE],[ot.ITF,wr.BarcodeFormat.ITF],[ot.EAN_13,wr.BarcodeFormat.EAN_13],[ot.EAN_8,wr.BarcodeFormat.EAN_8],[ot.PDF_417,wr.BarcodeFormat.PDF_417],[ot.RSS_14,wr.BarcodeFormat.RSS_14],[ot.RSS_EXPANDED,wr.BarcodeFormat.RSS_EXPANDED],[ot.UPC_A,wr.BarcodeFormat.UPC_A],[ot.UPC_E,wr.BarcodeFormat.UPC_E],[ot.UPC_EAN_EXTENSION,wr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!g3)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=i;var o=this.createZXingFormats(e),c=new Map;c.set(wr.DecodeHintType.POSSIBLE_FORMATS,o),c.set(wr.DecodeHintType.TRY_HARDER,!1),this.hints=c}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(i,o){try{i(r.decode(e))}catch(c){o(c)}})},t.prototype.decode=function(e){var r=new wr.MultiFormatReader(this.verbose,this.hints),i=new wr.HTMLCanvasElementLuminanceSource(e),o=new wr.BinaryBitmap(new wr.HybridBinarizer(i)),c=r.decode(o);return{text:c.text,format:sx.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,i,o){e.set(r,i)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],i=0,o=e;i<o.length;i++){var c=o[i];this.formatMap.has(c)?r.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),p3=function(t,e,r,i){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(E){try{x(i.next(E))}catch(A){d(A)}}function w(E){try{x(i.throw(E))}catch(A){d(A)}}function x(E){E.done?c(E.value):o(E.value).then(m,w)}x((i=i.apply(t,e||[])).next())})},x3=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,o,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(E){return w([x,E])}}function w(x){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(i=1,o&&(c=x[0]&2?o.return:x[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,x[1])).done)return c;switch(o=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){r.label=x[1];break}if(x[0]===6&&r.label<c[1]){r.label=c[1],c=x;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(x);break}c[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(E){x=[6,E],o=0}finally{i=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},vp=(function(){function t(e,r,i){if(this.formatMap=new Map([[ot.QR_CODE,"qr_code"],[ot.AZTEC,"aztec"],[ot.CODABAR,"codabar"],[ot.CODE_39,"code_39"],[ot.CODE_93,"code_93"],[ot.CODE_128,"code_128"],[ot.DATA_MATRIX,"data_matrix"],[ot.ITF,"itf"],[ot.EAN_13,"ean_13"],[ot.EAN_8,"ean_8"],[ot.PDF_417,"pdf417"],[ot.UPC_A,"upc_a"],[ot.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=i;var o=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return p3(this,void 0,void 0,function(){var r,i;return x3(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=o.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(r),[2,{text:i.rawValue,format:sx.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,i=0,o=0,c=e;o<c.length;o++){var d=c[o],m=d.boundingBox.width*d.boundingBox.height;m>i&&(i=m,r=d)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],i=0,o=e;i<o.length;i++){var c=o[i];this.formatMap.has(c)?r.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,i,o){e.set(r,i)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),yp=function(t,e,r,i){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(E){try{x(i.next(E))}catch(A){d(A)}}function w(E){try{x(i.throw(E))}catch(A){d(A)}}function x(E){E.done?c(E.value):o(E.value).then(m,w)}x((i=i.apply(t,e||[])).next())})},Ep=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,o,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(E){return w([x,E])}}function w(x){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(i=1,o&&(c=x[0]&2?o.return:x[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,x[1])).done)return c;switch(o=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){r.label=x[1];break}if(x[0]===6&&r.label<c[1]){r.label=c[1],c=x;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(x);break}c[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(E){x=[6,E],o=0}finally{i=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},m3=(function(){function t(e,r,i,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,r&&vp.isSupported()?(this.primaryDecoder=new vp(e,i,o),this.secondaryDecoder=new wp(e,i,o)):this.primaryDecoder=new wp(e,i,o)}return t.prototype.decodeAsync=function(e){return yp(this,void 0,void 0,function(){var r;return Ep(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return yp(this,void 0,void 0,function(){var r,i;return Ep(this,function(o){switch(o.label){case 0:r=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,o.sent()];case 3:if(i=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw i;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,i=this.executionResults;r<i.length;r++){var o=i[r];e+=o}var c=e/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),o1=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function i(){this.constructor=e}e.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}})(),a0=function(t,e,r,i){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(E){try{x(i.next(E))}catch(A){d(A)}}function w(E){try{x(i.throw(E))}catch(A){d(A)}}function x(E){E.done?c(E.value):o(E.value).then(m,w)}x((i=i.apply(t,e||[])).next())})},o0=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,o,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(E){return w([x,E])}}function w(x){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(i=1,o&&(c=x[0]&2?o.return:x[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,x[1])).done)return c;switch(o=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){r.label=x[1];break}if(x[0]===6&&r.label<c[1]){r.label=c[1],c=x;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(x);break}c[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(E){x=[6,E],o=0}finally{i=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},ux=(function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t})(),w3=(function(t){o1(e,t);function e(r,i){return t.call(this,r,i)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var i={};i[this.name]=r;var o={advanced:[i]};return this.track.applyConstraints(o)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),i=r[this.name];return{min:i.min,max:i.max,step:i.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(ux),v3=(function(t){o1(e,t);function e(r){return t.call(this,"zoom",r)||this}return e})(w3),y3=(function(t){o1(e,t);function e(r){return t.call(this,"torch",r)||this}return e})(ux),E3=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new v3(this.track)},t.prototype.torchFeature=function(){return new y3(this.track)},t})(),_3=(function(){function t(e,r,i){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var i=e.surface.clientWidth,o=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(i,o),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,i,o){return a0(this,void 0,void 0,function(){var c,d;return o0(this,function(m){switch(m.label){case 0:return c=new t(e,r,o),i.aspectRatio?(d={aspectRatio:i.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:m.sent(),m.label=2;case 2:return c.setupSurface(),[2,c]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,i=function(){setTimeout(e,200),r.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return a0(this,void 0,void 0,function(){return o0(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,i){var o=e.mediaStream.getVideoTracks(),c=o.length,d=0;e.mediaStream.getVideoTracks().forEach(function(m){e.mediaStream.removeTrack(m),m.stop(),++d,d>=c&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new E3(this.getFirstTrackOrFail())},t})(),A3=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,i){return a0(this,void 0,void 0,function(){return o0(this,function(o){return[2,_3.create(e,this.mediaStream,r,i)]})})},t.create=function(e){return a0(this,void 0,void 0,function(){var r,i;return o0(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return i=o.sent(),[2,new t(i)]}})})},t})(),_p=function(t,e,r,i){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(E){try{x(i.next(E))}catch(A){d(A)}}function w(E){try{x(i.throw(E))}catch(A){d(A)}}function x(E){E.done?c(E.value):o(E.value).then(m,w)}x((i=i.apply(t,e||[])).next())})},Ap=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,o,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(E){return w([x,E])}}function w(x){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(i=1,o&&(c=x[0]&2?o.return:x[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,x[1])).done)return c;switch(o=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){r.label=x[1];break}if(x[0]===6&&r.label<c[1]){r.label=c[1],c=x;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(x);break}c[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(E){x=[6,E],o=0}finally{i=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},S3=(function(){function t(){}return t.failIfNotSupported=function(){return _p(this,void 0,void 0,function(){return Ap(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return _p(this,void 0,void 0,function(){return Ap(this,function(r){return[2,A3.create(e)]})})},t})(),T3=function(t,e,r,i){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(E){try{x(i.next(E))}catch(A){d(A)}}function w(E){try{x(i.throw(E))}catch(A){d(A)}}function x(E){E.done?c(E.value):o(E.value).then(m,w)}x((i=i.apply(t,e||[])).next())})},C3=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,o,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(E){return w([x,E])}}function w(x){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(i=1,o&&(c=x[0]&2?o.return:x[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,x[1])).done)return c;switch(o=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){r.label=x[1];break}if(x[0]===6&&r.label<c[1]){r.label=c[1],c=x;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(x);break}c[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(E){x=[6,E],o=0}finally{i=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},I3=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=ll.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=ll.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return T3(this,void 0,void 0,function(){var e,r,i,o,c,d,m;return C3(this,function(w){switch(w.label){case 0:return e=function(x){for(var E=x.getVideoTracks(),A=0,C=E;A<C.length;A++){var N=C[A];N.enabled=!1,N.stop(),x.removeTrack(N)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=w.sent(),o=[],c=0,d=i;c<d.length;c++)m=d[c],m.kind==="videoinput"&&o.push({id:m.deviceId,label:m.label});return e(r),[2,o]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var i=function(c){for(var d=[],m=0,w=c;m<w.length;m++){var x=w[m];x.kind==="video"&&d.push({id:x.id,label:x.label})}e(d)},o=MediaStreamTrack;o.getSources(i)})},t})(),Pr;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Pr||(Pr={}));var O3=(function(){function t(){this.state=Pr.NOT_STARTED,this.onGoingTransactionNewState=Pr.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Pr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Pr.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Pr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Pr.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Pr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Pr.UNKNOWN:throw"Transition from unknown is not allowed";case Pr.NOT_STARTED:this.failIfNewStateIs(e,[Pr.PAUSED]);break;case Pr.SCANNING:break;case Pr.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var i=0,o=r;i<o.length;i++){var c=o[i];if(e===c)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),N3=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Pr.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Pr.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Pr.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Pr.PAUSED},t})(),R3=(function(){function t(){}return t.create=function(){return new N3(new O3)},t})(),b3=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function i(){this.constructor=e}e.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}})(),di=(function(t){b3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(es),k3=(function(){function t(e,r){this.logger=r,this.fps=di.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=di.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?lx.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!ms(this.qrbox)},t.create=function(e,r){return new t(e,r)},t})(),Sp=(function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var i;typeof r=="boolean"?this.verbose=r===!0:r&&(i=r,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new ox(this.verbose),this.qrcode=new m3(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=R3.create()}return t.prototype.start=function(e,r,i,o){var c=this;if(!e)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;o?d=o:d=this.verbose?this.logger.log:function(){};var m=k3.create(r,this.logger);this.clearElement();var w=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=w,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:di.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var A=this,C=this.stateManagerProxy.startTransition(Pr.SCANNING);return new Promise(function(N,b){var O=x?m.videoConstraints:A.createVideoConstraints(e);if(!O){C.cancel(),b("videoConstraints should be defined");return}var k={};(!x||m.aspectRatio)&&(k.aspectRatio=m.aspectRatio);var K={onRenderSurfaceReady:function(z,B){A.setupUi(z,B,m),A.isScanning=!0,A.foreverScan(m,i,d)}};S3.failIfNotSupported().then(function(z){z.create(O).then(function(B){return B.render(c.element,k,K).then(function(Q){A.renderedCamera=Q,C.execute(),N(null)}).catch(function(Q){C.cancel(),b(Q)})}).catch(function(B){C.cancel(),b(ll.errorGettingUserMedia(B))})}).catch(function(z){C.cancel(),b(ll.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Pr.PAUSED),this.showPausedState(),(ms(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(Pr.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Pr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(e.element){var c=document.getElementById(di.SHADED_REGION_ELEMENT_ID);c&&e.element.removeChild(c)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),i(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),r.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(i){return i.decodedText})},t.prototype.scanFileV2=function(e,r){var i=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ms(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,c){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(e);var d=new Image;d.onload=function(){var m=d.width,w=d.height,x=document.getElementById(i.elementId),E=x.clientWidth?x.clientWidth:di.DEFAULT_WIDTH,A=Math.max(x.clientHeight?x.clientHeight:w,di.FILE_SCAN_MIN_HEIGHT),C=i.computeCanvasDrawConfig(m,w,E,A);if(r){var N=i.createCanvasElement(E,A,"qr-canvas-visible");N.style.display="inline-block",x.appendChild(N);var b=N.getContext("2d");if(!b)throw"Unable to get 2d context from canvas";b.canvas.width=E,b.canvas.height=A,b.drawImage(d,0,0,m,w,C.x,C.y,C.width,C.height)}var O=di.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(d.width,C.width),K=Math.max(d.height,C.height),z=k+2*O,B=K+2*O,Q=i.createCanvasElement(z,B);x.appendChild(Q);var Se=Q.getContext("2d");if(!Se)throw"Unable to get 2d context from canvas";Se.canvas.width=z,Se.canvas.height=B,Se.drawImage(d,0,0,m,w,O,O,k,K);try{i.qrcode.decodeRobustlyAsync(Q).then(function(ve){o(pp.createFromQrcodeResult(ve))}).catch(c)}catch(ve){c("QR code parse error, error = ".concat(ve))}},d.onerror=c,d.onabort=c,d.onstalled=c,d.onsuspend=c,d.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return I3.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!lx.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[ot.QR_CODE,ot.AZTEC,ot.CODABAR,ot.CODE_39,ot.CODE_93,ot.CODE_128,ot.DATA_MATRIX,ot.MAXICODE,ot.ITF,ot.EAN_13,ot.EAN_8,ot.PDF_417,ot.RSS_14,ot.RSS_EXPANDED,ot.UPC_A,ot.UPC_E,ot.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],o=0,c=e.formatsToSupport;o<c.length;o++){var d=c[o];u3(d)?i.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(ms(e))return!0;if(!ms(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(ms(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return ms(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,i){var o=this,c=i.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(e,r,c),m=function(x){if(x<di.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(di.MIN_QR_BOX_SIZE,"px.")},w=function(x){return x>e&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=e),x};m(d.width),m(d.height),d.width=w(d.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(e,r)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return i},t.prototype.setupUi=function(e,r,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,i);var o=ms(i.qrbox)?{width:e,height:r}:i.qrbox;this.validateQrboxConfig(o);var c=this.toQrdimensions(e,r,o);c.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=i.isShadedBoxEnabled()&&c.height<=r,m={x:0,y:0,width:e,height:r},w=d?this.getShadedRegionBounds(e,r,c):m,x=this.createCanvasElement(w.width,w.height),E={willReadFrequently:!0},A=x.getContext("2d",E);A.canvas.width=w.width,A.canvas.height=w.height,this.element.append(x),d&&this.possiblyInsertShadingElement(this.element,e,r,c),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=A,this.canvasElement=x},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=ll.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return e(o.text,pp.createFromQrcodeResult(o)),i.possiblyUpdateShaders(!0),!0}).catch(function(o){i.possiblyUpdateShaders(!1);var c=ll.codeParseError(o);return r(c,ax.createFrom(c)),!1})},t.prototype.foreverScan=function(e,r,i){var o=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),d=c.videoWidth/c.clientWidth,m=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*d,x=this.qrRegion.height*m,E=this.qrRegion.x*d,A=this.qrRegion.y*m;this.context.drawImage(c,E,A,w,x,0,0,this.qrRegion.width,this.qrRegion.height);var C=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(e,r,i)},o.getTimeoutFps(e.fps))};this.scanContext(r,i).then(function(N){!N&&e.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(r,i).finally(function(){C()})):C()}).catch(function(N){o.logger.logError("Error happend while scanning context",N),C()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",i="deviceId",o={user:!0,environment:!0},c="exact",d=function(b){if(b in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(b,"'")},m=Object.keys(e);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var w=Object.keys(e)[0];if(w!==r&&w!==i)throw"Only '".concat(r,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(w===r){var x=e.facingMode;if(typeof x=="string"){if(d(x))return{facingMode:x}}else if(typeof x=="object")if(c in x){if(d(x["".concat(c)]))return{facingMode:{exact:x["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var E=typeof x;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var A=e.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(c in A)return{deviceId:{exact:A["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var C=typeof A;throw"Invalid type of 'deviceId' = ".concat(C)}}}var N=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(N)},t.prototype.computeCanvasDrawConfig=function(e,r,i,o){if(e<=i&&r<=o){var c=(i-e)/2,d=(o-r)/2;return{x:c,y:d,width:e,height:r}}else{var m=e,w=r;return e>i&&(r=i/e*r,e=i),r>o&&(e=o/r*e,r=o),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(w)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,i,o)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?di.BORDER_SHADER_MATCH_COLOR:di.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,i){var o=e,c=r,d=document.createElement("canvas");return d.style.width="".concat(o,"px"),d.style.height="".concat(c,"px"),d.style.display="none",d.id=ms(i)?"qr-canvas":i,d},t.prototype.getShadedRegionBounds=function(e,r,i){if(i.width>e||i.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-i.width)/2,y:(r-i.height)/2,width:i.width,height:i.height}},t.prototype.possiblyInsertShadingElement=function(e,r,i,o){if(!(r-o.width<1||i-o.height<1)){var c=document.createElement("div");c.style.position="absolute";var d=(r-o.width)/2,m=(i-o.height)/2;if(c.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(di.SHADED_REGION_ELEMENT_ID),r-o.width<11||i-o.height<11)this.hasBorderShaders=!1;else{var w=5,x=40;this.insertShaderBorders(c,x,w,-w,null,0,!0),this.insertShaderBorders(c,x,w,-w,null,0,!1),this.insertShaderBorders(c,x,w,null,-w,0,!0),this.insertShaderBorders(c,x,w,null,-w,0,!1),this.insertShaderBorders(c,w,x+w,-w,null,-w,!0),this.insertShaderBorders(c,w,x+w,null,-w,-w,!0),this.insertShaderBorders(c,w,x+w,-w,null,-w,!1),this.insertShaderBorders(c,w,x+w,null,-w,-w,!1),this.hasBorderShaders=!0}e.append(c)}},t.prototype.insertShaderBorders=function(e,r,i,o,c,d,m){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=di.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(r,"px"),w.style.height="".concat(i,"px"),o!==null&&(w.style.top="".concat(o,"px")),c!==null&&(w.style.bottom="".concat(c,"px")),m?w.style.left="".concat(d,"px"):w.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),e.appendChild(w)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),l1="data:image/svg+xml;base64,",D3=l1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",M3=l1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Tp=l1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",P3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Cp=(function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t})(),L3=(function(){function t(){this.data=Cp.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=Cp.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t})(),F3=(function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=xp.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var i=document.createElement("br"),o=document.createElement("br");this.infoDiv.appendChild(i),this.infoDiv.appendChild(o);var c=document.createElement("a");c.innerText=xp.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t})(),B3=(function(){function t(e,r){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=r,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Tp,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(i){return r.onHoverIn()},this.infoIcon.onmouseout=function(i){return r.onHoverOut()},this.infoIcon.onclick=function(i){return r.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=P3,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Tp,this.infoIcon.style.opacity="0.6")},t})(),U3=(function(){function t(){var e=this;this.infoDiv=new F3,this.infoIcon=new B3(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t})(),j3=function(t,e,r,i){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(E){try{x(i.next(E))}catch(A){d(A)}}function w(E){try{x(i.throw(E))}catch(A){d(A)}}function x(E){E.done?c(E.value):o(E.value).then(m,w)}x((i=i.apply(t,e||[])).next())})},H3=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,o,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(E){return w([x,E])}}function w(x){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(i=1,o&&(c=x[0]&2?o.return:x[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,x[1])).done)return c;switch(o=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){r.label=x[1];break}if(x[0]===6&&r.label<c[1]){r.label=c[1],c=x;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(x);break}c[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(E){x=[6,E],o=0}finally{i=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ip=(function(){function t(){}return t.hasPermissions=function(){return j3(this,void 0,void 0,function(){var e,r,i,o;return H3(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=c.sent(),r=0,i=e;r<i.length;r++)if(o=i[r],o.kind==="videoinput"&&o.label)return[2,!0];return[2,!1]}})})},t})(),wa=(function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,r=this.supportedScanTypes;e<r.length;e++){var i=r[e];if(t.isCameraScanType(i))return!0}return!1},t.isCameraScanType=function(e){return e===Ia.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Ia.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return es.DEFAULT_SUPPORTED_SCAN_TYPE;var r=es.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var i=0,o=e;i<o.length;i++){var c=o[i];if(!es.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type ".concat(c)}return e},t})(),Ei=(function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t})(),Bs=(function(){function t(){}return t.createElement=function(e,r){var i=document.createElement(e);return i.id=r,i.classList.add(Ei.ALL_ELEMENT_CLASS),e==="button"&&i.setAttribute("type","button"),i},t})(),cx=function(t,e,r,i){function o(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(E){try{x(i.next(E))}catch(A){d(A)}}function w(E){try{x(i.throw(E))}catch(A){d(A)}}function x(E){E.done?c(E.value):o(E.value).then(m,w)}x((i=i.apply(t,e||[])).next())})},fx=function(t,e){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,o,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(E){return w([x,E])}}function w(x){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(i=1,o&&(c=x[0]&2?o.return:x[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,x[1])).done)return c;switch(o=0,c&&(x=[x[0]&2,c.value]),x[0]){case 0:case 1:c=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){r.label=x[1];break}if(x[0]===6&&r.label<c[1]){r.label=c[1],c=x;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(x);break}c[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(E){x=[6,E],o=0}finally{i=c=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Op=(function(){function t(e,r,i){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=r,this.onTorchActionFailureCallback=i}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return cx(this,void 0,void 0,function(){var e,r;return fx(this,function(i){switch(i.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return i.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return r=i.sent(),this.propagateFailure(e,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,r){e===r?(this.buttonController.setText(r?tr.torchOffButton():tr.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},t.prototype.propagateFailure=function(e,r){var i=e?tr.torchOnFailedMessage():tr.torchOffFailedMessage();r&&(i+="; Error = "+r),this.onTorchActionFailureCallback(i)},t.prototype.reset=function(){this.isTorchOn=!1},t})(),z3=(function(){function t(e,r){this.onTorchActionFailureCallback=r,this.torchButton=Bs.createElement("button",Ei.TORCH_BUTTON_ID),this.torchController=new Op(e,this,r)}return t.prototype.render=function(e,r){var i=this;this.torchButton.innerText=tr.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var o=this;this.torchButton.addEventListener("click",function(c){return cx(i,void 0,void 0,function(){return fx(this,function(d){switch(d.label){case 0:return[4,o.torchController.flipState()];case 1:return d.sent(),o.torchController.isTorchEnabled()?(o.torchButton.classList.remove(Ei.TORCH_BUTTON_CLASS_TORCH_OFF),o.torchButton.classList.add(Ei.TORCH_BUTTON_CLASS_TORCH_ON)):(o.torchButton.classList.remove(Ei.TORCH_BUTTON_CLASS_TORCH_ON),o.torchButton.classList.add(Ei.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new Op(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=tr.torchOnButton(),this.torchController.reset()},t.create=function(e,r,i,o){var c=new t(r,o);return c.render(e,i),c},t})(),W3=(function(){function t(e,r,i){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",e.appendChild(this.fileBasedScanRegion);var o=document.createElement("label");o.setAttribute("for",this.getFileScanInputId()),o.style.display="inline-block",this.fileBasedScanRegion.appendChild(o),this.fileSelectionButton=Bs.createElement("button",Ei.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(m){o.click()}),o.append(this.fileSelectionButton),this.fileScanInput=Bs.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",o.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(m){if(!(m==null||m.target==null)){var w=m.target;if(!(w.files&&w.files.length===0)){var x=w.files,E=x[0],A=E.name;c.setImageNameToButton(A),i(E)}}});var d=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(d),this.fileBasedScanRegion.addEventListener("dragenter",function(m){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(m){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(m){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(m){m.stopPropagation(),m.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var w=m.dataTransfer;if(w){var x=w.files;if(!x||x.length===0)return;for(var E=!1,A=0;A<x.length;++A){var C=x.item(A);if(C){var N=/image.*/;if(C.type.match(N)){E=!0;var b=C.name;c.setImageNameToButton(b),i(C),d.innerText=tr.dragAndDropMessage();break}}}E||(d.innerText=tr.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=tr.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var r=20;if(e.length>r){var i=e.substring(0,8),o=e.length,c=e.substring(o-8,o);e="".concat(i,"....").concat(c)}var d=tr.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=d},t.prototype.setInitialValueToButton=function(){var e=tr.fileSelectionChooseImage()+" - "+tr.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,r,i){var o=new t(e,r,i);return o},t})(),V3=(function(){function t(e){this.selectElement=Bs.createElement("select",Ei.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var r=document.createElement("span");r.style.marginRight="10px";var i=this.cameras.length;if(i===0)throw new Error("No cameras found");if(i===1)r.style.display="none";else{var o=tr.selectCamera();r.innerText="".concat(o," (").concat(this.cameras.length,")  ")}for(var c=1,d=0,m=this.cameras;d<m.length;d++){var w=m[d],x=w.id,E=w.label==null?x:w.label;(!E||E==="")&&(E=[tr.anonymousCameraPrefix(),c++].join(" "));var A=document.createElement("option");A.value=x,A.innerText=E,this.options.push(A),this.selectElement.appendChild(A)}r.appendChild(this.selectElement),e.appendChild(r)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var r=0,i=this.options;r<i.length;r++){var o=i[r];if(o.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,r){var i=new t(r);return i.render(e),i},t})(),G3=(function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Bs.createElement("input",Ei.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var i=tr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.rangeText.style.marginRight="10px";var o=this;this.rangeInput.addEventListener("input",function(){return o.onValueChange()}),this.rangeInput.addEventListener("change",function(){return o.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=tr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,r,i,o){this.rangeInput.min=e.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=o.toString(),this.rangeInput.value=i.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,r){var i=new t;return i.render(e,r),i},t})(),gi;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(gi||(gi={}));function X3(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function Y3(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var K3=(function(){function t(e,r,i){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(r),this.verbose=i===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new wa(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new ox(this.verbose),this.persistedDataManager=new L3,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,r){var i=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,d){if(e)e(c,d);else{if(i.lastMatchFound===c)return;i.lastMatchFound=c,i.setHeaderMessage(tr.lastMatch(c),gi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,d){r&&r(c,d)};var o=document.getElementById(this.elementId);if(!o)throw"HTML Element with id=".concat(this.elementId," not found");o.innerHTML="",this.createBasicLayout(o),this.html5Qrcode=new Sp(this.getScanRegionId(),Y3(this.config,this.verbose))},t.prototype.pause=function(e){(ms(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,r=function(){var i=document.getElementById(e.elementId);i&&(i.innerHTML="",e.resetBasicLayout(i))};return this.html5Qrcode?new Promise(function(i,o){if(!e.html5Qrcode){i();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(c){if(!e.html5Qrcode){i();return}e.html5Qrcode.clear(),r(),i()}).catch(function(c){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",c),o(c)}):(e.html5Qrcode.clear(),r(),i())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=es.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!es.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=es.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=es.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:es.SCAN_DEFAULT_FPS,rememberLastUsedCamera:es.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:es.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var r=document.createElement("div"),i=this.getScanRegionId();r.id=i,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",e.appendChild(r),wa.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var o=document.createElement("div"),c=this.getDashboardId();o.id=c,o.style.width="100%",e.appendChild(o),this.setupInitialDashboard(o)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",e.appendChild(r);var i=new U3;i.renderInto(r);var o=document.createElement("div");o.id=this.getHeaderMessageContainerId(),o.style.display="none",o.style.textAlign="center",o.style.fontSize="14px",o.style.padding="2px 10px",o.style.margin="4px",o.style.borderTop="1px solid #f6f6f6",r.appendChild(o)},t.prototype.createSection=function(e){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",e.appendChild(r)},t.prototype.createCameraListUi=function(e,r,i){var o=this;o.showHideScanTypeSwapLink(!1),o.setHeaderMessage(tr.cameraPermissionRequesting());var c=function(){i||o.createPermissionButton(e,r)};Sp.getCameras().then(function(d){o.persistedDataManager.setHasPermission(!0),o.showHideScanTypeSwapLink(!0),o.resetHeaderMessage(),d&&d.length>0?(e.removeChild(r),o.renderCameraSelection(d)):(o.setHeaderMessage(tr.noCameraFound(),gi.STATUS_WARNING),c())}).catch(function(d){o.persistedDataManager.setHasPermission(!1),i?i.disabled=!1:c(),o.setHeaderMessage(d,gi.STATUS_WARNING),o.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,r){var i=this,o=Bs.createElement("button",this.getCameraPermissionButtonId());o.innerText=tr.cameraPermissionTitle(),o.addEventListener("click",function(){o.disabled=!0,i.createCameraListUi(e,r,o)}),r.appendChild(o)},t.prototype.createPermissionsUi=function(e,r){var i=this;if(wa.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Ip.hasPermissions().then(function(o){o?i.createCameraListUi(e,r):(i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(e,r))}).catch(function(o){i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(e,r)});return}this.createPermissionButton(e,r)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");e.appendChild(r);var i=document.createElement("div");i.id=this.getDashboardSectionCameraScanRegionId(),i.style.display=wa.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(i);var o=document.createElement("div");o.style.textAlign="center",i.appendChild(o),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(i,o),this.renderFileScanUi(r)},t.prototype.renderFileScanUi=function(e){var r=wa.isFileScanType(this.currentScanType),i=this,o=function(c){if(!i.html5Qrcode)throw"html5Qrcode not defined";wa.isFileScanType(i.currentScanType)&&(i.setHeaderMessage(tr.loadingImage()),i.html5Qrcode.scanFileV2(c,!0).then(function(d){i.resetHeaderMessage(),i.qrCodeSuccessCallback(d.decodedText,d)}).catch(function(d){i.setHeaderMessage(d,gi.STATUS_WARNING),i.qrCodeErrorCallback(d,ax.createFrom(d))}))};this.fileSelectionUi=W3.create(e,r,o)},t.prototype.renderCameraSelection=function(e){var r=this,i=this,o=document.getElementById(this.getDashboardSectionCameraScanRegionId());o.style.textAlign="center";var c=G3.create(o,!1),d=function(O){var k=O.zoomFeature();if(k.isSupported()){c.setOnCameraZoomValueChangeCallback(function(z){k.apply(z)});var K=1;r.config.defaultZoomValueIfSupported&&(K=r.config.defaultZoomValueIfSupported),K=c3(K,k.min(),k.max()),c.setValues(k.min(),k.max(),K,k.step()),c.show()}},m=V3.create(o,e),w=document.createElement("span"),x=Bs.createElement("button",Ei.CAMERA_START_BUTTON_ID);x.innerText=tr.scanButtonStartScanningText(),w.appendChild(x);var E=Bs.createElement("button",Ei.CAMERA_STOP_BUTTON_ID);E.innerText=tr.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,w.appendChild(E);var A,C=function(O){if(!O.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(O.torchFeature()):A=z3.create(w,O.torchFeature(),{display:"none",marginLeft:"5px"},function(k){i.setHeaderMessage(k,gi.STATUS_WARNING)}),A.show()};o.appendChild(w);var N=function(O){O||(x.style.display="none"),x.innerText=tr.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,O&&(x.style.display="inline-block")};if(x.addEventListener("click",function(O){x.innerText=tr.scanButtonScanningStarting(),m.disable(),x.disabled=!0,x.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!1),i.resetHeaderMessage();var k=m.getValue();i.persistedDataManager.setLastUsedCameraId(k),i.html5Qrcode.start(k,X3(i.config),i.qrCodeSuccessCallback,i.qrCodeErrorCallback).then(function(K){E.disabled=!1,E.style.display="inline-block",N(!1);var z=i.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&C(z),r.config.showZoomSliderIfSupported===!0&&d(z)}).catch(function(K){i.showHideScanTypeSwapLink(!0),m.enable(),N(!0),i.setHeaderMessage(K,gi.STATUS_WARNING)})}),m.hasSingleItem()&&x.click(),E.addEventListener("click",function(O){if(!i.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,i.html5Qrcode.stop().then(function(k){r.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!0),m.enable(),x.disabled=!1,E.style.display="none",x.style.display="inline-block",A&&(A.reset(),A.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),i.insertCameraScanImageToScanRegion()}).catch(function(k){E.disabled=!1,i.setHeaderMessage(k,gi.STATUS_WARNING)})}),i.persistedDataManager.getLastUsedCameraId()){var b=i.persistedDataManager.getLastUsedCameraId();m.hasValue(b)?(m.setValue(b),x.click()):i.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,r=tr.textIfCameraScanSelected(),i=tr.textIfFileScanSelected(),o=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var d=Bs.createElement("span",this.getDashboardSectionSwapLinkId());d.style.textDecoration="underline",d.style.cursor="pointer",d.innerText=wa.isCameraScanType(this.currentScanType)?r:i,d.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,wa.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),d.innerText=i,e.currentScanType=Ia.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),d.innerText=r,e.currentScanType=Ia.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),c.appendChild(d),o.appendChild(c)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){Ip.hasPermissions().then(function(i){if(i){var o=document.getElementById(r.getCameraPermissionButtonId());if(!o)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";o.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(i){r.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,r){r||(r=gi.STATUS_DEFAULT);var i=this.getHeaderMessageDiv();switch(i.innerText=e,i.style.display="block",r){case gi.STATUS_SUCCESS:i.style.background="rgba(106, 175, 80, 0.26)",i.style.color="#477735";break;case gi.STATUS_WARNING:i.style.background="rgba(203, 36, 49, 0.14)",i.style.color="#cb2431";break;case gi.STATUS_DEFAULT:default:i.style.background="rgba(0, 0, 0, 0)",i.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(i){r.innerHTML="<br>",r.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=D3,this.cameraScanImage.alt=tr.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(i){r.innerHTML="<br>",r.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=M3,this.fileScanImage.alt=tr.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Ei.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Ei.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t})();function $3(){const t=ze.useRef(null),[e,r]=ze.useState(null),[i,o]=ze.useState(null);ze.useEffect(()=>{if(t.current)return;const m=new K3("qr-reader",{fps:10,qrbox:{width:250,height:250}},!1);return m.render(c,d),t.current=m,()=>{m.clear().catch(()=>{})}},[]);const c=async m=>{try{o(null);const w=new Date().toISOString().slice(0,10),x=new Date,E=x.toTimeString().slice(0,8),{data:A}=await ws.from("employees").select("*").eq("qr_code",m).single();if(!A){o("Employ introuvable");return}const{data:C}=await ws.from("attendance").select("*").eq("employee_id",A.id).eq("date",w).single();if(C)if(C.check_out)o("Pointage dj complt aujourd'hui");else{const N=parseInt(C.check_in.split(":")[0])+parseInt(C.check_in.split(":")[1])/60,b=x.getHours()+x.getMinutes()/60,O=Math.max(0,b-N),k=b>18?b-18:0;await ws.from("attendance").update({check_out:E,hours_worked:O.toFixed(2),overtime_hours:k.toFixed(2)}).eq("id",C.id),r({emp:A,message:"Sortie enregistre"})}else{const N=x.getHours()+x.getMinutes()/60;let b="present";N>9?b="absent":N>8.5&&(b="late"),await ws.from("attendance").insert({employee_id:A.id,date:w,check_in:E,status:b,recorded_by:"RH"}),r({emp:A,message:"Entre enregistre"})}setTimeout(()=>r(null),3e3)}catch(w){console.error(w),o("Erreur systme")}},d=()=>{};return Je.jsxs("div",{children:[Je.jsx("h1",{className:"text-xl font-bold mb-4",children:"Scanner QR"}),Je.jsx("div",{id:"qr-reader",className:"max-w-md mx-auto"}),e&&Je.jsxs("div",{className:"text-center mt-6 animate-pulse",children:[Je.jsx(U_,{className:"mx-auto text-green-500",size:80}),Je.jsxs("h2",{className:"text-2xl font-bold",children:["Bonjour ",e.emp.first_name]}),Je.jsx("p",{children:e.message})]}),i&&Je.jsxs("div",{className:"text-center mt-6 text-red-600",children:[Je.jsx(H_,{className:"mx-auto",size:60}),Je.jsx("p",{className:"font-bold",children:i})]})]})}var l0={};l0.version="0.18.5";var hx=1252,q3=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],dx=function(t){q3.indexOf(t)!=-1&&(hx=t)};function Q3(){dx(1252)}var Tu=function(t){dx(t)};function Z3(){Tu(1200),Q3()}var Xc=function(e){return String.fromCharCode(e)},Np=function(e){return String.fromCharCode(e)},u0,Sa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Cu(t){for(var e="",r=0,i=0,o=0,c=0,d=0,m=0,w=0,x=0;x<t.length;)r=t.charCodeAt(x++),c=r>>2,i=t.charCodeAt(x++),d=(r&3)<<4|i>>4,o=t.charCodeAt(x++),m=(i&15)<<2|o>>6,w=o&63,isNaN(i)?m=w=64:isNaN(o)&&(w=64),e+=Sa.charAt(c)+Sa.charAt(d)+Sa.charAt(m)+Sa.charAt(w);return e}function zs(t){var e="",r=0,i=0,o=0,c=0,d=0,m=0,w=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var x=0;x<t.length;)c=Sa.indexOf(t.charAt(x++)),d=Sa.indexOf(t.charAt(x++)),r=c<<2|d>>4,e+=String.fromCharCode(r),m=Sa.indexOf(t.charAt(x++)),i=(d&15)<<4|m>>2,m!==64&&(e+=String.fromCharCode(i)),w=Sa.indexOf(t.charAt(x++)),o=(m&3)<<6|w,w!==64&&(e+=String.fromCharCode(o));return e}var Qt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ys=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function ho(t){return Qt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Rp(t){return Qt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ts=function(e){return Qt?Ys(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function N0(t){if(typeof ArrayBuffer>"u")return ts(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),i=0;i!=t.length;++i)r[i]=t.charCodeAt(i)&255;return e}function Du(t){if(Array.isArray(t))return t.map(function(i){return String.fromCharCode(i)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function J3(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var In=Qt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ys(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var i=new Uint8Array(r),o=0;for(e=0,r=0;e<t.length;r+=o,++e)if(o=t[e].length,t[e]instanceof Uint8Array)i.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";i.set(new Uint8Array(t[e]),r)}return i}return[].concat.apply([],t.map(function(c){return Array.isArray(c)?c:[].slice.call(c)}))};function eA(t){for(var e=[],r=0,i=t.length+250,o=ho(t.length+255),c=0;c<t.length;++c){var d=t.charCodeAt(c);if(d<128)o[r++]=d;else if(d<2048)o[r++]=192|d>>6&31,o[r++]=128|d&63;else if(d>=55296&&d<57344){d=(d&1023)+64;var m=t.charCodeAt(++c)&1023;o[r++]=240|d>>8&7,o[r++]=128|d>>2&63,o[r++]=128|m>>6&15|(d&3)<<4,o[r++]=128|m&63}else o[r++]=224|d>>12&15,o[r++]=128|d>>6&63,o[r++]=128|d&63;r>i&&(e.push(o.slice(0,r)),r=0,o=ho(65535),i=65530)}return e.push(o.slice(0,r)),In(e)}var fu=/\u0000/g,Yc=/[\u0001-\u0006]/g;function fl(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function rs(t,e){var r=""+t;return r.length>=e?r:Fr("0",e-r.length)+r}function u1(t,e){var r=""+t;return r.length>=e?r:Fr(" ",e-r.length)+r}function c0(t,e){var r=""+t;return r.length>=e?r:r+Fr(" ",e-r.length)}function tA(t,e){var r=""+Math.round(t);return r.length>=e?r:Fr("0",e-r.length)+r}function rA(t,e){var r=""+t;return r.length>=e?r:Fr("0",e-r.length)+r}var bp=Math.pow(2,32);function Jo(t,e){if(t>bp||t<-bp)return tA(t,e);var r=Math.round(t);return rA(r,e)}function f0(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var kp=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],yh=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function nA(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Br={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Dp={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},iA={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function h0(t,e,r){for(var i=t<0?-1:1,o=t*i,c=0,d=1,m=0,w=1,x=0,E=0,A=Math.floor(o);x<e&&(A=Math.floor(o),m=A*d+c,E=A*x+w,!(o-A<5e-8));)o=1/(o-A),c=d,d=m,w=x,x=E;if(E>e&&(x>e?(E=w,m=c):(E=x,m=d)),!r)return[0,i*m,E];var C=Math.floor(i*m/E);return[C,i*m-C*E,E]}function Kc(t,e,r){if(t>2958465||t<0)return null;var i=t|0,o=Math.floor(86400*(t-i)),c=0,d=[],m={D:i,T:o,u:86400*(t-i)-o,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(m.u)<1e-6&&(m.u=0),e&&e.date1904&&(i+=1462),m.u>.9999&&(m.u=0,++o==86400&&(m.T=o=0,++i,++m.D)),i===60)d=r?[1317,10,29]:[1900,2,29],c=3;else if(i===0)d=r?[1317,8,29]:[1900,1,0],c=6;else{i>60&&--i;var w=new Date(1900,0,1);w.setDate(w.getDate()+i-1),d=[w.getFullYear(),w.getMonth()+1,w.getDate()],c=w.getDay(),i<60&&(c=(c+6)%7),r&&(c=fA(w,d))}return m.y=d[0],m.m=d[1],m.d=d[2],m.S=o%60,o=Math.floor(o/60),m.M=o%60,o=Math.floor(o/60),m.H=o,m.q=c,m}var gx=new Date(1899,11,31,0,0,0),sA=gx.getTime(),aA=new Date(1900,2,1,0,0,0);function px(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=aA&&(r+=1440*60*1e3),(r-(sA+(t.getTimezoneOffset()-gx.getTimezoneOffset())*6e4))/(1440*60*1e3)}function c1(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function oA(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function lA(t){var e=t<0?12:11,r=c1(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function uA(t){var e=c1(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function cA(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=lA(t):e===10?r=t.toFixed(10).substr(0,12):r=uA(t),c1(oA(r.toUpperCase()))}function Yh(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):cA(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Oa(14,px(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function fA(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function hA(t,e,r,i){var o="",c=0,d=0,m=r.y,w,x=0;switch(t){case 98:m=r.y+543;case 121:switch(e.length){case 1:case 2:w=m%100,x=2;break;default:w=m%1e4,x=4;break}break;case 109:switch(e.length){case 1:case 2:w=r.m,x=e.length;break;case 3:return yh[r.m-1][1];case 5:return yh[r.m-1][0];default:return yh[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:w=r.d,x=e.length;break;case 3:return kp[r.q][0];default:return kp[r.q][1]}break;case 104:switch(e.length){case 1:case 2:w=1+(r.H+11)%12,x=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:w=r.H,x=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:w=r.M,x=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?rs(r.S,e.length):(i>=2?d=i===3?1e3:100:d=i===1?10:1,c=Math.round(d*(r.S+r.u)),c>=60*d&&(c=0),e==="s"?c===0?"0":""+c/d:(o=rs(c,2+i),e==="ss"?o.substr(0,2):"."+o.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":w=r.D*24+r.H;break;case"[m]":case"[mm]":w=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":w=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}x=e.length===3?1:2;break;case 101:w=m,x=1;break}var E=x>0?rs(w,x):"";return E}function Ta(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,i=t.substr(0,r);r!=t.length;r+=e)i+=(i.length>0?",":"")+t.substr(r,e);return i}var xx=/%/g;function dA(t,e,r){var i=e.replace(xx,""),o=e.length-i.length;return Us(t,i,r*Math.pow(10,2*o))+Fr("%",o)}function gA(t,e,r){for(var i=e.length-1;e.charCodeAt(i-1)===44;)--i;return Us(t,e.substr(0,i),r/Math.pow(10,3*(e.length-i)))}function mx(t,e){var r,i=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+mx(t,-e);var o=t.indexOf(".");o===-1&&(o=t.indexOf("E"));var c=Math.floor(Math.log(e)*Math.LOG10E)%o;if(c<0&&(c+=o),r=(e/Math.pow(10,c)).toPrecision(i+1+(o+c)%o),r.indexOf("e")===-1){var d=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(d-r.length+c):r+="E+"+(d-c);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,o)+"."+r.substr(2+o),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(m,w,x,E){return w+x+E.substr(0,(o+c)%o)+"."+E.substr(c)+"E"})}else r=e.toExponential(i);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var wx=/# (\?+)( ?)\/( ?)(\d+)/;function pA(t,e,r){var i=parseInt(t[4],10),o=Math.round(e*i),c=Math.floor(o/i),d=o-c*i,m=i;return r+(c===0?"":""+c)+" "+(d===0?Fr(" ",t[1].length+1+t[4].length):u1(d,t[1].length)+t[2]+"/"+t[3]+rs(m,t[4].length))}function xA(t,e,r){return r+(e===0?"":""+e)+Fr(" ",t[1].length+2+t[4].length)}var vx=/^#*0*\.([0#]+)/,yx=/\).*[0#]/,Ex=/\(###\) ###\\?-####/;function Wn(t){for(var e="",r,i=0;i!=t.length;++i)switch(r=t.charCodeAt(i)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function Mp(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function Pp(t,e){var r=t-Math.floor(t),i=Math.pow(10,e);return e<(""+Math.round(r*i)).length?0:Math.round(r*i)}function mA(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function wA(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Mi(t,e,r){if(t.charCodeAt(0)===40&&!e.match(yx)){var i=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Mi("n",i,r):"("+Mi("n",i,-r)+")"}if(e.charCodeAt(e.length-1)===44)return gA(t,e,r);if(e.indexOf("%")!==-1)return dA(t,e,r);if(e.indexOf("E")!==-1)return mx(e,r);if(e.charCodeAt(0)===36)return"$"+Mi(t,e.substr(e.charAt(1)==" "?2:1),r);var o,c,d,m,w=Math.abs(r),x=r<0?"-":"";if(e.match(/^00+$/))return x+Jo(w,e.length);if(e.match(/^[#?]+$/))return o=Jo(r,0),o==="0"&&(o=""),o.length>e.length?o:Wn(e.substr(0,e.length-o.length))+o;if(c=e.match(wx))return pA(c,w,x);if(e.match(/^#+0+$/))return x+Jo(w,e.length-e.indexOf("0"));if(c=e.match(vx))return o=Mp(r,c[1].length).replace(/^([^\.]+)$/,"$1."+Wn(c[1])).replace(/\.$/,"."+Wn(c[1])).replace(/\.(\d*)$/,function(b,O){return"."+O+Fr("0",Wn(c[1]).length-O.length)}),e.indexOf("0.")!==-1?o:o.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),c=e.match(/^(0*)\.(#*)$/))return x+Mp(w,c[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,c[1].length?"0.":".");if(c=e.match(/^#{1,3},##0(\.?)$/))return x+Ta(Jo(w,0));if(c=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Mi(t,e,-r):Ta(""+(Math.floor(r)+mA(r,c[1].length)))+"."+rs(Pp(r,c[1].length),c[1].length);if(c=e.match(/^#,#*,#0/))return Mi(t,e.replace(/^#,#*,/,""),r);if(c=e.match(/^([0#]+)(\\?-([0#]+))+$/))return o=fl(Mi(t,e.replace(/[\\-]/g,""),r)),d=0,fl(fl(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return d<o.length?o.charAt(d++):b==="0"?"0":""}));if(e.match(Ex))return o=Mi(t,"##########",r),"("+o.substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6);var E="";if(c=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return d=Math.min(c[4].length,7),m=h0(w,Math.pow(10,d)-1,!1),o=""+x,E=Us("n",c[1],m[1]),E.charAt(E.length-1)==" "&&(E=E.substr(0,E.length-1)+"0"),o+=E+c[2]+"/"+c[3],E=c0(m[2],d),E.length<c[4].length&&(E=Wn(c[4].substr(c[4].length-E.length))+E),o+=E,o;if(c=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return d=Math.min(Math.max(c[1].length,c[4].length),7),m=h0(w,Math.pow(10,d)-1,!0),x+(m[0]||(m[1]?"":"0"))+" "+(m[1]?u1(m[1],d)+c[2]+"/"+c[3]+c0(m[2],d):Fr(" ",2*d+1+c[2].length+c[3].length));if(c=e.match(/^[#0?]+$/))return o=Jo(r,0),e.length<=o.length?o:Wn(e.substr(0,e.length-o.length))+o;if(c=e.match(/^([#0?]+)\.([#0]+)$/)){o=""+r.toFixed(Math.min(c[2].length,10)).replace(/([^0])0+$/,"$1"),d=o.indexOf(".");var A=e.indexOf(".")-d,C=e.length-o.length-A;return Wn(e.substr(0,A)+o+e.substr(e.length-C))}if(c=e.match(/^00,000\.([#0]*0)$/))return d=Pp(r,c[1].length),r<0?"-"+Mi(t,e,-r):Ta(wA(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?rs(0,3-b.length):"")+b})+"."+rs(d,c[1].length);switch(e){case"###,##0.00":return Mi(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var N=Ta(Jo(w,0));return N!=="0"?x+N:"";case"###,###.00":return Mi(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Mi(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function vA(t,e,r){for(var i=e.length-1;e.charCodeAt(i-1)===44;)--i;return Us(t,e.substr(0,i),r/Math.pow(10,3*(e.length-i)))}function yA(t,e,r){var i=e.replace(xx,""),o=e.length-i.length;return Us(t,i,r*Math.pow(10,2*o))+Fr("%",o)}function _x(t,e){var r,i=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+_x(t,-e);var o=t.indexOf(".");o===-1&&(o=t.indexOf("E"));var c=Math.floor(Math.log(e)*Math.LOG10E)%o;if(c<0&&(c+=o),r=(e/Math.pow(10,c)).toPrecision(i+1+(o+c)%o),!r.match(/[Ee]/)){var d=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(d-r.length+c):r+="E+"+(d-c),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(m,w,x,E){return w+x+E.substr(0,(o+c)%o)+"."+E.substr(c)+"E"})}else r=e.toExponential(i);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ps(t,e,r){if(t.charCodeAt(0)===40&&!e.match(yx)){var i=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ps("n",i,r):"("+ps("n",i,-r)+")"}if(e.charCodeAt(e.length-1)===44)return vA(t,e,r);if(e.indexOf("%")!==-1)return yA(t,e,r);if(e.indexOf("E")!==-1)return _x(e,r);if(e.charCodeAt(0)===36)return"$"+ps(t,e.substr(e.charAt(1)==" "?2:1),r);var o,c,d,m,w=Math.abs(r),x=r<0?"-":"";if(e.match(/^00+$/))return x+rs(w,e.length);if(e.match(/^[#?]+$/))return o=""+r,r===0&&(o=""),o.length>e.length?o:Wn(e.substr(0,e.length-o.length))+o;if(c=e.match(wx))return xA(c,w,x);if(e.match(/^#+0+$/))return x+rs(w,e.length-e.indexOf("0"));if(c=e.match(vx))return o=(""+r).replace(/^([^\.]+)$/,"$1."+Wn(c[1])).replace(/\.$/,"."+Wn(c[1])),o=o.replace(/\.(\d*)$/,function(b,O){return"."+O+Fr("0",Wn(c[1]).length-O.length)}),e.indexOf("0.")!==-1?o:o.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),c=e.match(/^(0*)\.(#*)$/))return x+(""+w).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,c[1].length?"0.":".");if(c=e.match(/^#{1,3},##0(\.?)$/))return x+Ta(""+w);if(c=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ps(t,e,-r):Ta(""+r)+"."+Fr("0",c[1].length);if(c=e.match(/^#,#*,#0/))return ps(t,e.replace(/^#,#*,/,""),r);if(c=e.match(/^([0#]+)(\\?-([0#]+))+$/))return o=fl(ps(t,e.replace(/[\\-]/g,""),r)),d=0,fl(fl(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return d<o.length?o.charAt(d++):b==="0"?"0":""}));if(e.match(Ex))return o=ps(t,"##########",r),"("+o.substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6);var E="";if(c=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return d=Math.min(c[4].length,7),m=h0(w,Math.pow(10,d)-1,!1),o=""+x,E=Us("n",c[1],m[1]),E.charAt(E.length-1)==" "&&(E=E.substr(0,E.length-1)+"0"),o+=E+c[2]+"/"+c[3],E=c0(m[2],d),E.length<c[4].length&&(E=Wn(c[4].substr(c[4].length-E.length))+E),o+=E,o;if(c=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return d=Math.min(Math.max(c[1].length,c[4].length),7),m=h0(w,Math.pow(10,d)-1,!0),x+(m[0]||(m[1]?"":"0"))+" "+(m[1]?u1(m[1],d)+c[2]+"/"+c[3]+c0(m[2],d):Fr(" ",2*d+1+c[2].length+c[3].length));if(c=e.match(/^[#0?]+$/))return o=""+r,e.length<=o.length?o:Wn(e.substr(0,e.length-o.length))+o;if(c=e.match(/^([#0]+)\.([#0]+)$/)){o=""+r.toFixed(Math.min(c[2].length,10)).replace(/([^0])0+$/,"$1"),d=o.indexOf(".");var A=e.indexOf(".")-d,C=e.length-o.length-A;return Wn(e.substr(0,A)+o+e.substr(e.length-C))}if(c=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ps(t,e,-r):Ta(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?rs(0,3-b.length):"")+b})+"."+rs(0,c[1].length);switch(e){case"###,###":case"##,###":case"#,###":var N=Ta(""+w);return N!=="0"?x+N:"";default:if(e.match(/\.[0#?]*$/))return ps(t,e.slice(0,e.lastIndexOf(".")),r)+Wn(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Us(t,e,r){return(r|0)===r?ps(t,e,r):Mi(t,e,r)}function EA(t){for(var e=[],r=!1,i=0,o=0;i<t.length;++i)switch(t.charCodeAt(i)){case 34:r=!r;break;case 95:case 42:case 92:++i;break;case 59:e[e.length]=t.substr(o,i-o),o=i+1}if(e[e.length]=t.substr(o),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var Ax=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Sx(t){for(var e=0,r="",i="";e<t.length;)switch(r=t.charAt(e)){case"G":f0(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(i=r;t.charAt(e++)!=="]"&&e<t.length;)i+=t.charAt(e);if(i.match(Ax))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function _A(t,e,r,i){for(var o=[],c="",d=0,m="",w="t",x,E,A,C="H";d<t.length;)switch(m=t.charAt(d)){case"G":if(!f0(t,d))throw new Error("unrecognized character "+m+" in "+t);o[o.length]={t:"G",v:"General"},d+=7;break;case'"':for(c="";(A=t.charCodeAt(++d))!==34&&d<t.length;)c+=String.fromCharCode(A);o[o.length]={t:"t",v:c},++d;break;case"\\":var N=t.charAt(++d),b=N==="("||N===")"?N:"t";o[o.length]={t:b,v:N},++d;break;case"_":o[o.length]={t:"t",v:" "},d+=2;break;case"@":o[o.length]={t:"T",v:e},++d;break;case"B":case"b":if(t.charAt(d+1)==="1"||t.charAt(d+1)==="2"){if(x==null&&(x=Kc(e,r,t.charAt(d+1)==="2"),x==null))return"";o[o.length]={t:"X",v:t.substr(d,2)},w=m,d+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":m=m.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||x==null&&(x=Kc(e,r),x==null))return"";for(c=m;++d<t.length&&t.charAt(d).toLowerCase()===m;)c+=m;m==="m"&&w.toLowerCase()==="h"&&(m="M"),m==="h"&&(m=C),o[o.length]={t:m,v:c},w=m;break;case"A":case"a":case"":var O={t:m,v:m};if(x==null&&(x=Kc(e,r)),t.substr(d,3).toUpperCase()==="A/P"?(x!=null&&(O.v=x.H>=12?"P":"A"),O.t="T",C="h",d+=3):t.substr(d,5).toUpperCase()==="AM/PM"?(x!=null&&(O.v=x.H>=12?"PM":"AM"),O.t="T",d+=5,C="h"):t.substr(d,5).toUpperCase()==="/"?(x!=null&&(O.v=x.H>=12?"":""),O.t="T",d+=5,C="h"):(O.t="t",++d),x==null&&O.t==="T")return"";o[o.length]=O,w=m;break;case"[":for(c=m;t.charAt(d++)!=="]"&&d<t.length;)c+=t.charAt(d);if(c.slice(-1)!=="]")throw'unterminated "[" block: |'+c+"|";if(c.match(Ax)){if(x==null&&(x=Kc(e,r),x==null))return"";o[o.length]={t:"Z",v:c.toLowerCase()},w=c.charAt(1)}else c.indexOf("$")>-1&&(c=(c.match(/\$([^-\[\]]*)/)||[])[1]||"$",Sx(t)||(o[o.length]={t:"t",v:c}));break;case".":if(x!=null){for(c=m;++d<t.length&&(m=t.charAt(d))==="0";)c+=m;o[o.length]={t:"s",v:c};break}case"0":case"#":for(c=m;++d<t.length&&"0#?.,E+-%".indexOf(m=t.charAt(d))>-1;)c+=m;o[o.length]={t:"n",v:c};break;case"?":for(c=m;t.charAt(++d)===m;)c+=m;o[o.length]={t:m,v:c},w=m;break;case"*":++d,(t.charAt(d)==" "||t.charAt(d)=="*")&&++d;break;case"(":case")":o[o.length]={t:i===1?"t":m,v:m},++d;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(c=m;d<t.length&&"0123456789".indexOf(t.charAt(++d))>-1;)c+=t.charAt(d);o[o.length]={t:"D",v:c};break;case" ":o[o.length]={t:m,v:m},++d;break;case"$":o[o.length]={t:"t",v:"$"},++d;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(m)===-1)throw new Error("unrecognized character "+m+" in "+t);o[o.length]={t:"t",v:m},++d;break}var k=0,K=0,z;for(d=o.length-1,w="t";d>=0;--d)switch(o[d].t){case"h":case"H":o[d].t=C,w="h",k<1&&(k=1);break;case"s":(z=o[d].v.match(/\.0+$/))&&(K=Math.max(K,z[0].length-1)),k<3&&(k=3);case"d":case"y":case"M":case"e":w=o[d].t;break;case"m":w==="s"&&(o[d].t="M",k<2&&(k=2));break;case"X":break;case"Z":k<1&&o[d].v.match(/[Hh]/)&&(k=1),k<2&&o[d].v.match(/[Mm]/)&&(k=2),k<3&&o[d].v.match(/[Ss]/)&&(k=3)}switch(k){case 0:break;case 1:x.u>=.5&&(x.u=0,++x.S),x.S>=60&&(x.S=0,++x.M),x.M>=60&&(x.M=0,++x.H);break;case 2:x.u>=.5&&(x.u=0,++x.S),x.S>=60&&(x.S=0,++x.M);break}var B="",Q;for(d=0;d<o.length;++d)switch(o[d].t){case"t":case"T":case" ":case"D":break;case"X":o[d].v="",o[d].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[d].v=hA(o[d].t.charCodeAt(0),o[d].v,x,K),o[d].t="t";break;case"n":case"?":for(Q=d+1;o[Q]!=null&&((m=o[Q].t)==="?"||m==="D"||(m===" "||m==="t")&&o[Q+1]!=null&&(o[Q+1].t==="?"||o[Q+1].t==="t"&&o[Q+1].v==="/")||o[d].t==="("&&(m===" "||m==="n"||m===")")||m==="t"&&(o[Q].v==="/"||o[Q].v===" "&&o[Q+1]!=null&&o[Q+1].t=="?"));)o[d].v+=o[Q].v,o[Q]={v:"",t:";"},++Q;B+=o[d].v,d=Q-1;break;case"G":o[d].t="t",o[d].v=Yh(e,r);break}var Se="",ve,G;if(B.length>0){B.charCodeAt(0)==40?(ve=e<0&&B.charCodeAt(0)===45?-e:e,G=Us("n",B,ve)):(ve=e<0&&i>1?-e:e,G=Us("n",B,ve),ve<0&&o[0]&&o[0].t=="t"&&(G=G.substr(1),o[0].v="-"+o[0].v)),Q=G.length-1;var fe=o.length;for(d=0;d<o.length;++d)if(o[d]!=null&&o[d].t!="t"&&o[d].v.indexOf(".")>-1){fe=d;break}var Z=o.length;if(fe===o.length&&G.indexOf("E")===-1){for(d=o.length-1;d>=0;--d)o[d]==null||"n?".indexOf(o[d].t)===-1||(Q>=o[d].v.length-1?(Q-=o[d].v.length,o[d].v=G.substr(Q+1,o[d].v.length)):Q<0?o[d].v="":(o[d].v=G.substr(0,Q+1),Q=-1),o[d].t="t",Z=d);Q>=0&&Z<o.length&&(o[Z].v=G.substr(0,Q+1)+o[Z].v)}else if(fe!==o.length&&G.indexOf("E")===-1){for(Q=G.indexOf(".")-1,d=fe;d>=0;--d)if(!(o[d]==null||"n?".indexOf(o[d].t)===-1)){for(E=o[d].v.indexOf(".")>-1&&d===fe?o[d].v.indexOf(".")-1:o[d].v.length-1,Se=o[d].v.substr(E+1);E>=0;--E)Q>=0&&(o[d].v.charAt(E)==="0"||o[d].v.charAt(E)==="#")&&(Se=G.charAt(Q--)+Se);o[d].v=Se,o[d].t="t",Z=d}for(Q>=0&&Z<o.length&&(o[Z].v=G.substr(0,Q+1)+o[Z].v),Q=G.indexOf(".")+1,d=fe;d<o.length;++d)if(!(o[d]==null||"n?(".indexOf(o[d].t)===-1&&d!==fe)){for(E=o[d].v.indexOf(".")>-1&&d===fe?o[d].v.indexOf(".")+1:0,Se=o[d].v.substr(0,E);E<o[d].v.length;++E)Q<G.length&&(Se+=G.charAt(Q++));o[d].v=Se,o[d].t="t",Z=d}}}for(d=0;d<o.length;++d)o[d]!=null&&"n?".indexOf(o[d].t)>-1&&(ve=i>1&&e<0&&d>0&&o[d-1].v==="-"?-e:e,o[d].v=Us(o[d].t,o[d].v,ve),o[d].t="t");var Ne="";for(d=0;d!==o.length;++d)o[d]!=null&&(Ne+=o[d].v);return Ne}var Lp=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Fp(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function AA(t,e){var r=EA(t),i=r.length,o=r[i-1].indexOf("@");if(i<4&&o>-1&&--i,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||o>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=o>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=o>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=o>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var c=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[i,c];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var d=r[0].match(Lp),m=r[1].match(Lp);return Fp(e,d)?[i,r[0]]:Fp(e,m)?[i,r[1]]:[i,r[d!=null&&m!=null?2:1]]}return[i,c]}function Oa(t,e,r){r==null&&(r={});var i="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?i=r.dateNF:i=t;break;case"number":t==14&&r.dateNF?i=r.dateNF:i=(r.table!=null?r.table:Br)[t],i==null&&(i=r.table&&r.table[Dp[t]]||Br[Dp[t]]),i==null&&(i=iA[t]||"General");break}if(f0(i,0))return Yh(e,r);e instanceof Date&&(e=px(e,r.date1904));var o=AA(i,e);if(f0(o[1]))return Yh(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return _A(o[1],e,r,o[0])}function Tx(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Br[r]==null){e<0&&(e=r);continue}if(Br[r]==t){e=r;break}}e<0&&(e=391)}return Br[e]=t,e}function R0(t){for(var e=0;e!=392;++e)t[e]!==void 0&&Tx(t[e],e)}function b0(){Br=nA()}var Cx=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function SA(t){var e=typeof t=="number"?Br[t]:t;return e=e.replace(Cx,"(\\d+)"),new RegExp("^"+e+"$")}function TA(t,e,r){var i=-1,o=-1,c=-1,d=-1,m=-1,w=-1;(e.match(Cx)||[]).forEach(function(A,C){var N=parseInt(r[C+1],10);switch(A.toLowerCase().charAt(0)){case"y":i=N;break;case"d":c=N;break;case"h":d=N;break;case"s":w=N;break;case"m":d>=0?m=N:o=N;break}}),w>=0&&m==-1&&o>=0&&(m=o,o=-1);var x=(""+(i>=0?i:new Date().getFullYear())).slice(-4)+"-"+("00"+(o>=1?o:1)).slice(-2)+"-"+("00"+(c>=1?c:1)).slice(-2);x.length==7&&(x="0"+x),x.length==8&&(x="20"+x);var E=("00"+(d>=0?d:0)).slice(-2)+":"+("00"+(m>=0?m:0)).slice(-2)+":"+("00"+(w>=0?w:0)).slice(-2);return d==-1&&m==-1&&w==-1?x:i==-1&&o==-1&&c==-1?E:x+"T"+E}var CA=(function(){var t={};t.version="1.2.0";function e(){for(var G=0,fe=new Array(256),Z=0;Z!=256;++Z)G=Z,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,fe[Z]=G;return typeof Int32Array<"u"?new Int32Array(fe):fe}var r=e();function i(G){var fe=0,Z=0,Ne=0,Te=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Ne=0;Ne!=256;++Ne)Te[Ne]=G[Ne];for(Ne=0;Ne!=256;++Ne)for(Z=G[Ne],fe=256+Ne;fe<4096;fe+=256)Z=Te[fe]=Z>>>8^G[Z&255];var we=[];for(Ne=1;Ne!=16;++Ne)we[Ne-1]=typeof Int32Array<"u"?Te.subarray(Ne*256,Ne*256+256):Te.slice(Ne*256,Ne*256+256);return we}var o=i(r),c=o[0],d=o[1],m=o[2],w=o[3],x=o[4],E=o[5],A=o[6],C=o[7],N=o[8],b=o[9],O=o[10],k=o[11],K=o[12],z=o[13],B=o[14];function Q(G,fe){for(var Z=fe^-1,Ne=0,Te=G.length;Ne<Te;)Z=Z>>>8^r[(Z^G.charCodeAt(Ne++))&255];return~Z}function Se(G,fe){for(var Z=fe^-1,Ne=G.length-15,Te=0;Te<Ne;)Z=B[G[Te++]^Z&255]^z[G[Te++]^Z>>8&255]^K[G[Te++]^Z>>16&255]^k[G[Te++]^Z>>>24]^O[G[Te++]]^b[G[Te++]]^N[G[Te++]]^C[G[Te++]]^A[G[Te++]]^E[G[Te++]]^x[G[Te++]]^w[G[Te++]]^m[G[Te++]]^d[G[Te++]]^c[G[Te++]]^r[G[Te++]];for(Ne+=15;Te<Ne;)Z=Z>>>8^r[(Z^G[Te++])&255];return~Z}function ve(G,fe){for(var Z=fe^-1,Ne=0,Te=G.length,we=0,Re=0;Ne<Te;)we=G.charCodeAt(Ne++),we<128?Z=Z>>>8^r[(Z^we)&255]:we<2048?(Z=Z>>>8^r[(Z^(192|we>>6&31))&255],Z=Z>>>8^r[(Z^(128|we&63))&255]):we>=55296&&we<57344?(we=(we&1023)+64,Re=G.charCodeAt(Ne++)&1023,Z=Z>>>8^r[(Z^(240|we>>8&7))&255],Z=Z>>>8^r[(Z^(128|we>>2&63))&255],Z=Z>>>8^r[(Z^(128|Re>>6&15|(we&3)<<4))&255],Z=Z>>>8^r[(Z^(128|Re&63))&255]):(Z=Z>>>8^r[(Z^(224|we>>12&15))&255],Z=Z>>>8^r[(Z^(128|we>>6&63))&255],Z=Z>>>8^r[(Z^(128|we&63))&255]);return~Z}return t.table=r,t.bstr=Q,t.buf=Se,t.str=ve,t})(),lr=(function(){var e={};e.version="1.2.1";function r(L,U){for(var H=L.split("/"),V=U.split("/"),X=0,q=0,pe=Math.min(H.length,V.length);X<pe;++X){if(q=H[X].length-V[X].length)return q;if(H[X]!=V[X])return H[X]<V[X]?-1:1}return H.length-V.length}function i(L){if(L.charAt(L.length-1)=="/")return L.slice(0,-1).indexOf("/")===-1?L:i(L.slice(0,-1));var U=L.lastIndexOf("/");return U===-1?L:L.slice(0,U+1)}function o(L){if(L.charAt(L.length-1)=="/")return o(L.slice(0,-1));var U=L.lastIndexOf("/");return U===-1?L:L.slice(U+1)}function c(L,U){typeof U=="string"&&(U=new Date(U));var H=U.getHours();H=H<<6|U.getMinutes(),H=H<<5|U.getSeconds()>>>1,L.write_shift(2,H);var V=U.getFullYear()-1980;V=V<<4|U.getMonth()+1,V=V<<5|U.getDate(),L.write_shift(2,V)}function d(L){var U=L.read_shift(2)&65535,H=L.read_shift(2)&65535,V=new Date,X=H&31;H>>>=5;var q=H&15;H>>>=4,V.setMilliseconds(0),V.setFullYear(H+1980),V.setMonth(q-1),V.setDate(X);var pe=U&31;U>>>=5;var Ie=U&63;return U>>>=6,V.setHours(U),V.setMinutes(Ie),V.setSeconds(pe<<1),V}function m(L){xi(L,0);for(var U={},H=0;L.l<=L.length-4;){var V=L.read_shift(2),X=L.read_shift(2),q=L.l+X,pe={};V===21589&&(H=L.read_shift(1),H&1&&(pe.mtime=L.read_shift(4)),X>5&&(H&2&&(pe.atime=L.read_shift(4)),H&4&&(pe.ctime=L.read_shift(4))),pe.mtime&&(pe.mt=new Date(pe.mtime*1e3))),L.l=q,U[V]=pe}return U}var w;function x(){return w||(w={})}function E(L,U){if(L[0]==80&&L[1]==75)return Es(L,U);if((L[0]|32)==109&&(L[1]|32)==105)return _s(L,U);if(L.length<512)throw new Error("CFB file size "+L.length+" < 512");var H=3,V=512,X=0,q=0,pe=0,Ie=0,he=0,me=[],ye=L.slice(0,512);xi(ye,0);var be=A(ye);switch(H=be[0],H){case 3:V=512;break;case 4:V=4096;break;case 0:if(be[1]==0)return Es(L,U);default:throw new Error("Major Version: Expected 3 or 4 saw "+H)}V!==512&&(ye=L.slice(0,V),xi(ye,28));var Be=L.slice(0,V);C(ye,H);var He=ye.read_shift(4,"i");if(H===3&&He!==0)throw new Error("# Directory Sectors: Expected 0 saw "+He);ye.l+=4,pe=ye.read_shift(4,"i"),ye.l+=4,ye.chk("00100000","Mini Stream Cutoff Size: "),Ie=ye.read_shift(4,"i"),X=ye.read_shift(4,"i"),he=ye.read_shift(4,"i"),q=ye.read_shift(4,"i");for(var Ye=-1,Pe=0;Pe<109&&(Ye=ye.read_shift(4,"i"),!(Ye<0));++Pe)me[Pe]=Ye;var St=N(L,V);k(he,q,St,V,me);var Ce=z(St,pe,me,V);Ce[pe].name="!Directory",X>0&&Ie!==Re&&(Ce[Ie].name="!MiniFAT"),Ce[me[0]].name="!FAT",Ce.fat_addrs=me,Ce.ssz=V;var ar={},bt=[],Yn=[],os=[];B(pe,Ce,St,bt,X,ar,Yn,Ie),b(Yn,os,bt),bt.shift();var Lt={FileIndex:Yn,FullPaths:os};return U&&U.raw&&(Lt.raw={header:Be,sectors:St}),Lt}function A(L){if(L[L.l]==80&&L[L.l+1]==75)return[0,0];L.chk(at,"Header Signature: "),L.l+=16;var U=L.read_shift(2,"u");return[L.read_shift(2,"u"),U]}function C(L,U){var H=9;switch(L.l+=2,H=L.read_shift(2)){case 9:if(U!=3)throw new Error("Sector Shift: Expected 9 saw "+H);break;case 12:if(U!=4)throw new Error("Sector Shift: Expected 12 saw "+H);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+H)}L.chk("0600","Mini Sector Shift: "),L.chk("000000000000","Reserved: ")}function N(L,U){for(var H=Math.ceil(L.length/U)-1,V=[],X=1;X<H;++X)V[X-1]=L.slice(X*U,(X+1)*U);return V[H-1]=L.slice(H*U),V}function b(L,U,H){for(var V=0,X=0,q=0,pe=0,Ie=0,he=H.length,me=[],ye=[];V<he;++V)me[V]=ye[V]=V,U[V]=H[V];for(;Ie<ye.length;++Ie)V=ye[Ie],X=L[V].L,q=L[V].R,pe=L[V].C,me[V]===V&&(X!==-1&&me[X]!==X&&(me[V]=me[X]),q!==-1&&me[q]!==q&&(me[V]=me[q])),pe!==-1&&(me[pe]=V),X!==-1&&V!=me[V]&&(me[X]=me[V],ye.lastIndexOf(X)<Ie&&ye.push(X)),q!==-1&&V!=me[V]&&(me[q]=me[V],ye.lastIndexOf(q)<Ie&&ye.push(q));for(V=1;V<he;++V)me[V]===V&&(q!==-1&&me[q]!==q?me[V]=me[q]:X!==-1&&me[X]!==X&&(me[V]=me[X]));for(V=1;V<he;++V)if(L[V].type!==0){if(Ie=V,Ie!=me[Ie])do Ie=me[Ie],U[V]=U[Ie]+"/"+U[V];while(Ie!==0&&me[Ie]!==-1&&Ie!=me[Ie]);me[V]=-1}for(U[0]+="/",V=1;V<he;++V)L[V].type!==2&&(U[V]+="/")}function O(L,U,H){for(var V=L.start,X=L.size,q=[],pe=V;H&&X>0&&pe>=0;)q.push(U.slice(pe*we,pe*we+we)),X-=we,pe=lo(H,pe*4);return q.length===0?Oe(0):In(q).slice(0,L.size)}function k(L,U,H,V,X){var q=Re;if(L===Re){if(U!==0)throw new Error("DIFAT chain shorter than expected")}else if(L!==-1){var pe=H[L],Ie=(V>>>2)-1;if(!pe)return;for(var he=0;he<Ie&&(q=lo(pe,he*4))!==Re;++he)X.push(q);k(lo(pe,V-4),U-1,H,V,X)}}function K(L,U,H,V,X){var q=[],pe=[];X||(X=[]);var Ie=V-1,he=0,me=0;for(he=U;he>=0;){X[he]=!0,q[q.length]=he,pe.push(L[he]);var ye=H[Math.floor(he*4/V)];if(me=he*4&Ie,V<4+me)throw new Error("FAT boundary crossed: "+he+" 4 "+V);if(!L[ye])break;he=lo(L[ye],me)}return{nodes:q,data:Gp([pe])}}function z(L,U,H,V){var X=L.length,q=[],pe=[],Ie=[],he=[],me=V-1,ye=0,be=0,Be=0,He=0;for(ye=0;ye<X;++ye)if(Ie=[],Be=ye+U,Be>=X&&(Be-=X),!pe[Be]){he=[];var Ye=[];for(be=Be;be>=0;){Ye[be]=!0,pe[be]=!0,Ie[Ie.length]=be,he.push(L[be]);var Pe=H[Math.floor(be*4/V)];if(He=be*4&me,V<4+He)throw new Error("FAT boundary crossed: "+be+" 4 "+V);if(!L[Pe]||(be=lo(L[Pe],He),Ye[be]))break}q[Be]={nodes:Ie,data:Gp([he])}}return q}function B(L,U,H,V,X,q,pe,Ie){for(var he=0,me=V.length?2:0,ye=U[L].data,be=0,Be=0,He;be<ye.length;be+=128){var Ye=ye.slice(be,be+128);xi(Ye,64),Be=Ye.read_shift(2),He=p1(Ye,0,Be-me),V.push(He);var Pe={name:He,type:Ye.read_shift(1),color:Ye.read_shift(1),L:Ye.read_shift(4,"i"),R:Ye.read_shift(4,"i"),C:Ye.read_shift(4,"i"),clsid:Ye.read_shift(16),state:Ye.read_shift(4,"i"),start:0,size:0},St=Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2);St!==0&&(Pe.ct=Q(Ye,Ye.l-8));var Ce=Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2);Ce!==0&&(Pe.mt=Q(Ye,Ye.l-8)),Pe.start=Ye.read_shift(4,"i"),Pe.size=Ye.read_shift(4,"i"),Pe.size<0&&Pe.start<0&&(Pe.size=Pe.type=0,Pe.start=Re,Pe.name=""),Pe.type===5?(he=Pe.start,X>0&&he!==Re&&(U[he].name="!StreamData")):Pe.size>=4096?(Pe.storage="fat",U[Pe.start]===void 0&&(U[Pe.start]=K(H,Pe.start,U.fat_addrs,U.ssz)),U[Pe.start].name=Pe.name,Pe.content=U[Pe.start].data.slice(0,Pe.size)):(Pe.storage="minifat",Pe.size<0?Pe.size=0:he!==Re&&Pe.start!==Re&&U[he]&&(Pe.content=O(Pe,U[he].data,(U[Ie]||{}).data))),Pe.content&&xi(Pe.content,0),q[He]=Pe,pe.push(Pe)}}function Q(L,U){return new Date((wi(L,U+4)/1e7*Math.pow(2,32)+wi(L,U)/1e7-11644473600)*1e3)}function Se(L,U){return x(),E(w.readFileSync(L),U)}function ve(L,U){var H=U&&U.type;switch(H||Qt&&Buffer.isBuffer(L)&&(H="buffer"),H||"base64"){case"file":return Se(L,U);case"base64":return E(ts(zs(L)),U);case"binary":return E(ts(L),U)}return E(L,U)}function G(L,U){var H=U||{},V=H.root||"Root Entry";if(L.FullPaths||(L.FullPaths=[]),L.FileIndex||(L.FileIndex=[]),L.FullPaths.length!==L.FileIndex.length)throw new Error("inconsistent CFB structure");L.FullPaths.length===0&&(L.FullPaths[0]=V+"/",L.FileIndex[0]={name:V,type:5}),H.CLSID&&(L.FileIndex[0].clsid=H.CLSID),fe(L)}function fe(L){var U="Sh33tJ5";if(!lr.find(L,"/"+U)){var H=Oe(4);H[0]=55,H[1]=H[3]=50,H[2]=54,L.FileIndex.push({name:U,type:2,content:H,size:4,L:69,R:69,C:69}),L.FullPaths.push(L.FullPaths[0]+U),Z(L)}}function Z(L,U){G(L);for(var H=!1,V=!1,X=L.FullPaths.length-1;X>=0;--X){var q=L.FileIndex[X];switch(q.type){case 0:V?H=!0:(L.FileIndex.pop(),L.FullPaths.pop());break;case 1:case 2:case 5:V=!0,isNaN(q.R*q.L*q.C)&&(H=!0),q.R>-1&&q.L>-1&&q.R==q.L&&(H=!0);break;default:H=!0;break}}if(!(!H&&!U)){var pe=new Date(1987,1,19),Ie=0,he=Object.create?Object.create(null):{},me=[];for(X=0;X<L.FullPaths.length;++X)he[L.FullPaths[X]]=!0,L.FileIndex[X].type!==0&&me.push([L.FullPaths[X],L.FileIndex[X]]);for(X=0;X<me.length;++X){var ye=i(me[X][0]);V=he[ye],V||(me.push([ye,{name:o(ye).replace("/",""),type:1,clsid:pt,ct:pe,mt:pe,content:null}]),he[ye]=!0)}for(me.sort(function(He,Ye){return r(He[0],Ye[0])}),L.FullPaths=[],L.FileIndex=[],X=0;X<me.length;++X)L.FullPaths[X]=me[X][0],L.FileIndex[X]=me[X][1];for(X=0;X<me.length;++X){var be=L.FileIndex[X],Be=L.FullPaths[X];if(be.name=o(Be).replace("/",""),be.L=be.R=be.C=-(be.color=1),be.size=be.content?be.content.length:0,be.start=0,be.clsid=be.clsid||pt,X===0)be.C=me.length>1?1:-1,be.size=0,be.type=5;else if(Be.slice(-1)=="/"){for(Ie=X+1;Ie<me.length&&i(L.FullPaths[Ie])!=Be;++Ie);for(be.C=Ie>=me.length?-1:Ie,Ie=X+1;Ie<me.length&&i(L.FullPaths[Ie])!=i(Be);++Ie);be.R=Ie>=me.length?-1:Ie,be.type=1}else i(L.FullPaths[X+1]||"")==i(Be)&&(be.R=X+1),be.type=2}}}function Ne(L,U){var H=U||{};if(H.fileType=="mad")return un(L,H);if(Z(L),H.fileType==="zip")return bn(L,H);var V=(function(He){for(var Ye=0,Pe=0,St=0;St<He.FileIndex.length;++St){var Ce=He.FileIndex[St];if(Ce.content){var ar=Ce.content.length;ar>0&&(ar<4096?Ye+=ar+63>>6:Pe+=ar+511>>9)}}for(var bt=He.FullPaths.length+3>>2,Yn=Ye+7>>3,os=Ye+127>>7,Lt=Yn+Pe+bt+os,Et=Lt+127>>7,Ft=Et<=109?0:Math.ceil((Et-109)/127);Lt+Et+Ft+127>>7>Et;)Ft=++Et<=109?0:Math.ceil((Et-109)/127);var pr=[1,Ft,Et,os,bt,Pe,Ye,0];return He.FileIndex[0].size=Ye<<6,pr[7]=(He.FileIndex[0].start=pr[0]+pr[1]+pr[2]+pr[3]+pr[4]+pr[5])+(pr[6]+7>>3),pr})(L),X=Oe(V[7]<<9),q=0,pe=0;{for(q=0;q<8;++q)X.write_shift(1,le[q]);for(q=0;q<8;++q)X.write_shift(2,0);for(X.write_shift(2,62),X.write_shift(2,3),X.write_shift(2,65534),X.write_shift(2,9),X.write_shift(2,6),q=0;q<3;++q)X.write_shift(2,0);for(X.write_shift(4,0),X.write_shift(4,V[2]),X.write_shift(4,V[0]+V[1]+V[2]+V[3]-1),X.write_shift(4,0),X.write_shift(4,4096),X.write_shift(4,V[3]?V[0]+V[1]+V[2]-1:Re),X.write_shift(4,V[3]),X.write_shift(-4,V[1]?V[0]-1:Re),X.write_shift(4,V[1]),q=0;q<109;++q)X.write_shift(-4,q<V[2]?V[1]+q:-1)}if(V[1])for(pe=0;pe<V[1];++pe){for(;q<236+pe*127;++q)X.write_shift(-4,q<V[2]?V[1]+q:-1);X.write_shift(-4,pe===V[1]-1?Re:pe+1)}var Ie=function(He){for(pe+=He;q<pe-1;++q)X.write_shift(-4,q+1);He&&(++q,X.write_shift(-4,Re))};for(pe=q=0,pe+=V[1];q<pe;++q)X.write_shift(-4,Ke.DIFSECT);for(pe+=V[2];q<pe;++q)X.write_shift(-4,Ke.FATSECT);Ie(V[3]),Ie(V[4]);for(var he=0,me=0,ye=L.FileIndex[0];he<L.FileIndex.length;++he)ye=L.FileIndex[he],ye.content&&(me=ye.content.length,!(me<4096)&&(ye.start=pe,Ie(me+511>>9)));for(Ie(V[6]+7>>3);X.l&511;)X.write_shift(-4,Ke.ENDOFCHAIN);for(pe=q=0,he=0;he<L.FileIndex.length;++he)ye=L.FileIndex[he],ye.content&&(me=ye.content.length,!(!me||me>=4096)&&(ye.start=pe,Ie(me+63>>6)));for(;X.l&511;)X.write_shift(-4,Ke.ENDOFCHAIN);for(q=0;q<V[4]<<2;++q){var be=L.FullPaths[q];if(!be||be.length===0){for(he=0;he<17;++he)X.write_shift(4,0);for(he=0;he<3;++he)X.write_shift(4,-1);for(he=0;he<12;++he)X.write_shift(4,0);continue}ye=L.FileIndex[q],q===0&&(ye.start=ye.size?ye.start-1:Re);var Be=q===0&&H.root||ye.name;if(me=2*(Be.length+1),X.write_shift(64,Be,"utf16le"),X.write_shift(2,me),X.write_shift(1,ye.type),X.write_shift(1,ye.color),X.write_shift(-4,ye.L),X.write_shift(-4,ye.R),X.write_shift(-4,ye.C),ye.clsid)X.write_shift(16,ye.clsid,"hex");else for(he=0;he<4;++he)X.write_shift(4,0);X.write_shift(4,ye.state||0),X.write_shift(4,0),X.write_shift(4,0),X.write_shift(4,0),X.write_shift(4,0),X.write_shift(4,ye.start),X.write_shift(4,ye.size),X.write_shift(4,0)}for(q=1;q<L.FileIndex.length;++q)if(ye=L.FileIndex[q],ye.size>=4096)if(X.l=ye.start+1<<9,Qt&&Buffer.isBuffer(ye.content))ye.content.copy(X,X.l,0,ye.size),X.l+=ye.size+511&-512;else{for(he=0;he<ye.size;++he)X.write_shift(1,ye.content[he]);for(;he&511;++he)X.write_shift(1,0)}for(q=1;q<L.FileIndex.length;++q)if(ye=L.FileIndex[q],ye.size>0&&ye.size<4096)if(Qt&&Buffer.isBuffer(ye.content))ye.content.copy(X,X.l,0,ye.size),X.l+=ye.size+63&-64;else{for(he=0;he<ye.size;++he)X.write_shift(1,ye.content[he]);for(;he&63;++he)X.write_shift(1,0)}if(Qt)X.l=X.length;else for(;X.l<X.length;)X.write_shift(1,0);return X}function Te(L,U){var H=L.FullPaths.map(function(he){return he.toUpperCase()}),V=H.map(function(he){var me=he.split("/");return me[me.length-(he.slice(-1)=="/"?2:1)]}),X=!1;U.charCodeAt(0)===47?(X=!0,U=H[0].slice(0,-1)+U):X=U.indexOf("/")!==-1;var q=U.toUpperCase(),pe=X===!0?H.indexOf(q):V.indexOf(q);if(pe!==-1)return L.FileIndex[pe];var Ie=!q.match(Yc);for(q=q.replace(fu,""),Ie&&(q=q.replace(Yc,"!")),pe=0;pe<H.length;++pe)if((Ie?H[pe].replace(Yc,"!"):H[pe]).replace(fu,"")==q||(Ie?V[pe].replace(Yc,"!"):V[pe]).replace(fu,"")==q)return L.FileIndex[pe];return null}var we=64,Re=-2,at="d0cf11e0a1b11ae1",le=[208,207,17,224,161,177,26,225],pt="00000000000000000000000000000000",Ke={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Re,FREESECT:-1,HEADER_SIGNATURE:at,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:pt,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function We(L,U,H){x();var V=Ne(L,H);w.writeFileSync(U,V)}function nt(L){for(var U=new Array(L.length),H=0;H<L.length;++H)U[H]=String.fromCharCode(L[H]);return U.join("")}function $e(L,U){var H=Ne(L,U);switch(U&&U.type||"buffer"){case"file":return x(),w.writeFileSync(U.filename,H),H;case"binary":return typeof H=="string"?H:nt(H);case"base64":return Cu(typeof H=="string"?H:nt(H));case"buffer":if(Qt)return Buffer.isBuffer(H)?H:Ys(H);case"array":return typeof H=="string"?ts(H):H}return H}var ue;function j(L){try{var U=L.InflateRaw,H=new U;if(H._processChunk(new Uint8Array([3,0]),H._finishFlushFlag),H.bytesRead)ue=L;else throw new Error("zlib does not expose bytesRead")}catch(V){console.error("cannot use native zlib: "+(V.message||V))}}function ae(L,U){if(!ue)return Ai(L,U);var H=ue.InflateRaw,V=new H,X=V._processChunk(L.slice(L.l),V._finishFlushFlag);return L.l+=V.bytesRead,X}function ee(L){return ue?ue.deflateRawSync(L):Ui(L)}var re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],qe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function De(L){var U=(L<<1|L<<11)&139536|(L<<5|L<<15)&558144;return(U>>16|U>>8|U)&255}for(var Xe=typeof Uint8Array<"u",Ve=Xe?new Uint8Array(256):[],Tt=0;Tt<256;++Tt)Ve[Tt]=De(Tt);function Mt(L,U){var H=Ve[L&255];return U<=8?H>>>8-U:(H=H<<8|Ve[L>>8&255],U<=16?H>>>16-U:(H=H<<8|Ve[L>>16&255],H>>>24-U))}function mt(L,U){var H=U&7,V=U>>>3;return(L[V]|(H<=6?0:L[V+1]<<8))>>>H&3}function Pt(L,U){var H=U&7,V=U>>>3;return(L[V]|(H<=5?0:L[V+1]<<8))>>>H&7}function Ar(L,U){var H=U&7,V=U>>>3;return(L[V]|(H<=4?0:L[V+1]<<8))>>>H&15}function $t(L,U){var H=U&7,V=U>>>3;return(L[V]|(H<=3?0:L[V+1]<<8))>>>H&31}function et(L,U){var H=U&7,V=U>>>3;return(L[V]|(H<=1?0:L[V+1]<<8))>>>H&127}function kt(L,U,H){var V=U&7,X=U>>>3,q=(1<<H)-1,pe=L[X]>>>V;return H<8-V||(pe|=L[X+1]<<8-V,H<16-V)||(pe|=L[X+2]<<16-V,H<24-V)||(pe|=L[X+3]<<24-V),pe&q}function Ct(L,U,H){var V=U&7,X=U>>>3;return V<=5?L[X]|=(H&7)<<V:(L[X]|=H<<V&255,L[X+1]=(H&7)>>8-V),U+3}function on(L,U,H){var V=U&7,X=U>>>3;return H=(H&1)<<V,L[X]|=H,U+1}function it(L,U,H){var V=U&7,X=U>>>3;return H<<=V,L[X]|=H&255,H>>>=8,L[X+1]=H,U+8}function Fi(L,U,H){var V=U&7,X=U>>>3;return H<<=V,L[X]|=H&255,H>>>=8,L[X+1]=H&255,L[X+2]=H>>>8,U+16}function ys(L,U){var H=L.length,V=2*H>U?2*H:U+5,X=0;if(H>=U)return L;if(Qt){var q=Rp(V);if(L.copy)L.copy(q);else for(;X<L.length;++X)q[X]=L[X];return q}else if(Xe){var pe=new Uint8Array(V);if(pe.set)pe.set(L);else for(;X<H;++X)pe[X]=L[X];return pe}return L.length=V,L}function Sr(L){for(var U=new Array(L),H=0;H<L;++H)U[H]=0;return U}function Bi(L,U,H){var V=1,X=0,q=0,pe=0,Ie=0,he=L.length,me=Xe?new Uint16Array(32):Sr(32);for(q=0;q<32;++q)me[q]=0;for(q=he;q<H;++q)L[q]=0;he=L.length;var ye=Xe?new Uint16Array(he):Sr(he);for(q=0;q<he;++q)me[X=L[q]]++,V<X&&(V=X),ye[q]=0;for(me[0]=0,q=1;q<=V;++q)me[q+16]=Ie=Ie+me[q-1]<<1;for(q=0;q<he;++q)Ie=L[q],Ie!=0&&(ye[q]=me[Ie+16]++);var be=0;for(q=0;q<he;++q)if(be=L[q],be!=0)for(Ie=Mt(ye[q],V)>>V-be,pe=(1<<V+4-be)-1;pe>=0;--pe)U[Ie|pe<<be]=be&15|q<<4;return V}var ln=Xe?new Uint16Array(512):Sr(512),is=Xe?new Uint16Array(32):Sr(32);if(!Xe){for(var Ur=0;Ur<512;++Ur)ln[Ur]=0;for(Ur=0;Ur<32;++Ur)is[Ur]=0}(function(){for(var L=[],U=0;U<32;U++)L.push(5);Bi(L,is,32);var H=[];for(U=0;U<=143;U++)H.push(8);for(;U<=255;U++)H.push(9);for(;U<=279;U++)H.push(7);for(;U<=287;U++)H.push(8);Bi(H,ln,288)})();var Xr=(function(){for(var U=Xe?new Uint8Array(32768):[],H=0,V=0;H<qe.length-1;++H)for(;V<qe[H+1];++V)U[V]=H;for(;V<32768;++V)U[V]=29;var X=Xe?new Uint8Array(259):[];for(H=0,V=0;H<oe.length-1;++H)for(;V<oe[H+1];++V)X[V]=H;function q(Ie,he){for(var me=0;me<Ie.length;){var ye=Math.min(65535,Ie.length-me),be=me+ye==Ie.length;for(he.write_shift(1,+be),he.write_shift(2,ye),he.write_shift(2,~ye&65535);ye-- >0;)he[he.l++]=Ie[me++]}return he.l}function pe(Ie,he){for(var me=0,ye=0,be=Xe?new Uint16Array(32768):[];ye<Ie.length;){var Be=Math.min(65535,Ie.length-ye);if(Be<10){for(me=Ct(he,me,+(ye+Be==Ie.length)),me&7&&(me+=8-(me&7)),he.l=me/8|0,he.write_shift(2,Be),he.write_shift(2,~Be&65535);Be-- >0;)he[he.l++]=Ie[ye++];me=he.l*8;continue}me=Ct(he,me,+(ye+Be==Ie.length)+2);for(var He=0;Be-- >0;){var Ye=Ie[ye];He=(He<<5^Ye)&32767;var Pe=-1,St=0;if((Pe=be[He])&&(Pe|=ye&-32768,Pe>ye&&(Pe-=32768),Pe<ye))for(;Ie[Pe+St]==Ie[ye+St]&&St<250;)++St;if(St>2){Ye=X[St],Ye<=22?me=it(he,me,Ve[Ye+1]>>1)-1:(it(he,me,3),me+=5,it(he,me,Ve[Ye-23]>>5),me+=3);var Ce=Ye<8?0:Ye-4>>2;Ce>0&&(Fi(he,me,St-oe[Ye]),me+=Ce),Ye=U[ye-Pe],me=it(he,me,Ve[Ye]>>3),me-=3;var ar=Ye<4?0:Ye-2>>1;ar>0&&(Fi(he,me,ye-Pe-qe[Ye]),me+=ar);for(var bt=0;bt<St;++bt)be[He]=ye&32767,He=(He<<5^Ie[ye])&32767,++ye;Be-=St-1}else Ye<=143?Ye=Ye+48:me=on(he,me,1),me=it(he,me,Ve[Ye]),be[He]=ye&32767,++ye}me=it(he,me,0)-1}return he.l=(me+7)/8|0,he.l}return function(he,me){return he.length<8?q(he,me):pe(he,me)}})();function Ui(L){var U=Oe(50+Math.floor(L.length*1.1)),H=Xr(L,U);return U.slice(0,H)}var ni=Xe?new Uint16Array(32768):Sr(32768),Eo=Xe?new Uint16Array(32768):Sr(32768),cr=Xe?new Uint16Array(128):Sr(128),Ze=1,yr=1;function Vt(L,U){var H=$t(L,U)+257;U+=5;var V=$t(L,U)+1;U+=5;var X=Ar(L,U)+4;U+=4;for(var q=0,pe=Xe?new Uint8Array(19):Sr(19),Ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],he=1,me=Xe?new Uint8Array(8):Sr(8),ye=Xe?new Uint8Array(8):Sr(8),be=pe.length,Be=0;Be<X;++Be)pe[re[Be]]=q=Pt(L,U),he<q&&(he=q),me[q]++,U+=3;var He=0;for(me[0]=0,Be=1;Be<=he;++Be)ye[Be]=He=He+me[Be-1]<<1;for(Be=0;Be<be;++Be)(He=pe[Be])!=0&&(Ie[Be]=ye[He]++);var Ye=0;for(Be=0;Be<be;++Be)if(Ye=pe[Be],Ye!=0){He=Ve[Ie[Be]]>>8-Ye;for(var Pe=(1<<7-Ye)-1;Pe>=0;--Pe)cr[He|Pe<<Ye]=Ye&7|Be<<3}var St=[];for(he=1;St.length<H+V;)switch(He=cr[et(L,U)],U+=He&7,He>>>=3){case 16:for(q=3+mt(L,U),U+=2,He=St[St.length-1];q-- >0;)St.push(He);break;case 17:for(q=3+Pt(L,U),U+=3;q-- >0;)St.push(0);break;case 18:for(q=11+et(L,U),U+=7;q-- >0;)St.push(0);break;default:St.push(He),he<He&&(he=He);break}var Ce=St.slice(0,H),ar=St.slice(H);for(Be=H;Be<286;++Be)Ce[Be]=0;for(Be=V;Be<30;++Be)ar[Be]=0;return Ze=Bi(Ce,ni,286),yr=Bi(ar,Eo,30),U}function sr(L,U){if(L[0]==3&&!(L[1]&3))return[ho(U),2];for(var H=0,V=0,X=Rp(U||1<<18),q=0,pe=X.length>>>0,Ie=0,he=0;(V&1)==0;){if(V=Pt(L,H),H+=3,V>>>1)V>>1==1?(Ie=9,he=5):(H=Vt(L,H),Ie=Ze,he=yr);else{H&7&&(H+=8-(H&7));var me=L[H>>>3]|L[(H>>>3)+1]<<8;if(H+=32,me>0)for(!U&&pe<q+me&&(X=ys(X,q+me),pe=X.length);me-- >0;)X[q++]=L[H>>>3],H+=8;continue}for(;;){!U&&pe<q+32767&&(X=ys(X,q+32767),pe=X.length);var ye=kt(L,H,Ie),be=V>>>1==1?ln[ye]:ni[ye];if(H+=be&15,be>>>=4,(be>>>8&255)===0)X[q++]=be;else{if(be==256)break;be-=257;var Be=be<8?0:be-4>>2;Be>5&&(Be=0);var He=q+oe[be];Be>0&&(He+=kt(L,H,Be),H+=Be),ye=kt(L,H,he),be=V>>>1==1?is[ye]:Eo[ye],H+=be&15,be>>>=4;var Ye=be<4?0:be-2>>1,Pe=qe[be];for(Ye>0&&(Pe+=kt(L,H,Ye),H+=Ye),!U&&pe<He&&(X=ys(X,He+100),pe=X.length);q<He;)X[q]=X[q-Pe],++q}}}return U?[X,H+7>>>3]:[X.slice(0,q),H+7>>>3]}function Ai(L,U){var H=L.slice(L.l||0),V=sr(H,U);return L.l+=V[1],V[0]}function ss(L,U){if(L)typeof console<"u"&&console.error(U);else throw new Error(U)}function Es(L,U){var H=L;xi(H,0);var V=[],X=[],q={FileIndex:V,FullPaths:X};G(q,{root:U.root});for(var pe=H.length-4;(H[pe]!=80||H[pe+1]!=75||H[pe+2]!=5||H[pe+3]!=6)&&pe>=0;)--pe;H.l=pe+4,H.l+=4;var Ie=H.read_shift(2);H.l+=6;var he=H.read_shift(4);for(H.l=he,pe=0;pe<Ie;++pe){H.l+=20;var me=H.read_shift(4),ye=H.read_shift(4),be=H.read_shift(2),Be=H.read_shift(2),He=H.read_shift(2);H.l+=8;var Ye=H.read_shift(4),Pe=m(H.slice(H.l+be,H.l+be+Be));H.l+=be+Be+He;var St=H.l;H.l=Ye+4,Bt(H,me,ye,q,Pe),H.l=St}return q}function Bt(L,U,H,V,X){L.l+=2;var q=L.read_shift(2),pe=L.read_shift(2),Ie=d(L);if(q&8257)throw new Error("Unsupported ZIP encryption");for(var he=L.read_shift(4),me=L.read_shift(4),ye=L.read_shift(4),be=L.read_shift(2),Be=L.read_shift(2),He="",Ye=0;Ye<be;++Ye)He+=String.fromCharCode(L[L.l++]);if(Be){var Pe=m(L.slice(L.l,L.l+Be));(Pe[21589]||{}).mt&&(Ie=Pe[21589].mt),((X||{})[21589]||{}).mt&&(Ie=X[21589].mt)}L.l+=Be;var St=L.slice(L.l,L.l+me);switch(pe){case 8:St=ae(L,ye);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+pe)}var Ce=!1;q&8&&(he=L.read_shift(4),he==134695760&&(he=L.read_shift(4),Ce=!0),me=L.read_shift(4),ye=L.read_shift(4)),me!=U&&ss(Ce,"Bad compressed size: "+U+" != "+me),ye!=H&&ss(Ce,"Bad uncompressed size: "+H+" != "+ye),mn(V,He,St,{unsafe:!0,mt:Ie})}function bn(L,U){var H=U||{},V=[],X=[],q=Oe(1),pe=H.compression?8:0,Ie=0,he=0,me=0,ye=0,be=0,Be=L.FullPaths[0],He=Be,Ye=L.FileIndex[0],Pe=[],St=0;for(he=1;he<L.FullPaths.length;++he)if(He=L.FullPaths[he].slice(Be.length),Ye=L.FileIndex[he],!(!Ye.size||!Ye.content||He=="Sh33tJ5")){var Ce=ye,ar=Oe(He.length);for(me=0;me<He.length;++me)ar.write_shift(1,He.charCodeAt(me)&127);ar=ar.slice(0,ar.l),Pe[be]=CA.buf(Ye.content,0);var bt=Ye.content;pe==8&&(bt=ee(bt)),q=Oe(30),q.write_shift(4,67324752),q.write_shift(2,20),q.write_shift(2,Ie),q.write_shift(2,pe),Ye.mt?c(q,Ye.mt):q.write_shift(4,0),q.write_shift(-4,Pe[be]),q.write_shift(4,bt.length),q.write_shift(4,Ye.content.length),q.write_shift(2,ar.length),q.write_shift(2,0),ye+=q.length,V.push(q),ye+=ar.length,V.push(ar),ye+=bt.length,V.push(bt),q=Oe(46),q.write_shift(4,33639248),q.write_shift(2,0),q.write_shift(2,20),q.write_shift(2,Ie),q.write_shift(2,pe),q.write_shift(4,0),q.write_shift(-4,Pe[be]),q.write_shift(4,bt.length),q.write_shift(4,Ye.content.length),q.write_shift(2,ar.length),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(4,0),q.write_shift(4,Ce),St+=q.l,X.push(q),St+=ar.length,X.push(ar),++be}return q=Oe(22),q.write_shift(4,101010256),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(2,be),q.write_shift(2,be),q.write_shift(4,St),q.write_shift(4,ye),q.write_shift(2,0),In([In(V),In(X),q])}var as={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Da(L,U){if(L.ctype)return L.ctype;var H=L.name||"",V=H.match(/\.([^\.]+)$/);return V&&as[V[1]]||U&&(V=(H=U).match(/[\.\\]([^\.\\])+$/),V&&as[V[1]])?as[V[1]]:"application/octet-stream"}function kn(L){for(var U=Cu(L),H=[],V=0;V<U.length;V+=76)H.push(U.slice(V,V+76));return H.join(`\r
`)+`\r
`}function Ks(L){var U=L.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(me){var ye=me.charCodeAt(0).toString(16).toUpperCase();return"="+(ye.length==1?"0"+ye:ye)});U=U.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),U.charAt(0)==`
`&&(U="=0D"+U.slice(1)),U=U.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var H=[],V=U.split(`\r
`),X=0;X<V.length;++X){var q=V[X];if(q.length==0){H.push("");continue}for(var pe=0;pe<q.length;){var Ie=76,he=q.slice(pe,pe+Ie);he.charAt(Ie-1)=="="?Ie--:he.charAt(Ie-2)=="="?Ie-=2:he.charAt(Ie-3)=="="&&(Ie-=3),he=q.slice(pe,pe+Ie),pe+=Ie,pe<q.length&&(he+="="),H.push(he)}}return H.join(`\r
`)}function jr(L){for(var U=[],H=0;H<L.length;++H){for(var V=L[H];H<=L.length&&V.charAt(V.length-1)=="=";)V=V.slice(0,V.length-1)+L[++H];U.push(V)}for(var X=0;X<U.length;++X)U[X]=U[X].replace(/[=][0-9A-Fa-f]{2}/g,function(q){return String.fromCharCode(parseInt(q.slice(1),16))});return ts(U.join(`\r
`))}function Si(L,U,H){for(var V="",X="",q="",pe,Ie=0;Ie<10;++Ie){var he=U[Ie];if(!he||he.match(/^\s*$/))break;var me=he.match(/^(.*?):\s*([^\s].*)$/);if(me)switch(me[1].toLowerCase()){case"content-location":V=me[2].trim();break;case"content-type":q=me[2].trim();break;case"content-transfer-encoding":X=me[2].trim();break}}switch(++Ie,X.toLowerCase()){case"base64":pe=ts(zs(U.slice(Ie).join("")));break;case"quoted-printable":pe=jr(U.slice(Ie));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+X)}var ye=mn(L,V.slice(H.length),pe,{unsafe:!0});q&&(ye.ctype=q)}function _s(L,U){if(nt(L.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var H=U&&U.root||"",V=(Qt&&Buffer.isBuffer(L)?L.toString("binary"):nt(L)).split(`\r
`),X=0,q="";for(X=0;X<V.length;++X)if(q=V[X],!!/^Content-Location:/i.test(q)&&(q=q.slice(q.indexOf("file")),H||(H=q.slice(0,q.lastIndexOf("/")+1)),q.slice(0,H.length)!=H))for(;H.length>0&&(H=H.slice(0,H.length-1),H=H.slice(0,H.lastIndexOf("/")+1),q.slice(0,H.length)!=H););var pe=(V[1]||"").match(/boundary="(.*?)"/);if(!pe)throw new Error("MAD cannot find boundary");var Ie="--"+(pe[1]||""),he=[],me=[],ye={FileIndex:he,FullPaths:me};G(ye);var be,Be=0;for(X=0;X<V.length;++X){var He=V[X];He!==Ie&&He!==Ie+"--"||(Be++&&Si(ye,V.slice(be,X),H),be=X)}return ye}function un(L,U){var H=U||{},V=H.boundary||"SheetJS";V="------="+V;for(var X=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+V.slice(2)+'"',"","",""],q=L.FullPaths[0],pe=q,Ie=L.FileIndex[0],he=1;he<L.FullPaths.length;++he)if(pe=L.FullPaths[he].slice(q.length),Ie=L.FileIndex[he],!(!Ie.size||!Ie.content||pe=="Sh33tJ5")){pe=pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(St){return"_x"+St.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(St){return"_u"+St.charCodeAt(0).toString(16)+"_"});for(var me=Ie.content,ye=Qt&&Buffer.isBuffer(me)?me.toString("binary"):nt(me),be=0,Be=Math.min(1024,ye.length),He=0,Ye=0;Ye<=Be;++Ye)(He=ye.charCodeAt(Ye))>=32&&He<128&&++be;var Pe=be>=Be*4/5;X.push(V),X.push("Content-Location: "+(H.root||"file:///C:/SheetJS/")+pe),X.push("Content-Transfer-Encoding: "+(Pe?"quoted-printable":"base64")),X.push("Content-Type: "+Da(Ie,pe)),X.push(""),X.push(Pe?Ks(ye):kn(ye))}return X.push(V+`--\r
`),X.join(`\r
`)}function Ma(L){var U={};return G(U,L),U}function mn(L,U,H,V){var X=V&&V.unsafe;X||G(L);var q=!X&&lr.find(L,U);if(!q){var pe=L.FullPaths[0];U.slice(0,pe.length)==pe?pe=U:(pe.slice(-1)!="/"&&(pe+="/"),pe=(pe+U).replace("//","/")),q={name:o(U),type:2},L.FileIndex.push(q),L.FullPaths.push(pe),X||lr.utils.cfb_gc(L)}return q.content=H,q.size=H?H.length:0,V&&(V.CLSID&&(q.clsid=V.CLSID),V.mt&&(q.mt=V.mt),V.ct&&(q.ct=V.ct)),q}function Pa(L,U){G(L);var H=lr.find(L,U);if(H){for(var V=0;V<L.FileIndex.length;++V)if(L.FileIndex[V]==H)return L.FileIndex.splice(V,1),L.FullPaths.splice(V,1),!0}return!1}function Rr(L,U,H){G(L);var V=lr.find(L,U);if(V){for(var X=0;X<L.FileIndex.length;++X)if(L.FileIndex[X]==V)return L.FileIndex[X].name=o(H),L.FullPaths[X]=H,!0}return!1}function Xn(L){Z(L,!0)}return e.find=Te,e.read=ve,e.parse=E,e.write=$e,e.writeFile=We,e.utils={cfb_new:Ma,cfb_add:mn,cfb_del:Pa,cfb_mov:Rr,cfb_gc:Xn,ReadShift:du,CheckField:Vx,prep_blob:xi,bconcat:In,use_zlib:j,_deflateRaw:Ui,_inflateRaw:Ai,consts:Ke},e})();function IA(t){return typeof t=="string"?N0(t):Array.isArray(t)?J3(t):t}function Mu(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=N0(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var i=r=="utf8"?Ou(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(i,t);if(typeof Blob<"u"){var o=new Blob([IA(i)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(o,t);if(typeof saveAs<"u")return saveAs(o,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var c=URL.createObjectURL(o);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(c)},6e4),chrome.downloads.download({url:c,filename:t,saveAs:!0});var d=document.createElement("a");if(d.download!=null)return d.download=t,d.href=c,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(c)},6e4),c}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var m=File(t);return m.open("w"),m.encoding="binary",Array.isArray(e)&&(e=Du(e)),m.write(e),m.close(),e}catch(w){if(!w.message||!w.message.match(/onstruct/))throw w}throw new Error("cannot save file "+t)}function Rn(t){for(var e=Object.keys(t),r=[],i=0;i<e.length;++i)Object.prototype.hasOwnProperty.call(t,e[i])&&r.push(e[i]);return r}function Bp(t,e){for(var r=[],i=Rn(t),o=0;o!==i.length;++o)r[t[i[o]][e]]==null&&(r[t[i[o]][e]]=i[o]);return r}function f1(t){for(var e=[],r=Rn(t),i=0;i!==r.length;++i)e[t[r[i]]]=r[i];return e}function k0(t){for(var e=[],r=Rn(t),i=0;i!==r.length;++i)e[t[r[i]]]=parseInt(r[i],10);return e}function OA(t){for(var e=[],r=Rn(t),i=0;i!==r.length;++i)e[t[r[i]]]==null&&(e[t[r[i]]]=[]),e[t[r[i]]].push(r[i]);return e}var d0=new Date(1899,11,30,0,0,0);function ti(t,e){var r=t.getTime(),i=d0.getTime()+(t.getTimezoneOffset()-d0.getTimezoneOffset())*6e4;return(r-i)/(1440*60*1e3)}var Ix=new Date,NA=d0.getTime()+(Ix.getTimezoneOffset()-d0.getTimezoneOffset())*6e4,Up=Ix.getTimezoneOffset();function Ox(t){var e=new Date;return e.setTime(t*24*60*60*1e3+NA),e.getTimezoneOffset()!==Up&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Up)*6e4),e}var jp=new Date("2017-02-19T19:06:09.000Z"),Nx=isNaN(jp.getFullYear())?new Date("2/19/17"):jp,RA=Nx.getFullYear()==2017;function Gn(t,e){var r=new Date(t);if(RA)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(Nx.getFullYear()==1917&&!isNaN(r.getFullYear())){var i=r.getFullYear();return t.indexOf(""+i)>-1||r.setFullYear(r.getFullYear()+100),r}var o=t.match(/\d+/g)||["2017","2","19","0","0","0"],c=new Date(+o[0],+o[1]-1,+o[2],+o[3]||0,+o[4]||0,+o[5]||0);return t.indexOf("Z")>-1&&(c=new Date(c.getTime()-c.getTimezoneOffset()*60*1e3)),c}function D0(t,e){if(Qt&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(c){return r[c]||c})}catch{}for(var i=[],o=0;o!=t.length;++o)i.push(String.fromCharCode(t[o]));return i.join("")}function ri(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=ri(t[r]));return e}function Fr(t,e){for(var r="";r.length<e;)r+=t;return r}function js(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,i=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(i))||(i=i.replace(/[(](.*)[)]/,function(o,c){return r=-r,c}),!isNaN(e=Number(i)))?e/r:e}var bA=["january","february","march","april","may","june","july","august","september","october","november","december"];function Iu(t){var e=new Date(t),r=new Date(NaN),i=e.getYear(),o=e.getMonth(),c=e.getDate();if(isNaN(c))return r;var d=t.toLowerCase();if(d.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(d=d.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),d.length>3&&bA.indexOf(d)==-1)return r}else if(d.match(/[a-z]/))return r;return i<0||i>8099?r:(o>0||c>1)&&i!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Ut(t,e,r){if(t.FullPaths){if(typeof r=="string"){var i;return Qt?i=Ys(r):i=eA(r),lr.utils.cfb_add(t,e,i)}lr.utils.cfb_add(t,e,r)}else t.file(e,r)}function h1(){return lr.utils.cfb_new()}var Qr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,kA={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},d1=f1(kA),g1=/[&<>'"]/g,DA=/[\u0000-\u0008\u000b-\u001f]/g;function nr(t){var e=t+"";return e.replace(g1,function(r){return d1[r]}).replace(DA,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Hp(t){return nr(t).replace(/ /g,"_x0020_")}var Rx=/[\u0000-\u001f]/g;function MA(t){var e=t+"";return e.replace(g1,function(r){return d1[r]}).replace(/\n/g,"<br/>").replace(Rx,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function PA(t){var e=t+"";return e.replace(g1,function(r){return d1[r]}).replace(Rx,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function LA(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function FA(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Eh(t){for(var e="",r=0,i=0,o=0,c=0,d=0,m=0;r<t.length;){if(i=t.charCodeAt(r++),i<128){e+=String.fromCharCode(i);continue}if(o=t.charCodeAt(r++),i>191&&i<224){d=(i&31)<<6,d|=o&63,e+=String.fromCharCode(d);continue}if(c=t.charCodeAt(r++),i<240){e+=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63);continue}d=t.charCodeAt(r++),m=((i&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536,e+=String.fromCharCode(55296+(m>>>10&1023)),e+=String.fromCharCode(56320+(m&1023))}return e}function zp(t){var e=ho(2*t.length),r,i,o=1,c=0,d=0,m;for(i=0;i<t.length;i+=o)o=1,(m=t.charCodeAt(i))<128?r=m:m<224?(r=(m&31)*64+(t.charCodeAt(i+1)&63),o=2):m<240?(r=(m&15)*4096+(t.charCodeAt(i+1)&63)*64+(t.charCodeAt(i+2)&63),o=3):(o=4,r=(m&7)*262144+(t.charCodeAt(i+1)&63)*4096+(t.charCodeAt(i+2)&63)*64+(t.charCodeAt(i+3)&63),r-=65536,d=55296+(r>>>10&1023),r=56320+(r&1023)),d!==0&&(e[c++]=d&255,e[c++]=d>>>8,d=0),e[c++]=r%256,e[c++]=r>>>8;return e.slice(0,c).toString("ucs2")}function Wp(t){return Ys(t,"binary").toString("utf8")}var $c="foo bar baz",hu=Qt&&(Wp($c)==Eh($c)&&Wp||zp($c)==Eh($c)&&zp)||Eh,Ou=Qt?function(t){return Ys(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,i=0,o=0;r<t.length;)switch(i=t.charCodeAt(r++),!0){case i<128:e.push(String.fromCharCode(i));break;case i<2048:e.push(String.fromCharCode(192+(i>>6))),e.push(String.fromCharCode(128+(i&63)));break;case(i>=55296&&i<57344):i-=55296,o=t.charCodeAt(r++)-56320+(i<<10),e.push(String.fromCharCode(240+(o>>18&7))),e.push(String.fromCharCode(144+(o>>12&63))),e.push(String.fromCharCode(128+(o>>6&63))),e.push(String.fromCharCode(128+(o&63)));break;default:e.push(String.fromCharCode(224+(i>>12))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)))}return e.join("")},BA=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var i=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),o=0;o<t.length;++o)i=i.replace(t[o][0],t[o][1]);return i}})(),bx=/(^\s|\s$|\n)/;function On(t,e){return"<"+t+(e.match(bx)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Nu(t){return Rn(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function tt(t,e,r){return"<"+t+(r!=null?Nu(r):"")+(e!=null?(e.match(bx)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Kh(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function UA(t,e){switch(typeof t){case"string":var r=tt("vt:lpwstr",nr(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return tt((t|0)==t?"vt:i4":"vt:r8",nr(String(t)));case"boolean":return tt("vt:bool",t?"true":"false")}if(t instanceof Date)return tt("vt:filetime",Kh(t));throw new Error("Unable to serialize "+t)}var gn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},yl=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],mi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function jA(t,e){for(var r=1-2*(t[e+7]>>>7),i=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),o=t[e+6]&15,c=5;c>=0;--c)o=o*256+t[e+c];return i==2047?o==0?r*(1/0):NaN:(i==0?i=-1022:(i-=1023,o+=Math.pow(2,52)),r*Math.pow(2,i-52)*o)}function HA(t,e,r){var i=(e<0||1/e==-1/0?1:0)<<7,o=0,c=0,d=i?-e:e;isFinite(d)?d==0?o=c=0:(o=Math.floor(Math.log(d)/Math.LN2),c=d*Math.pow(2,52-o),o<=-1023&&(!isFinite(c)||c<Math.pow(2,52))?o=-1022:(c-=Math.pow(2,52),o+=1023)):(o=2047,c=isNaN(e)?26985:0);for(var m=0;m<=5;++m,c/=256)t[r+m]=c&255;t[r+6]=(o&15)<<4|c&15,t[r+7]=o>>4|i}var Vp=function(t){for(var e=[],r=10240,i=0;i<t[0].length;++i)if(t[0][i])for(var o=0,c=t[0][i].length;o<c;o+=r)e.push.apply(e,t[0][i].slice(o,o+r));return e},Gp=Qt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ys(e)})):Vp(t)}:Vp,Xp=function(t,e,r){for(var i=[],o=e;o<r;o+=2)i.push(String.fromCharCode(lu(t,o)));return i.join("").replace(fu,"")},p1=Qt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(fu,""):Xp(t,e,r)}:Xp,Yp=function(t,e,r){for(var i=[],o=e;o<e+r;++o)i.push(("0"+t[o].toString(16)).slice(-2));return i.join("")},kx=Qt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):Yp(t,e,r)}:Yp,Kp=function(t,e,r){for(var i=[],o=e;o<r;o++)i.push(String.fromCharCode(sl(t,o)));return i.join("")},Pu=Qt?function(e,r,i){return Buffer.isBuffer(e)?e.toString("utf8",r,i):Kp(e,r,i)}:Kp,Dx=function(t,e){var r=wi(t,e);return r>0?Pu(t,e+4,e+4+r-1):""},Mx=Dx,Px=function(t,e){var r=wi(t,e);return r>0?Pu(t,e+4,e+4+r-1):""},Lx=Px,Fx=function(t,e){var r=2*wi(t,e);return r>0?Pu(t,e+4,e+4+r-1):""},Bx=Fx,Ux=function(e,r){var i=wi(e,r);return i>0?p1(e,r+4,r+4+i):""},jx=Ux,Hx=function(t,e){var r=wi(t,e);return r>0?Pu(t,e+4,e+4+r):""},zx=Hx,Wx=function(t,e){return jA(t,e)},g0=Wx,x1=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Qt&&(Mx=function(e,r){if(!Buffer.isBuffer(e))return Dx(e,r);var i=e.readUInt32LE(r);return i>0?e.toString("utf8",r+4,r+4+i-1):""},Lx=function(e,r){if(!Buffer.isBuffer(e))return Px(e,r);var i=e.readUInt32LE(r);return i>0?e.toString("utf8",r+4,r+4+i-1):""},Bx=function(e,r){if(!Buffer.isBuffer(e))return Fx(e,r);var i=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+i-1)},jx=function(e,r){if(!Buffer.isBuffer(e))return Ux(e,r);var i=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+i)},zx=function(e,r){if(!Buffer.isBuffer(e))return Hx(e,r);var i=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+i)},g0=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):Wx(e,r)},x1=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var sl=function(t,e){return t[e]},lu=function(t,e){return t[e+1]*256+t[e]},zA=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},wi=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},lo=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},WA=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function du(t,e){var r="",i,o,c=[],d,m,w,x;switch(e){case"dbcs":if(x=this.l,Qt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(w=0;w<t;++w)r+=String.fromCharCode(lu(this,x)),x+=2;t*=2;break;case"utf8":r=Pu(this,this.l,this.l+t);break;case"utf16le":t*=2,r=p1(this,this.l,this.l+t);break;case"wstr":return du.call(this,t,"dbcs");case"lpstr-ansi":r=Mx(this,this.l),t=4+wi(this,this.l);break;case"lpstr-cp":r=Lx(this,this.l),t=4+wi(this,this.l);break;case"lpwstr":r=Bx(this,this.l),t=4+2*wi(this,this.l);break;case"lpp4":t=4+wi(this,this.l),r=jx(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+wi(this,this.l),r=zx(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(d=sl(this,this.l+t++))!==0;)c.push(Xc(d));r=c.join("");break;case"_wstr":for(t=0,r="";(d=lu(this,this.l+t))!==0;)c.push(Xc(d)),t+=2;t+=2,r=c.join("");break;case"dbcs-cont":for(r="",x=this.l,w=0;w<t;++w){if(this.lens&&this.lens.indexOf(x)!==-1)return d=sl(this,x),this.l=x+1,m=du.call(this,t-w,d?"dbcs-cont":"sbcs-cont"),c.join("")+m;c.push(Xc(lu(this,x))),x+=2}r=c.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",x=this.l,w=0;w!=t;++w){if(this.lens&&this.lens.indexOf(x)!==-1)return d=sl(this,x),this.l=x+1,m=du.call(this,t-w,d?"dbcs-cont":"sbcs-cont"),c.join("")+m;c.push(Xc(sl(this,x))),x+=1}r=c.join("");break;default:switch(t){case 1:return i=sl(this,this.l),this.l++,i;case 2:return i=(e==="i"?zA:lu)(this,this.l),this.l+=2,i;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(i=(t>0?lo:WA)(this,this.l),this.l+=4,i):(o=wi(this,this.l),this.l+=4,o);case 8:case-8:if(e==="f")return t==8?o=g0(this,this.l):o=g0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,o;t=8;case 16:r=kx(this,this.l,t);break}}return this.l+=t,r}var VA=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},GA=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},XA=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function YA(t,e,r){var i=0,o=0;if(r==="dbcs"){for(o=0;o!=e.length;++o)XA(this,e.charCodeAt(o),this.l+2*o);i=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),o=0;o!=e.length;++o)this[this.l+o]=e.charCodeAt(o)&255;i=e.length}else if(r==="hex"){for(;o<t;++o)this[this.l++]=parseInt(e.slice(2*o,2*o+2),16)||0;return this}else if(r==="utf16le"){var c=Math.min(this.l+t,this.length);for(o=0;o<Math.min(e.length,t);++o){var d=e.charCodeAt(o);this[this.l++]=d&255,this[this.l++]=d>>8}for(;this.l<c;)this[this.l++]=0;return this}else switch(t){case 1:i=1,this[this.l]=e&255;break;case 2:i=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:i=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:i=4,VA(this,e,this.l);break;case 8:if(i=8,r==="f"){HA(this,e,this.l);break}case 16:break;case-4:i=4,GA(this,e,this.l);break}return this.l+=i,this}function Vx(t,e){var r=kx(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function xi(t,e){t.l=e,t.read_shift=du,t.chk=Vx,t.write_shift=YA}function vs(t,e){t.l+=e}function Oe(t){var e=ho(t);return xi(e,0),e}function ei(){var t=[],e=Qt?256:2048,r=function(x){var E=Oe(x);return xi(E,0),E},i=r(e),o=function(){i&&(i.length>i.l&&(i=i.slice(0,i.l),i.l=i.length),i.length>0&&t.push(i),i=null)},c=function(x){return i&&x<i.length-i.l?i:(o(),i=r(Math.max(x+1,e)))},d=function(){return o(),In(t)},m=function(x){o(),i=x,i.l==null&&(i.l=i.length),c(e)};return{next:c,push:m,end:d,_bufs:t}}function ke(t,e,r,i){var o=+e,c;if(!isNaN(o)){i||(i=jI[o].p||(r||[]).length||0),c=1+(o>=128?1:0)+1,i>=128&&++c,i>=16384&&++c,i>=2097152&&++c;var d=t.next(c);o<=127?d.write_shift(1,o):(d.write_shift(1,(o&127)+128),d.write_shift(1,o>>7));for(var m=0;m!=4;++m)if(i>=128)d.write_shift(1,(i&127)+128),i>>=7;else{d.write_shift(1,i);break}i>0&&x1(r)&&t.push(r)}}function gu(t,e,r){var i=ri(t);if(e.s?(i.cRel&&(i.c+=e.s.c),i.rRel&&(i.r+=e.s.r)):(i.cRel&&(i.c+=e.c),i.rRel&&(i.r+=e.r)),!r||r.biff<12){for(;i.c>=256;)i.c-=256;for(;i.r>=65536;)i.r-=65536}return i}function $p(t,e,r){var i=ri(t);return i.s=gu(i.s,e.s,r),i.e=gu(i.e,e.s,r),i}function pu(t,e){if(t.cRel&&t.c<0)for(t=ri(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=ri(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=ir(t);return!t.cRel&&t.cRel!=null&&(r=qA(r)),!t.rRel&&t.rRel!=null&&(r=KA(r)),r}function _h(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Un(t.s.c)+":"+(t.e.cRel?"":"$")+Un(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Nn(t.s.r)+":"+(t.e.rRel?"":"$")+Nn(t.e.r):pu(t.s,e.biff)+":"+pu(t.e,e.biff)}function m1(t){return parseInt($A(t),10)-1}function Nn(t){return""+(t+1)}function KA(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function $A(t){return t.replace(/\$(\d+)$/,"$1")}function w1(t){for(var e=QA(t),r=0,i=0;i!==e.length;++i)r=26*r+e.charCodeAt(i)-64;return r-1}function Un(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function qA(t){return t.replace(/^([A-Z])/,"$$$1")}function QA(t){return t.replace(/^\$([A-Z])/,"$1")}function ZA(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function pn(t){for(var e=0,r=0,i=0;i<t.length;++i){var o=t.charCodeAt(i);o>=48&&o<=57?e=10*e+(o-48):o>=65&&o<=90&&(r=26*r+(o-64))}return{c:r-1,r:e-1}}function ir(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function _i(t){var e=t.indexOf(":");return e==-1?{s:pn(t),e:pn(t)}:{s:pn(t.slice(0,e)),e:pn(t.slice(e+1))}}function qr(t,e){return typeof e>"u"||typeof e=="number"?qr(t.s,t.e):(typeof t!="string"&&(t=ir(t)),typeof e!="string"&&(e=ir(e)),t==e?t:t+":"+e)}function vr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,i=0,o=0,c=t.length;for(r=0;i<c&&!((o=t.charCodeAt(i)-64)<1||o>26);++i)r=26*r+o;for(e.s.c=--r,r=0;i<c&&!((o=t.charCodeAt(i)-48)<0||o>9);++i)r=10*r+o;if(e.s.r=--r,i===c||o!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++i,r=0;i!=c&&!((o=t.charCodeAt(i)-64)<1||o>26);++i)r=26*r+o;for(e.e.c=--r,r=0;i!=c&&!((o=t.charCodeAt(i)-48)<0||o>9);++i)r=10*r+o;return e.e.r=--r,e}function qp(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Oa(t.z,r?ti(e):e)}catch{}try{return t.w=Oa((t.XF||{}).numFmtId||(r?14:0),r?ti(e):e)}catch{return""+e}}function Ws(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Lu[t.v]||t.v:e==null?qp(t,t.v):qp(t,e))}function xo(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",i={};return i[r]=t,{SheetNames:[r],Sheets:i}}function Gx(t,e,r){var i=r||{},o=t?Array.isArray(t):i.dense,c=t||(o?[]:{}),d=0,m=0;if(c&&i.origin!=null){if(typeof i.origin=="number")d=i.origin;else{var w=typeof i.origin=="string"?pn(i.origin):i.origin;d=w.r,m=w.c}c["!ref"]||(c["!ref"]="A1:A1")}var x={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(c["!ref"]){var E=vr(c["!ref"]);x.s.c=E.s.c,x.s.r=E.s.r,x.e.c=Math.max(x.e.c,E.e.c),x.e.r=Math.max(x.e.r,E.e.r),d==-1&&(x.e.r=d=E.e.r+1)}for(var A=0;A!=e.length;++A)if(e[A]){if(!Array.isArray(e[A]))throw new Error("aoa_to_sheet expects an array of arrays");for(var C=0;C!=e[A].length;++C)if(!(typeof e[A][C]>"u")){var N={v:e[A][C]},b=d+A,O=m+C;if(x.s.r>b&&(x.s.r=b),x.s.c>O&&(x.s.c=O),x.e.r<b&&(x.e.r=b),x.e.c<O&&(x.e.c=O),e[A][C]&&typeof e[A][C]=="object"&&!Array.isArray(e[A][C])&&!(e[A][C]instanceof Date))N=e[A][C];else if(Array.isArray(N.v)&&(N.f=e[A][C][1],N.v=N.v[0]),N.v===null)if(N.f)N.t="n";else if(i.nullError)N.t="e",N.v=0;else if(i.sheetStubs)N.t="z";else continue;else typeof N.v=="number"?N.t="n":typeof N.v=="boolean"?N.t="b":N.v instanceof Date?(N.z=i.dateNF||Br[14],i.cellDates?(N.t="d",N.w=Oa(N.z,ti(N.v))):(N.t="n",N.v=ti(N.v),N.w=Oa(N.z,N.v))):N.t="s";if(o)c[b]||(c[b]=[]),c[b][O]&&c[b][O].z&&(N.z=c[b][O].z),c[b][O]=N;else{var k=ir({c:O,r:b});c[k]&&c[k].z&&(N.z=c[k].z),c[k]=N}}}return x.s.c<1e7&&(c["!ref"]=qr(x)),c}function El(t,e){return Gx(null,t,e)}function JA(t){return t.read_shift(4,"i")}function ns(t,e){return e||(e=Oe(4)),e.write_shift(4,t),e}function jn(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function xn(t,e){var r=!1;return e==null&&(r=!0,e=Oe(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function eS(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function tS(t,e){return e||(e=Oe(4)),e.write_shift(2,0),e.write_shift(2,0),e}function v1(t,e){var r=t.l,i=t.read_shift(1),o=jn(t),c=[],d={t:o,h:o};if((i&1)!==0){for(var m=t.read_shift(4),w=0;w!=m;++w)c.push(eS(t));d.r=c}else d.r=[{ich:0,ifnt:0}];return t.l=r+e,d}function rS(t,e){var r=!1;return e==null&&(r=!0,e=Oe(15+4*t.t.length)),e.write_shift(1,0),xn(t.t,e),r?e.slice(0,e.l):e}var nS=v1;function iS(t,e){var r=!1;return e==null&&(r=!0,e=Oe(23+4*t.t.length)),e.write_shift(1,1),xn(t.t,e),e.write_shift(4,1),tS({},e),r?e.slice(0,e.l):e}function Li(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function mo(t,e){return e==null&&(e=Oe(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function wo(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function vo(t,e){return e==null&&(e=Oe(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var sS=jn,Xx=xn;function y1(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function p0(t,e){var r=!1;return e==null&&(r=!0,e=Oe(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var aS=jn,$h=y1,E1=p0;function Yx(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,i=e[0]&2;t.l+=4;var o=i===0?g0([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):lo(e,0)>>2;return r?o/100:o}function Kx(t,e){e==null&&(e=Oe(4));var r=0,i=0,o=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?i=1:o==(o|0)&&o>=-536870912&&o<1<<29&&(i=1,r=1),i)e.write_shift(-4,((r?o:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function $x(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function oS(t,e){return e||(e=Oe(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var yo=$x,_l=oS;function Al(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function go(t,e){return(e||Oe(8)).write_shift(8,t,"f")}function lS(t){var e={},r=t.read_shift(1),i=r>>>1,o=t.read_shift(1),c=t.read_shift(2,"i"),d=t.read_shift(1),m=t.read_shift(1),w=t.read_shift(1);switch(t.l++,i){case 0:e.auto=1;break;case 1:e.index=o;var x=mS[o];x&&(e.rgb=o2(x));break;case 2:e.rgb=o2([d,m,w]);break;case 3:e.theme=o;break}return c!=0&&(e.tint=c>0?c/32767:c/32768),e}function x0(t,e){if(e||(e=Oe(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var i=t.rgb||"FFFFFF";typeof i=="number"&&(i=("000000"+i.toString(16)).slice(-6)),e.write_shift(1,parseInt(i.slice(0,2),16)),e.write_shift(1,parseInt(i.slice(2,4),16)),e.write_shift(1,parseInt(i.slice(4,6),16)),e.write_shift(1,255)}return e}function uS(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function cS(t,e){e||(e=Oe(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var qx=2,pi=3,qc=11,m0=19,Qc=64,fS=65,hS=71,dS=4108,gS=4126,Cn=80,Qp={1:{n:"CodePage",t:qx},2:{n:"Category",t:Cn},3:{n:"PresentationFormat",t:Cn},4:{n:"ByteCount",t:pi},5:{n:"LineCount",t:pi},6:{n:"ParagraphCount",t:pi},7:{n:"SlideCount",t:pi},8:{n:"NoteCount",t:pi},9:{n:"HiddenCount",t:pi},10:{n:"MultimediaClipCount",t:pi},11:{n:"ScaleCrop",t:qc},12:{n:"HeadingPairs",t:dS},13:{n:"TitlesOfParts",t:gS},14:{n:"Manager",t:Cn},15:{n:"Company",t:Cn},16:{n:"LinksUpToDate",t:qc},17:{n:"CharacterCount",t:pi},19:{n:"SharedDoc",t:qc},22:{n:"HyperlinksChanged",t:qc},23:{n:"AppVersion",t:pi,p:"version"},24:{n:"DigSig",t:fS},26:{n:"ContentType",t:Cn},27:{n:"ContentStatus",t:Cn},28:{n:"Language",t:Cn},29:{n:"Version",t:Cn},255:{},2147483648:{n:"Locale",t:m0},2147483651:{n:"Behavior",t:m0},1919054434:{}},Zp={1:{n:"CodePage",t:qx},2:{n:"Title",t:Cn},3:{n:"Subject",t:Cn},4:{n:"Author",t:Cn},5:{n:"Keywords",t:Cn},6:{n:"Comments",t:Cn},7:{n:"Template",t:Cn},8:{n:"LastAuthor",t:Cn},9:{n:"RevNumber",t:Cn},10:{n:"EditTime",t:Qc},11:{n:"LastPrinted",t:Qc},12:{n:"CreatedDate",t:Qc},13:{n:"ModifiedDate",t:Qc},14:{n:"PageCount",t:pi},15:{n:"WordCount",t:pi},16:{n:"CharCount",t:pi},17:{n:"Thumbnail",t:hS},18:{n:"Application",t:Cn},19:{n:"DocSecurity",t:pi},255:{},2147483648:{n:"Locale",t:m0},2147483651:{n:"Behavior",t:m0},1919054434:{}};function pS(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var xS=pS([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),mS=ri(xS),Lu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},wS={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Zc={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Qx(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Zx(t,e){var r=OA(wS),i=[],o;i[i.length]=Qr,i[i.length]=tt("Types",null,{xmlns:gn.CT,"xmlns:xsd":gn.xsd,"xmlns:xsi":gn.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(w){return tt("Default",null,{Extension:w[0],ContentType:w[1]})}));var c=function(w){t[w]&&t[w].length>0&&(o=t[w][0],i[i.length]=tt("Override",null,{PartName:(o[0]=="/"?"":"/")+o,ContentType:Zc[w][e.bookType]||Zc[w].xlsx}))},d=function(w){(t[w]||[]).forEach(function(x){i[i.length]=tt("Override",null,{PartName:(x[0]=="/"?"":"/")+x,ContentType:Zc[w][e.bookType]||Zc[w].xlsx})})},m=function(w){(t[w]||[]).forEach(function(x){i[i.length]=tt("Override",null,{PartName:(x[0]=="/"?"":"/")+x,ContentType:r[w][0]})})};return c("workbooks"),d("sheets"),d("charts"),m("themes"),["strs","styles"].forEach(c),["coreprops","extprops","custprops"].forEach(m),m("vba"),m("comments"),m("threadedcomments"),m("drawings"),d("metadata"),m("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var Kt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Jx(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function hl(t){var e=[Qr,tt("Relationships",null,{xmlns:gn.RELS})];return Rn(t["!id"]).forEach(function(r){e[e.length]=tt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function rr(t,e,r,i,o,c){if(o||(o={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,o.Id="rId"+e,o.Type=i,o.Target=r,[Kt.HLINK,Kt.XPATH,Kt.XMISS].indexOf(o.Type)>-1&&(o.TargetMode="External"),t["!id"][o.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][o.Id]=o,t[("/"+o.Target).replace("//","/")]=o,e}function vS(t){var e=[Qr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Jp(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function yS(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function ES(t){var e=[Qr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(Jp(t[r][0],t[r][1])),e.push(yS("",t[r][0]));return e.push(Jp("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function em(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+l0.version+"</meta:generator></office:meta></office:document-meta>"}var co=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Ah(t,e,r,i,o){o[t]!=null||e==null||e===""||(o[t]=e,e=nr(e),i[i.length]=r?tt(t,e,r):On(t,e))}function tm(t,e){var r=e||{},i=[Qr,tt("cp:coreProperties",null,{"xmlns:cp":gn.CORE_PROPS,"xmlns:dc":gn.dc,"xmlns:dcterms":gn.dcterms,"xmlns:dcmitype":gn.dcmitype,"xmlns:xsi":gn.xsi})],o={};if(!t&&!r.Props)return i.join("");t&&(t.CreatedDate!=null&&Ah("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Kh(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},i,o),t.ModifiedDate!=null&&Ah("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Kh(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},i,o));for(var c=0;c!=co.length;++c){var d=co[c],m=r.Props&&r.Props[d[1]]!=null?r.Props[d[1]]:t?t[d[1]]:null;m===!0?m="1":m===!1?m="0":typeof m=="number"&&(m=String(m)),m!=null&&Ah(d[0],m,null,i,o)}return i.length>2&&(i[i.length]="</cp:coreProperties>",i[1]=i[1].replace("/>",">")),i.join("")}var dl=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],rm=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function nm(t){var e=[],r=tt;return t||(t={}),t.Application="SheetJS",e[e.length]=Qr,e[e.length]=tt("Properties",null,{xmlns:gn.EXT_PROPS,"xmlns:vt":gn.vt}),dl.forEach(function(i){if(t[i[1]]!==void 0){var o;switch(i[2]){case"string":o=nr(String(t[i[1]]));break;case"bool":o=t[i[1]]?"true":"false";break}o!==void 0&&(e[e.length]=r(i[0],o))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(i){return"<vt:lpstr>"+nr(i)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function im(t){var e=[Qr,tt("Properties",null,{xmlns:gn.CUST_PROPS,"xmlns:vt":gn.vt})];if(!t)return e.join("");var r=1;return Rn(t).forEach(function(o){++r,e[e.length]=tt("property",UA(t[o]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:nr(o)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var e2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function _S(t,e){var r=[];return Rn(e2).map(function(i){for(var o=0;o<co.length;++o)if(co[o][1]==i)return co[o];for(o=0;o<dl.length;++o)if(dl[o][1]==i)return dl[o];throw i}).forEach(function(i){if(t[i[1]]!=null){var o=e&&e.Props&&e.Props[i[1]]!=null?e.Props[i[1]]:t[i[1]];i[2]==="date"&&(o=new Date(o).toISOString().replace(/\.\d*Z/,"Z")),typeof o=="number"?o=String(o):o===!0||o===!1?o=o?"1":"0":o instanceof Date&&(o=new Date(o).toISOString().replace(/\.\d*Z/,"")),r.push(On(e2[i[1]]||i[1],o))}}),tt("DocumentProperties",r.join(""),{xmlns:mi.o})}function AS(t,e){var r=["Worksheets","SheetNames"],i="CustomDocumentProperties",o=[];return t&&Rn(t).forEach(function(c){if(Object.prototype.hasOwnProperty.call(t,c)){for(var d=0;d<co.length;++d)if(c==co[d][1])return;for(d=0;d<dl.length;++d)if(c==dl[d][1])return;for(d=0;d<r.length;++d)if(c==r[d])return;var m=t[c],w="string";typeof m=="number"?(w="float",m=String(m)):m===!0||m===!1?(w="boolean",m=m?"1":"0"):m=String(m),o.push(tt(Hp(c),m,{"dt:dt":w}))}}),e&&Rn(e).forEach(function(c){if(Object.prototype.hasOwnProperty.call(e,c)&&!(t&&Object.prototype.hasOwnProperty.call(t,c))){var d=e[c],m="string";typeof d=="number"?(m="float",d=String(d)):d===!0||d===!1?(m="boolean",d=d?"1":"0"):d instanceof Date?(m="dateTime.tz",d=d.toISOString()):d=String(d),o.push(tt(Hp(c),d,{"dt:dt":m}))}}),"<"+i+' xmlns="'+mi.o+'">'+o.join("")+"</"+i+">"}function SS(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,i=r%Math.pow(2,32),o=(r-i)/Math.pow(2,32);i*=1e7,o*=1e7;var c=i/Math.pow(2,32)|0;c>0&&(i=i%Math.pow(2,32),o+=c);var d=Oe(8);return d.write_shift(4,i),d.write_shift(4,o),d}function t2(t,e){var r=Oe(4),i=Oe(4);switch(r.write_shift(4,t==80?31:t),t){case 3:i.write_shift(-4,e);break;case 5:i=Oe(8),i.write_shift(8,e,"f");break;case 11:i.write_shift(4,e?1:0);break;case 64:i=SS(e);break;case 31:case 80:for(i=Oe(4+2*(e.length+1)+(e.length%2?0:2)),i.write_shift(4,e.length+1),i.write_shift(0,e,"dbcs");i.l!=i.length;)i.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return In([r,i])}var sm=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function TS(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function r2(t,e,r){var i=Oe(8),o=[],c=[],d=8,m=0,w=Oe(8),x=Oe(8);if(w.write_shift(4,2),w.write_shift(4,1200),x.write_shift(4,1),c.push(w),o.push(x),d+=8+w.length,!e){x=Oe(8),x.write_shift(4,0),o.unshift(x);var E=[Oe(4)];for(E[0].write_shift(4,t.length),m=0;m<t.length;++m){var A=t[m][0];for(w=Oe(8+2*(A.length+1)+(A.length%2?0:2)),w.write_shift(4,m+2),w.write_shift(4,A.length+1),w.write_shift(0,A,"dbcs");w.l!=w.length;)w.write_shift(1,0);E.push(w)}w=In(E),c.unshift(w),d+=8+w.length}for(m=0;m<t.length;++m)if(!(e&&!e[t[m][0]])&&!(sm.indexOf(t[m][0])>-1||rm.indexOf(t[m][0])>-1)&&t[m][1]!=null){var C=t[m][1],N=0;if(e){N=+e[t[m][0]];var b=r[N];if(b.p=="version"&&typeof C=="string"){var O=C.split(".");C=(+O[0]<<16)+(+O[1]||0)}w=t2(b.t,C)}else{var k=TS(C);k==-1&&(k=31,C=String(C)),w=t2(k,C)}c.push(w),x=Oe(8),x.write_shift(4,e?N:2+m),o.push(x),d+=8+w.length}var K=8*(c.length+1);for(m=0;m<c.length;++m)o[m].write_shift(4,K),K+=c[m].length;return i.write_shift(4,d),i.write_shift(4,c.length),In([i].concat(o).concat(c))}function n2(t,e,r,i,o,c){var d=Oe(o?68:48),m=[d];d.write_shift(2,65534),d.write_shift(2,0),d.write_shift(4,842412599),d.write_shift(16,lr.utils.consts.HEADER_CLSID,"hex"),d.write_shift(4,o?2:1),d.write_shift(16,e,"hex"),d.write_shift(4,o?68:48);var w=r2(t,r,i);if(m.push(w),o){var x=r2(o,null,null);d.write_shift(16,c,"hex"),d.write_shift(4,68+w.length),m.push(x)}return In(m)}function CS(t,e){e||(e=Oe(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function IS(t,e){return t.read_shift(e)===1}function Vn(t,e){return e||(e=Oe(2)),e.write_shift(2,+!!t),e}function am(t){return t.read_shift(2,"u")}function Pi(t,e){return e||(e=Oe(2)),e.write_shift(2,t),e}function om(t,e,r){return r||(r=Oe(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function lm(t,e,r){var i=t.read_shift(r&&r.biff>=12?2:1),o="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var c=t.read_shift(1);c&&(o="dbcs-cont")}else r.biff==12&&(o="wstr");r.biff>=2&&r.biff<=5&&(o="cpstr");var d=i?t.read_shift(i,o):"";return d}function OS(t){var e=t.t||"",r=Oe(3);r.write_shift(2,e.length),r.write_shift(1,1);var i=Oe(2*e.length);i.write_shift(2*e.length,e,"utf16le");var o=[r,i];return In(o)}function NS(t,e,r){var i;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var o=t.read_shift(1);return o===0?i=t.read_shift(e,"sbcs-cont"):i=t.read_shift(e,"dbcs-cont"),i}function RS(t,e,r){var i=t.read_shift(r&&r.biff==2?1:2);return i===0?(t.l++,""):NS(t,i,r)}function bS(t,e,r){if(r.biff>5)return RS(t,e,r);var i=t.read_shift(1);return i===0?(t.l++,""):t.read_shift(i,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function um(t,e,r){return r||(r=Oe(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function i2(t,e){e||(e=Oe(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function kS(t){var e=Oe(512),r=0,i=t.Target;i.slice(0,7)=="file://"&&(i=i.slice(7));var o=i.indexOf("#"),c=o>-1?31:23;switch(i.charAt(0)){case"#":c=28;break;case".":c&=-3;break}e.write_shift(4,2),e.write_shift(4,c);var d=[8,6815827,6619237,4849780,83];for(r=0;r<d.length;++r)e.write_shift(4,d[r]);if(c==28)i=i.slice(1),i2(i,e);else if(c&2){for(d="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<d.length;++r)e.write_shift(1,parseInt(d[r],16));var m=o>-1?i.slice(0,o):i;for(e.write_shift(4,2*(m.length+1)),r=0;r<m.length;++r)e.write_shift(2,m.charCodeAt(r));e.write_shift(2,0),c&8&&i2(o>-1?i.slice(o+1):"",e)}else{for(d="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<d.length;++r)e.write_shift(1,parseInt(d[r],16));for(var w=0;i.slice(w*3,w*3+3)=="../"||i.slice(w*3,w*3+3)=="..\\";)++w;for(e.write_shift(2,w),e.write_shift(4,i.length-3*w+1),r=0;r<i.length-3*w;++r)e.write_shift(1,i.charCodeAt(r+3*w)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function po(t,e,r,i){return i||(i=Oe(6)),i.write_shift(2,t),i.write_shift(2,e),i.write_shift(2,r||0),i}function DS(t,e,r){var i=r.biff>8?4:2,o=t.read_shift(i),c=t.read_shift(i,"i"),d=t.read_shift(i,"i");return[o,c,d]}function MS(t){var e=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2);return{s:{c:i,r:e},e:{c:o,r}}}function cm(t,e){return e||(e=Oe(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function _1(t,e,r){var i=1536,o=16;switch(r.bookType){case"biff8":break;case"biff5":i=1280,o=8;break;case"biff4":i=4,o=6;break;case"biff3":i=3,o=6;break;case"biff2":i=2,o=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var c=Oe(o);return c.write_shift(2,i),c.write_shift(2,e),o>4&&c.write_shift(2,29282),o>6&&c.write_shift(2,1997),o>8&&(c.write_shift(2,49161),c.write_shift(2,1),c.write_shift(2,1798),c.write_shift(2,0)),c}function PS(t,e){var r=!e||e.biff==8,i=Oe(r?112:54);for(i.write_shift(e.biff==8?2:1,7),r&&i.write_shift(1,0),i.write_shift(4,859007059),i.write_shift(4,5458548|(r?0:536870912));i.l<i.length;)i.write_shift(1,r?0:32);return i}function LS(t,e){var r=!e||e.biff>=8?2:1,i=Oe(8+r*t.name.length);i.write_shift(4,t.pos),i.write_shift(1,t.hs||0),i.write_shift(1,t.dt),i.write_shift(1,t.name.length),e.biff>=8&&i.write_shift(1,1),i.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var o=i.slice(0,i.l);return o.l=i.l,o}function FS(t,e){var r=Oe(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var i=[],o=0;o<t.length;++o)i[o]=OS(t[o]);var c=In([r].concat(i));return c.parts=[r.length].concat(i.map(function(d){return d.length})),c}function BS(){var t=Oe(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function US(t){var e=Oe(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function jS(t,e){var r=t.name||"Arial",i=e&&e.biff==5,o=i?15+r.length:16+2*r.length,c=Oe(o);return c.write_shift(2,t.sz*20),c.write_shift(4,0),c.write_shift(2,400),c.write_shift(4,0),c.write_shift(2,0),c.write_shift(1,r.length),i||c.write_shift(1,1),c.write_shift((i?1:2)*r.length,r,i?"sbcs":"utf16le"),c}function HS(t,e,r,i){var o=Oe(10);return po(t,e,i,o),o.write_shift(4,r),o}function zS(t,e,r,i,o){var c=!o||o.biff==8,d=Oe(8+ +c+(1+c)*r.length);return po(t,e,i,d),d.write_shift(2,r.length),c&&d.write_shift(1,1),d.write_shift((1+c)*r.length,r,c?"utf16le":"sbcs"),d}function WS(t,e,r,i){var o=r&&r.biff==5;i||(i=Oe(o?3+e.length:5+2*e.length)),i.write_shift(2,t),i.write_shift(o?1:2,e.length),o||i.write_shift(1,1),i.write_shift((o?1:2)*e.length,e,o?"sbcs":"utf16le");var c=i.length>i.l?i.slice(0,i.l):i;return c.l==null&&(c.l=c.length),c}function VS(t,e){var r=e.biff==8||!e.biff?4:2,i=Oe(2*r+6);return i.write_shift(r,t.s.r),i.write_shift(r,t.e.r+1),i.write_shift(2,t.s.c),i.write_shift(2,t.e.c+1),i.write_shift(2,0),i}function s2(t,e,r,i){var o=r&&r.biff==5;i||(i=Oe(o?16:20)),i.write_shift(2,0),t.style?(i.write_shift(2,t.numFmtId||0),i.write_shift(2,65524)):(i.write_shift(2,t.numFmtId||0),i.write_shift(2,e<<4));var c=0;return t.numFmtId>0&&o&&(c|=1024),i.write_shift(4,c),i.write_shift(4,0),o||i.write_shift(4,0),i.write_shift(2,0),i}function GS(t){var e=Oe(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function XS(t,e,r,i,o,c){var d=Oe(8);return po(t,e,i,d),om(r,c,d),d}function YS(t,e,r,i){var o=Oe(14);return po(t,e,i,o),go(r,o),o}function KS(t,e,r){if(r.biff<8)return $S(t,e,r);for(var i=[],o=t.l+e,c=t.read_shift(r.biff>8?4:2);c--!==0;)i.push(DS(t,r.biff>8?12:6,r));if(t.l!=o)throw new Error("Bad ExternSheet: "+t.l+" != "+o);return i}function $S(t,e,r){t[t.l+1]==3&&t[t.l]++;var i=lm(t,e,r);return i.charCodeAt(0)==3?i.slice(1):i}function qS(t){var e=Oe(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)cm(t[r],e);return e}function QS(t){var e=Oe(24),r=pn(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var i="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),o=0;o<16;++o)e.write_shift(1,parseInt(i[o],16));return In([e,kS(t[1])])}function ZS(t){var e=t[1].Tooltip,r=Oe(10+2*(e.length+1));r.write_shift(2,2048);var i=pn(t[0]);r.write_shift(2,i.r),r.write_shift(2,i.r),r.write_shift(2,i.c),r.write_shift(2,i.c);for(var o=0;o<e.length;++o)r.write_shift(2,e.charCodeAt(o));return r.write_shift(2,0),r}function JS(t){return t||(t=Oe(4)),t.write_shift(2,1),t.write_shift(2,1),t}function e4(t,e,r){if(!r.cellStyles)return vs(t,e);var i=r&&r.biff>=12?4:2,o=t.read_shift(i),c=t.read_shift(i),d=t.read_shift(i),m=t.read_shift(i),w=t.read_shift(2);i==2&&(t.l+=2);var x={s:o,e:c,w:d,ixfe:m,flags:w};return(r.biff>=5||!r.biff)&&(x.level=w>>8&7),x}function t4(t,e){var r=Oe(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var i=0;return t.hidden&&(i|=1),r.write_shift(1,i),i=t.level||0,r.write_shift(1,i),r.write_shift(2,0),r}function r4(t){for(var e=Oe(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function n4(t,e,r){var i=Oe(15);return Bu(i,t,e),i.write_shift(8,r,"f"),i}function i4(t,e,r){var i=Oe(9);return Bu(i,t,e),i.write_shift(2,r),i}var s4=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=f1({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(m,w){var x=[],E=ho(1);switch(w.type){case"base64":E=ts(zs(m));break;case"binary":E=ts(m);break;case"buffer":case"array":E=m;break}xi(E,0);var A=E.read_shift(1),C=!!(A&136),N=!1,b=!1;switch(A){case 2:break;case 3:break;case 48:N=!0,C=!0;break;case 49:N=!0,C=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+A.toString(16))}var O=0,k=521;A==2&&(O=E.read_shift(2)),E.l+=3,A!=2&&(O=E.read_shift(4)),O>1048576&&(O=1e6),A!=2&&(k=E.read_shift(2));var K=E.read_shift(2),z=w.codepage||1252;A!=2&&(E.l+=16,E.read_shift(1),E[E.l]!==0&&(z=t[E[E.l]]),E.l+=1,E.l+=2),b&&(E.l+=36);for(var B=[],Q={},Se=Math.min(E.length,A==2?521:k-10-(N?264:0)),ve=b?32:11;E.l<Se&&E[E.l]!=13;)switch(Q={},Q.name=u0.utils.decode(z,E.slice(E.l,E.l+ve)).replace(/[\u0000\r\n].*$/g,""),E.l+=ve,Q.type=String.fromCharCode(E.read_shift(1)),A!=2&&!b&&(Q.offset=E.read_shift(4)),Q.len=E.read_shift(1),A==2&&(Q.offset=E.read_shift(2)),Q.dec=E.read_shift(1),Q.name.length&&B.push(Q),A!=2&&(E.l+=b?13:14),Q.type){case"B":(!N||Q.len!=8)&&w.WTF&&console.log("Skipping "+Q.name+":"+Q.type);break;case"G":case"P":w.WTF&&console.log("Skipping "+Q.name+":"+Q.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Q.type)}if(E[E.l]!==13&&(E.l=k-1),E.read_shift(1)!==13)throw new Error("DBF Terminator not found "+E.l+" "+E[E.l]);E.l=k;var G=0,fe=0;for(x[0]=[],fe=0;fe!=B.length;++fe)x[0][fe]=B[fe].name;for(;O-- >0;){if(E[E.l]===42){E.l+=K;continue}for(++E.l,x[++G]=[],fe=0,fe=0;fe!=B.length;++fe){var Z=E.slice(E.l,E.l+B[fe].len);E.l+=B[fe].len,xi(Z,0);var Ne=u0.utils.decode(z,Z);switch(B[fe].type){case"C":Ne.trim().length&&(x[G][fe]=Ne.replace(/\s+$/,""));break;case"D":Ne.length===8?x[G][fe]=new Date(+Ne.slice(0,4),+Ne.slice(4,6)-1,+Ne.slice(6,8)):x[G][fe]=Ne;break;case"F":x[G][fe]=parseFloat(Ne.trim());break;case"+":case"I":x[G][fe]=b?Z.read_shift(-4,"i")^2147483648:Z.read_shift(4,"i");break;case"L":switch(Ne.trim().toUpperCase()){case"Y":case"T":x[G][fe]=!0;break;case"N":case"F":x[G][fe]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Ne+"|")}break;case"M":if(!C)throw new Error("DBF Unexpected MEMO for type "+A.toString(16));x[G][fe]="##MEMO##"+(b?parseInt(Ne.trim(),10):Z.read_shift(4));break;case"N":Ne=Ne.replace(/\u0000/g,"").trim(),Ne&&Ne!="."&&(x[G][fe]=+Ne||0);break;case"@":x[G][fe]=new Date(Z.read_shift(-8,"f")-621356832e5);break;case"T":x[G][fe]=new Date((Z.read_shift(4)-2440588)*864e5+Z.read_shift(4));break;case"Y":x[G][fe]=Z.read_shift(4,"i")/1e4+Z.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":x[G][fe]=-Z.read_shift(-8,"f");break;case"B":if(N&&B[fe].len==8){x[G][fe]=Z.read_shift(8,"f");break}case"G":case"P":Z.l+=B[fe].len;break;case"0":if(B[fe].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+B[fe].type)}}}if(A!=2&&E.l<E.length&&E[E.l++]!=26)throw new Error("DBF EOF Marker missing "+(E.l-1)+" of "+E.length+" "+E[E.l-1].toString(16));return w&&w.sheetRows&&(x=x.slice(0,w.sheetRows)),w.DBF=B,x}function i(m,w){var x=w||{};x.dateNF||(x.dateNF="yyyymmdd");var E=El(r(m,x),x);return E["!cols"]=x.DBF.map(function(A){return{wch:A.len,DBF:A}}),delete x.DBF,E}function o(m,w){try{return xo(i(m,w),w)}catch(x){if(w&&w.WTF)throw x}return{SheetNames:[],Sheets:{}}}var c={B:8,C:250,L:1,D:8,"?":0,"":0};function d(m,w){var x=w||{};if(+x.codepage>=0&&Tu(+x.codepage),x.type=="string")throw new Error("Cannot write DBF to JS string");var E=ei(),A=_0(m,{header:1,raw:!0,cellDates:!0}),C=A[0],N=A.slice(1),b=m["!cols"]||[],O=0,k=0,K=0,z=1;for(O=0;O<C.length;++O){if(((b[O]||{}).DBF||{}).name){C[O]=b[O].DBF.name,++K;continue}if(C[O]!=null){if(++K,typeof C[O]=="number"&&(C[O]=C[O].toString(10)),typeof C[O]!="string")throw new Error("DBF Invalid column name "+C[O]+" |"+typeof C[O]+"|");if(C.indexOf(C[O])!==O){for(k=0;k<1024;++k)if(C.indexOf(C[O]+"_"+k)==-1){C[O]+="_"+k;break}}}}var B=vr(m["!ref"]),Q=[],Se=[],ve=[];for(O=0;O<=B.e.c-B.s.c;++O){var G="",fe="",Z=0,Ne=[];for(k=0;k<N.length;++k)N[k][O]!=null&&Ne.push(N[k][O]);if(Ne.length==0||C[O]==null){Q[O]="?";continue}for(k=0;k<Ne.length;++k){switch(typeof Ne[k]){case"number":fe="B";break;case"string":fe="C";break;case"boolean":fe="L";break;case"object":fe=Ne[k]instanceof Date?"D":"C";break;default:fe="C"}Z=Math.max(Z,String(Ne[k]).length),G=G&&G!=fe?"C":fe}Z>250&&(Z=250),fe=((b[O]||{}).DBF||{}).type,fe=="C"&&b[O].DBF.len>Z&&(Z=b[O].DBF.len),G=="B"&&fe=="N"&&(G="N",ve[O]=b[O].DBF.dec,Z=b[O].DBF.len),Se[O]=G=="C"||fe=="N"?Z:c[G]||0,z+=Se[O],Q[O]=G}var Te=E.next(32);for(Te.write_shift(4,318902576),Te.write_shift(4,N.length),Te.write_shift(2,296+32*K),Te.write_shift(2,z),O=0;O<4;++O)Te.write_shift(4,0);for(Te.write_shift(4,0|(+e[hx]||3)<<8),O=0,k=0;O<C.length;++O)if(C[O]!=null){var we=E.next(32),Re=(C[O].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);we.write_shift(1,Re,"sbcs"),we.write_shift(1,Q[O]=="?"?"C":Q[O],"sbcs"),we.write_shift(4,k),we.write_shift(1,Se[O]||c[Q[O]]||0),we.write_shift(1,ve[O]||0),we.write_shift(1,2),we.write_shift(4,0),we.write_shift(1,0),we.write_shift(4,0),we.write_shift(4,0),k+=Se[O]||c[Q[O]]||0}var at=E.next(264);for(at.write_shift(4,13),O=0;O<65;++O)at.write_shift(4,0);for(O=0;O<N.length;++O){var le=E.next(z);for(le.write_shift(1,0),k=0;k<C.length;++k)if(C[k]!=null)switch(Q[k]){case"L":le.write_shift(1,N[O][k]==null?63:N[O][k]?84:70);break;case"B":le.write_shift(8,N[O][k]||0,"f");break;case"N":var pt="0";for(typeof N[O][k]=="number"&&(pt=N[O][k].toFixed(ve[k]||0)),K=0;K<Se[k]-pt.length;++K)le.write_shift(1,32);le.write_shift(1,pt,"sbcs");break;case"D":N[O][k]?(le.write_shift(4,("0000"+N[O][k].getFullYear()).slice(-4),"sbcs"),le.write_shift(2,("00"+(N[O][k].getMonth()+1)).slice(-2),"sbcs"),le.write_shift(2,("00"+N[O][k].getDate()).slice(-2),"sbcs")):le.write_shift(8,"00000000","sbcs");break;case"C":var Ke=String(N[O][k]!=null?N[O][k]:"").slice(0,Se[k]);for(le.write_shift(1,Ke,"sbcs"),K=0;K<Se[k]-Ke.length;++K)le.write_shift(1,32);break}}return E.next(1).write_shift(1,26),E.end()}return{to_workbook:o,to_sheet:i,from_sheet:d}})(),a4=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Rn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(C,N){var b=t[N];return typeof b=="number"?Np(b):b},i=function(C,N,b){var O=N.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return O==59?C:Np(O)};t["|"]=254;function o(C,N){switch(N.type){case"base64":return c(zs(C),N);case"binary":return c(C,N);case"buffer":return c(Qt&&Buffer.isBuffer(C)?C.toString("binary"):Du(C),N);case"array":return c(D0(C),N)}throw new Error("Unrecognized type "+N.type)}function c(C,N){var b=C.split(/[\n\r]+/),O=-1,k=-1,K=0,z=0,B=[],Q=[],Se=null,ve={},G=[],fe=[],Z=[],Ne=0,Te;for(+N.codepage>=0&&Tu(+N.codepage);K!==b.length;++K){Ne=0;var we=b[K].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(e,r),Re=we.replace(/;;/g,"\0").split(";").map(function(re){return re.replace(/\u0000/g,";")}),at=Re[0],le;if(we.length>0)switch(at){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Re[1].charAt(0)=="P"&&Q.push(we.slice(3).replace(/;;/g,";"));break;case"C":var pt=!1,Ke=!1,We=!1,nt=!1,$e=-1,ue=-1;for(z=1;z<Re.length;++z)switch(Re[z].charAt(0)){case"A":break;case"X":k=parseInt(Re[z].slice(1))-1,Ke=!0;break;case"Y":for(O=parseInt(Re[z].slice(1))-1,Ke||(k=0),Te=B.length;Te<=O;++Te)B[Te]=[];break;case"K":le=Re[z].slice(1),le.charAt(0)==='"'?le=le.slice(1,le.length-1):le==="TRUE"?le=!0:le==="FALSE"?le=!1:isNaN(js(le))?isNaN(Iu(le).getDate())||(le=Gn(le)):(le=js(le),Se!==null&&Sx(Se)&&(le=Ox(le))),pt=!0;break;case"E":nt=!0;var j=iT(Re[z].slice(1),{r:O,c:k});B[O][k]=[B[O][k],j];break;case"S":We=!0,B[O][k]=[B[O][k],"S5S"];break;case"G":break;case"R":$e=parseInt(Re[z].slice(1))-1;break;case"C":ue=parseInt(Re[z].slice(1))-1;break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+we)}if(pt&&(B[O][k]&&B[O][k].length==2?B[O][k][0]=le:B[O][k]=le,Se=null),We){if(nt)throw new Error("SYLK shared formula cannot have own formula");var ae=$e>-1&&B[$e][ue];if(!ae||!ae[1])throw new Error("SYLK shared formula cannot find base");B[O][k][1]=sT(ae[1],{r:O-$e,c:k-ue})}break;case"F":var ee=0;for(z=1;z<Re.length;++z)switch(Re[z].charAt(0)){case"X":k=parseInt(Re[z].slice(1))-1,++ee;break;case"Y":for(O=parseInt(Re[z].slice(1))-1,Te=B.length;Te<=O;++Te)B[Te]=[];break;case"M":Ne=parseInt(Re[z].slice(1))/20;break;case"F":break;case"G":break;case"P":Se=Q[parseInt(Re[z].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(Z=Re[z].slice(1).split(" "),Te=parseInt(Z[0],10);Te<=parseInt(Z[1],10);++Te)Ne=parseInt(Z[2],10),fe[Te-1]=Ne===0?{hidden:!0}:{wch:Ne},A1(fe[Te-1]);break;case"C":k=parseInt(Re[z].slice(1))-1,fe[k]||(fe[k]={});break;case"R":O=parseInt(Re[z].slice(1))-1,G[O]||(G[O]={}),Ne>0?(G[O].hpt=Ne,G[O].hpx=pm(Ne)):Ne===0&&(G[O].hidden=!0);break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+we)}ee<1&&(Se=null);break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+we)}}return G.length>0&&(ve["!rows"]=G),fe.length>0&&(ve["!cols"]=fe),N&&N.sheetRows&&(B=B.slice(0,N.sheetRows)),[B,ve]}function d(C,N){var b=o(C,N),O=b[0],k=b[1],K=El(O,N);return Rn(k).forEach(function(z){K[z]=k[z]}),K}function m(C,N){return xo(d(C,N),N)}function w(C,N,b,O){var k="C;Y"+(b+1)+";X"+(O+1)+";K";switch(C.t){case"n":k+=C.v||0,C.f&&!C.F&&(k+=";E"+T1(C.f,{r:b,c:O}));break;case"b":k+=C.v?"TRUE":"FALSE";break;case"e":k+=C.w||C.v;break;case"d":k+='"'+(C.w||C.v)+'"';break;case"s":k+='"'+C.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return k}function x(C,N){N.forEach(function(b,O){var k="F;W"+(O+1)+" "+(O+1)+" ";b.hidden?k+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=w0(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=v0(b.wpx)),typeof b.wch=="number"&&(k+=Math.round(b.wch))),k.charAt(k.length-1)!=" "&&C.push(k)})}function E(C,N){N.forEach(function(b,O){var k="F;";b.hidden?k+="M0;":b.hpt?k+="M"+20*b.hpt+";":b.hpx&&(k+="M"+20*y0(b.hpx)+";"),k.length>2&&C.push(k+"R"+(O+1))})}function A(C,N){var b=["ID;PWXL;N;E"],O=[],k=vr(C["!ref"]),K,z=Array.isArray(C),B=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),C["!cols"]&&x(b,C["!cols"]),C["!rows"]&&E(b,C["!rows"]),b.push("B;Y"+(k.e.r-k.s.r+1)+";X"+(k.e.c-k.s.c+1)+";D"+[k.s.c,k.s.r,k.e.c,k.e.r].join(" "));for(var Q=k.s.r;Q<=k.e.r;++Q)for(var Se=k.s.c;Se<=k.e.c;++Se){var ve=ir({r:Q,c:Se});K=z?(C[Q]||[])[Se]:C[ve],!(!K||K.v==null&&(!K.f||K.F))&&O.push(w(K,C,Q,Se))}return b.join(B)+B+O.join(B)+B+"E"+B}return{to_workbook:m,to_sheet:d,from_sheet:A}})(),o4=(function(){function t(c,d){switch(d.type){case"base64":return e(zs(c),d);case"binary":return e(c,d);case"buffer":return e(Qt&&Buffer.isBuffer(c)?c.toString("binary"):Du(c),d);case"array":return e(D0(c),d)}throw new Error("Unrecognized type "+d.type)}function e(c,d){for(var m=c.split(`
`),w=-1,x=-1,E=0,A=[];E!==m.length;++E){if(m[E].trim()==="BOT"){A[++w]=[],x=0;continue}if(!(w<0)){var C=m[E].trim().split(","),N=C[0],b=C[1];++E;for(var O=m[E]||"";(O.match(/["]/g)||[]).length&1&&E<m.length-1;)O+=`
`+m[++E];switch(O=O.trim(),+N){case-1:if(O==="BOT"){A[++w]=[],x=0;continue}else if(O!=="EOD")throw new Error("Unrecognized DIF special command "+O);break;case 0:O==="TRUE"?A[w][x]=!0:O==="FALSE"?A[w][x]=!1:isNaN(js(b))?isNaN(Iu(b).getDate())?A[w][x]=b:A[w][x]=Gn(b):A[w][x]=js(b),++x;break;case 1:O=O.slice(1,O.length-1),O=O.replace(/""/g,'"'),O&&O.match(/^=".*"$/)&&(O=O.slice(2,-1)),A[w][x++]=O!==""?O:null;break}if(O==="EOD")break}}return d&&d.sheetRows&&(A=A.slice(0,d.sheetRows)),A}function r(c,d){return El(t(c,d),d)}function i(c,d){return xo(r(c,d),d)}var o=(function(){var c=function(w,x,E,A,C){w.push(x),w.push(E+","+A),w.push('"'+C.replace(/"/g,'""')+'"')},d=function(w,x,E,A){w.push(x+","+E),w.push(x==1?'"'+A.replace(/"/g,'""')+'"':A)};return function(w){var x=[],E=vr(w["!ref"]),A,C=Array.isArray(w);c(x,"TABLE",0,1,"sheetjs"),c(x,"VECTORS",0,E.e.r-E.s.r+1,""),c(x,"TUPLES",0,E.e.c-E.s.c+1,""),c(x,"DATA",0,0,"");for(var N=E.s.r;N<=E.e.r;++N){d(x,-1,0,"BOT");for(var b=E.s.c;b<=E.e.c;++b){var O=ir({r:N,c:b});if(A=C?(w[N]||[])[b]:w[O],!A){d(x,1,0,"");continue}switch(A.t){case"n":var k=A.w;!k&&A.v!=null&&(k=A.v),k==null?A.f&&!A.F?d(x,1,0,"="+A.f):d(x,1,0,""):d(x,0,k,"V");break;case"b":d(x,0,A.v?1:0,A.v?"TRUE":"FALSE");break;case"s":d(x,1,0,isNaN(A.v)?A.v:'="'+A.v+'"');break;case"d":A.w||(A.w=Oa(A.z||Br[14],ti(Gn(A.v)))),d(x,0,A.w,"V");break;default:d(x,1,0,"")}}}d(x,-1,0,"EOD");var K=`\r
`,z=x.join(K);return z}})();return{to_workbook:i,to_sheet:r,from_sheet:o}})(),fm=(function(){function t(A){return A.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(A){return A.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(A,C){for(var N=A.split(`
`),b=-1,O=-1,k=0,K=[];k!==N.length;++k){var z=N[k].trim().split(":");if(z[0]==="cell"){var B=pn(z[1]);if(K.length<=B.r)for(b=K.length;b<=B.r;++b)K[b]||(K[b]=[]);switch(b=B.r,O=B.c,z[2]){case"t":K[b][O]=t(z[3]);break;case"v":K[b][O]=+z[3];break;case"vtf":var Q=z[z.length-1];case"vtc":z[3]==="nl"?K[b][O]=!!+z[4]:K[b][O]=+z[4],z[2]=="vtf"&&(K[b][O]=[K[b][O],Q])}}}return C&&C.sheetRows&&(K=K.slice(0,C.sheetRows)),K}function i(A,C){return El(r(A,C),C)}function o(A,C){return xo(i(A,C),C)}var c=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),d=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,m=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),w="--SocialCalcSpreadsheetControlSave--";function x(A){if(!A||!A["!ref"])return"";for(var C=[],N=[],b,O="",k=_i(A["!ref"]),K=Array.isArray(A),z=k.s.r;z<=k.e.r;++z)for(var B=k.s.c;B<=k.e.c;++B)if(O=ir({r:z,c:B}),b=K?(A[z]||[])[B]:A[O],!(!b||b.v==null||b.t==="z")){switch(N=["cell",O,"t"],b.t){case"s":case"str":N.push(e(b.v));break;case"n":b.f?(N[2]="vtf",N[3]="n",N[4]=b.v,N[5]=e(b.f)):(N[2]="v",N[3]=b.v);break;case"b":N[2]="vt"+(b.f?"f":"c"),N[3]="nl",N[4]=b.v?"1":"0",N[5]=e(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var Q=ti(Gn(b.v));N[2]="vtc",N[3]="nd",N[4]=""+Q,N[5]=b.w||Oa(b.z||Br[14],Q);break;case"e":continue}C.push(N.join(":"))}return C.push("sheet:c:"+(k.e.c-k.s.c+1)+":r:"+(k.e.r-k.s.r+1)+":tvf:1"),C.push("valueformat:1:text-wiki"),C.join(`
`)}function E(A){return[c,d,m,d,x(A),w].join(`
`)}return{to_workbook:o,to_sheet:i,from_sheet:E}})(),l4=(function(){function t(E,A,C,N,b){b.raw?A[C][N]=E:E===""||(E==="TRUE"?A[C][N]=!0:E==="FALSE"?A[C][N]=!1:isNaN(js(E))?isNaN(Iu(E).getDate())?A[C][N]=E:A[C][N]=Gn(E):A[C][N]=js(E))}function e(E,A){var C=A||{},N=[];if(!E||E.length===0)return N;for(var b=E.split(/[\r\n]/),O=b.length-1;O>=0&&b[O].length===0;)--O;for(var k=10,K=0,z=0;z<=O;++z)K=b[z].indexOf(" "),K==-1?K=b[z].length:K++,k=Math.max(k,K);for(z=0;z<=O;++z){N[z]=[];var B=0;for(t(b[z].slice(0,k).trim(),N,z,B,C),B=1;B<=(b[z].length-k)/10+1;++B)t(b[z].slice(k+(B-1)*10,k+B*10).trim(),N,z,B,C)}return C.sheetRows&&(N=N.slice(0,C.sheetRows)),N}var r={44:",",9:"	",59:";",124:"|"},i={44:3,9:2,59:1,124:0};function o(E){for(var A={},C=!1,N=0,b=0;N<E.length;++N)(b=E.charCodeAt(N))==34?C=!C:!C&&b in r&&(A[b]=(A[b]||0)+1);b=[];for(N in A)Object.prototype.hasOwnProperty.call(A,N)&&b.push([A[N],N]);if(!b.length){A=i;for(N in A)Object.prototype.hasOwnProperty.call(A,N)&&b.push([A[N],N])}return b.sort(function(O,k){return O[0]-k[0]||i[O[1]]-i[k[1]]}),r[b.pop()[1]]||44}function c(E,A){var C=A||{},N="",b=C.dense?[]:{},O={s:{c:0,r:0},e:{c:0,r:0}};E.slice(0,4)=="sep="?E.charCodeAt(5)==13&&E.charCodeAt(6)==10?(N=E.charAt(4),E=E.slice(7)):E.charCodeAt(5)==13||E.charCodeAt(5)==10?(N=E.charAt(4),E=E.slice(6)):N=o(E.slice(0,1024)):C&&C.FS?N=C.FS:N=o(E.slice(0,1024));var k=0,K=0,z=0,B=0,Q=0,Se=N.charCodeAt(0),ve=!1,G=0,fe=E.charCodeAt(0);E=E.replace(/\r\n/mg,`
`);var Z=C.dateNF!=null?SA(C.dateNF):null;function Ne(){var Te=E.slice(B,Q),we={};if(Te.charAt(0)=='"'&&Te.charAt(Te.length-1)=='"'&&(Te=Te.slice(1,-1).replace(/""/g,'"')),Te.length===0)we.t="z";else if(C.raw)we.t="s",we.v=Te;else if(Te.trim().length===0)we.t="s",we.v=Te;else if(Te.charCodeAt(0)==61)Te.charCodeAt(1)==34&&Te.charCodeAt(Te.length-1)==34?(we.t="s",we.v=Te.slice(2,-1).replace(/""/g,'"')):aT(Te)?(we.t="n",we.f=Te.slice(1)):(we.t="s",we.v=Te);else if(Te=="TRUE")we.t="b",we.v=!0;else if(Te=="FALSE")we.t="b",we.v=!1;else if(!isNaN(z=js(Te)))we.t="n",C.cellText!==!1&&(we.w=Te),we.v=z;else if(!isNaN(Iu(Te).getDate())||Z&&Te.match(Z)){we.z=C.dateNF||Br[14];var Re=0;Z&&Te.match(Z)&&(Te=TA(Te,C.dateNF,Te.match(Z)||[]),Re=1),C.cellDates?(we.t="d",we.v=Gn(Te,Re)):(we.t="n",we.v=ti(Gn(Te,Re))),C.cellText!==!1&&(we.w=Oa(we.z,we.v instanceof Date?ti(we.v):we.v)),C.cellNF||delete we.z}else we.t="s",we.v=Te;if(we.t=="z"||(C.dense?(b[k]||(b[k]=[]),b[k][K]=we):b[ir({c:K,r:k})]=we),B=Q+1,fe=E.charCodeAt(B),O.e.c<K&&(O.e.c=K),O.e.r<k&&(O.e.r=k),G==Se)++K;else if(K=0,++k,C.sheetRows&&C.sheetRows<=k)return!0}e:for(;Q<E.length;++Q)switch(G=E.charCodeAt(Q)){case 34:fe===34&&(ve=!ve);break;case Se:case 10:case 13:if(!ve&&Ne())break e;break}return Q-B>0&&Ne(),b["!ref"]=qr(O),b}function d(E,A){return!(A&&A.PRN)||A.FS||E.slice(0,4)=="sep="||E.indexOf("	")>=0||E.indexOf(",")>=0||E.indexOf(";")>=0?c(E,A):El(e(E,A),A)}function m(E,A){var C="",N=A.type=="string"?[0,0,0,0]:y6(E,A);switch(A.type){case"base64":C=zs(E);break;case"binary":C=E;break;case"buffer":A.codepage==65001?C=E.toString("utf8"):A.codepage&&typeof u0<"u"||(C=Qt&&Buffer.isBuffer(E)?E.toString("binary"):Du(E));break;case"array":C=D0(E);break;case"string":C=E;break;default:throw new Error("Unrecognized type "+A.type)}return N[0]==239&&N[1]==187&&N[2]==191?C=hu(C.slice(3)):A.type!="string"&&A.type!="buffer"&&A.codepage==65001?C=hu(C):A.type=="binary"&&typeof u0<"u",C.slice(0,19)=="socialcalc:version:"?fm.to_sheet(A.type=="string"?C:hu(C),A):d(C,A)}function w(E,A){return xo(m(E,A),A)}function x(E){for(var A=[],C=vr(E["!ref"]),N,b=Array.isArray(E),O=C.s.r;O<=C.e.r;++O){for(var k=[],K=C.s.c;K<=C.e.c;++K){var z=ir({r:O,c:K});if(N=b?(E[O]||[])[K]:E[z],!N||N.v==null){k.push("          ");continue}for(var B=(N.w||(Ws(N),N.w)||"").slice(0,10);B.length<10;)B+=" ";k.push(B+(K===0?" ":""))}A.push(k.join(""))}return A.join(`
`)}return{to_workbook:w,to_sheet:m,from_sheet:x}})(),a2=(function(){function t(j,ae,ee){if(j){xi(j,j.l||0);for(var re=ee.Enum||$e;j.l<j.length;){var oe=j.read_shift(2),qe=re[oe]||re[65535],De=j.read_shift(2),Xe=j.l+De,Ve=qe.f&&qe.f(j,De,ee);if(j.l=Xe,ae(Ve,qe,oe))return}}}function e(j,ae){switch(ae.type){case"base64":return r(ts(zs(j)),ae);case"binary":return r(ts(j),ae);case"buffer":case"array":return r(j,ae)}throw"Unsupported type "+ae.type}function r(j,ae){if(!j)return j;var ee=ae||{},re=ee.dense?[]:{},oe="Sheet1",qe="",De=0,Xe={},Ve=[],Tt=[],Mt={s:{r:0,c:0},e:{r:0,c:0}},mt=ee.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)ee.Enum=$e,t(j,function(et,kt,Ct){switch(Ct){case 0:ee.vers=et,et>=4096&&(ee.qpro=!0);break;case 6:Mt=et;break;case 204:et&&(qe=et);break;case 222:qe=et;break;case 15:case 51:ee.qpro||(et[1].v=et[1].v.slice(1));case 13:case 14:case 16:Ct==14&&(et[2]&112)==112&&(et[2]&15)>1&&(et[2]&15)<15&&(et[1].z=ee.dateNF||Br[14],ee.cellDates&&(et[1].t="d",et[1].v=Ox(et[1].v))),ee.qpro&&et[3]>De&&(re["!ref"]=qr(Mt),Xe[oe]=re,Ve.push(oe),re=ee.dense?[]:{},Mt={s:{r:0,c:0},e:{r:0,c:0}},De=et[3],oe=qe||"Sheet"+(De+1),qe="");var on=ee.dense?(re[et[0].r]||[])[et[0].c]:re[ir(et[0])];if(on){on.t=et[1].t,on.v=et[1].v,et[1].z!=null&&(on.z=et[1].z),et[1].f!=null&&(on.f=et[1].f);break}ee.dense?(re[et[0].r]||(re[et[0].r]=[]),re[et[0].r][et[0].c]=et[1]):re[ir(et[0])]=et[1];break}},ee);else if(j[2]==26||j[2]==14)ee.Enum=ue,j[2]==14&&(ee.qpro=!0,j.l=0),t(j,function(et,kt,Ct){switch(Ct){case 204:oe=et;break;case 22:et[1].v=et[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(et[3]>De&&(re["!ref"]=qr(Mt),Xe[oe]=re,Ve.push(oe),re=ee.dense?[]:{},Mt={s:{r:0,c:0},e:{r:0,c:0}},De=et[3],oe="Sheet"+(De+1)),mt>0&&et[0].r>=mt)break;ee.dense?(re[et[0].r]||(re[et[0].r]=[]),re[et[0].r][et[0].c]=et[1]):re[ir(et[0])]=et[1],Mt.e.c<et[0].c&&(Mt.e.c=et[0].c),Mt.e.r<et[0].r&&(Mt.e.r=et[0].r);break;case 27:et[14e3]&&(Tt[et[14e3][0]]=et[14e3][1]);break;case 1537:Tt[et[0]]=et[1],et[0]==De&&(oe=et[1]);break}},ee);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(re["!ref"]=qr(Mt),Xe[qe||oe]=re,Ve.push(qe||oe),!Tt.length)return{SheetNames:Ve,Sheets:Xe};for(var Pt={},Ar=[],$t=0;$t<Tt.length;++$t)Xe[Ve[$t]]?(Ar.push(Tt[$t]||Ve[$t]),Pt[Tt[$t]]=Xe[Tt[$t]]||Xe[Ve[$t]]):(Ar.push(Tt[$t]),Pt[Tt[$t]]={"!ref":"A1"});return{SheetNames:Ar,Sheets:Pt}}function i(j,ae){var ee=ae||{};if(+ee.codepage>=0&&Tu(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK1 to JS string");var re=ei(),oe=vr(j["!ref"]),qe=Array.isArray(j),De=[];rt(re,0,c(1030)),rt(re,6,w(oe));for(var Xe=Math.min(oe.e.r,8191),Ve=oe.s.r;Ve<=Xe;++Ve)for(var Tt=Nn(Ve),Mt=oe.s.c;Mt<=oe.e.c;++Mt){Ve===oe.s.r&&(De[Mt]=Un(Mt));var mt=De[Mt]+Tt,Pt=qe?(j[Ve]||[])[Mt]:j[mt];if(!(!Pt||Pt.t=="z"))if(Pt.t=="n")(Pt.v|0)==Pt.v&&Pt.v>=-32768&&Pt.v<=32767?rt(re,13,N(Ve,Mt,Pt.v)):rt(re,14,O(Ve,Mt,Pt.v));else{var Ar=Ws(Pt);rt(re,15,A(Ve,Mt,Ar.slice(0,239)))}}return rt(re,1),re.end()}function o(j,ae){var ee=ae||{};if(+ee.codepage>=0&&Tu(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK3 to JS string");var re=ei();rt(re,0,d(j));for(var oe=0,qe=0;oe<j.SheetNames.length;++oe)(j.Sheets[j.SheetNames[oe]]||{})["!ref"]&&rt(re,27,nt(j.SheetNames[oe],qe++));var De=0;for(oe=0;oe<j.SheetNames.length;++oe){var Xe=j.Sheets[j.SheetNames[oe]];if(!(!Xe||!Xe["!ref"])){for(var Ve=vr(Xe["!ref"]),Tt=Array.isArray(Xe),Mt=[],mt=Math.min(Ve.e.r,8191),Pt=Ve.s.r;Pt<=mt;++Pt)for(var Ar=Nn(Pt),$t=Ve.s.c;$t<=Ve.e.c;++$t){Pt===Ve.s.r&&(Mt[$t]=Un($t));var et=Mt[$t]+Ar,kt=Tt?(Xe[Pt]||[])[$t]:Xe[et];if(!(!kt||kt.t=="z"))if(kt.t=="n")rt(re,23,Ne(Pt,$t,De,kt.v));else{var Ct=Ws(kt);rt(re,22,G(Pt,$t,De,Ct.slice(0,239)))}}++De}}return rt(re,1),re.end()}function c(j){var ae=Oe(2);return ae.write_shift(2,j),ae}function d(j){var ae=Oe(26);ae.write_shift(2,4096),ae.write_shift(2,4),ae.write_shift(4,0);for(var ee=0,re=0,oe=0,qe=0;qe<j.SheetNames.length;++qe){var De=j.SheetNames[qe],Xe=j.Sheets[De];if(!(!Xe||!Xe["!ref"])){++oe;var Ve=_i(Xe["!ref"]);ee<Ve.e.r&&(ee=Ve.e.r),re<Ve.e.c&&(re=Ve.e.c)}}return ee>8191&&(ee=8191),ae.write_shift(2,ee),ae.write_shift(1,oe),ae.write_shift(1,re),ae.write_shift(2,0),ae.write_shift(2,0),ae.write_shift(1,1),ae.write_shift(1,2),ae.write_shift(4,0),ae.write_shift(4,0),ae}function m(j,ae,ee){var re={s:{c:0,r:0},e:{c:0,r:0}};return ae==8&&ee.qpro?(re.s.c=j.read_shift(1),j.l++,re.s.r=j.read_shift(2),re.e.c=j.read_shift(1),j.l++,re.e.r=j.read_shift(2),re):(re.s.c=j.read_shift(2),re.s.r=j.read_shift(2),ae==12&&ee.qpro&&(j.l+=2),re.e.c=j.read_shift(2),re.e.r=j.read_shift(2),ae==12&&ee.qpro&&(j.l+=2),re.s.c==65535&&(re.s.c=re.e.c=re.s.r=re.e.r=0),re)}function w(j){var ae=Oe(8);return ae.write_shift(2,j.s.c),ae.write_shift(2,j.s.r),ae.write_shift(2,j.e.c),ae.write_shift(2,j.e.r),ae}function x(j,ae,ee){var re=[{c:0,r:0},{t:"n",v:0},0,0];return ee.qpro&&ee.vers!=20768?(re[0].c=j.read_shift(1),re[3]=j.read_shift(1),re[0].r=j.read_shift(2),j.l+=2):(re[2]=j.read_shift(1),re[0].c=j.read_shift(2),re[0].r=j.read_shift(2)),re}function E(j,ae,ee){var re=j.l+ae,oe=x(j,ae,ee);if(oe[1].t="s",ee.vers==20768){j.l++;var qe=j.read_shift(1);return oe[1].v=j.read_shift(qe,"utf8"),oe}return ee.qpro&&j.l++,oe[1].v=j.read_shift(re-j.l,"cstr"),oe}function A(j,ae,ee){var re=Oe(7+ee.length);re.write_shift(1,255),re.write_shift(2,ae),re.write_shift(2,j),re.write_shift(1,39);for(var oe=0;oe<re.length;++oe){var qe=ee.charCodeAt(oe);re.write_shift(1,qe>=128?95:qe)}return re.write_shift(1,0),re}function C(j,ae,ee){var re=x(j,ae,ee);return re[1].v=j.read_shift(2,"i"),re}function N(j,ae,ee){var re=Oe(7);return re.write_shift(1,255),re.write_shift(2,ae),re.write_shift(2,j),re.write_shift(2,ee,"i"),re}function b(j,ae,ee){var re=x(j,ae,ee);return re[1].v=j.read_shift(8,"f"),re}function O(j,ae,ee){var re=Oe(13);return re.write_shift(1,255),re.write_shift(2,ae),re.write_shift(2,j),re.write_shift(8,ee,"f"),re}function k(j,ae,ee){var re=j.l+ae,oe=x(j,ae,ee);if(oe[1].v=j.read_shift(8,"f"),ee.qpro)j.l=re;else{var qe=j.read_shift(2);Q(j.slice(j.l,j.l+qe),oe),j.l+=qe}return oe}function K(j,ae,ee){var re=ae&32768;return ae&=-32769,ae=(re?j:0)+(ae>=8192?ae-16384:ae),(re?"":"$")+(ee?Un(ae):Nn(ae))}var z={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},B=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Q(j,ae){xi(j,0);for(var ee=[],re=0,oe="",qe="",De="",Xe="";j.l<j.length;){var Ve=j[j.l++];switch(Ve){case 0:ee.push(j.read_shift(8,"f"));break;case 1:qe=K(ae[0].c,j.read_shift(2),!0),oe=K(ae[0].r,j.read_shift(2),!1),ee.push(qe+oe);break;case 2:{var Tt=K(ae[0].c,j.read_shift(2),!0),Mt=K(ae[0].r,j.read_shift(2),!1);qe=K(ae[0].c,j.read_shift(2),!0),oe=K(ae[0].r,j.read_shift(2),!1),ee.push(Tt+Mt+":"+qe+oe)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:ee.push("("+ee.pop()+")");break;case 5:ee.push(j.read_shift(2));break;case 6:{for(var mt="";Ve=j[j.l++];)mt+=String.fromCharCode(Ve);ee.push('"'+mt.replace(/"/g,'""')+'"')}break;case 8:ee.push("-"+ee.pop());break;case 23:ee.push("+"+ee.pop());break;case 22:ee.push("NOT("+ee.pop()+")");break;case 20:case 21:Xe=ee.pop(),De=ee.pop(),ee.push(["AND","OR"][Ve-20]+"("+De+","+Xe+")");break;default:if(Ve<32&&B[Ve])Xe=ee.pop(),De=ee.pop(),ee.push(De+B[Ve]+Xe);else if(z[Ve]){if(re=z[Ve][1],re==69&&(re=j[j.l++]),re>ee.length){console.error("WK1 bad formula parse 0x"+Ve.toString(16)+":|"+ee.join("|")+"|");return}var Pt=ee.slice(-re);ee.length-=re,ee.push(z[Ve][0]+"("+Pt.join(",")+")")}else return Ve<=7?console.error("WK1 invalid opcode "+Ve.toString(16)):Ve<=24?console.error("WK1 unsupported op "+Ve.toString(16)):Ve<=30?console.error("WK1 invalid opcode "+Ve.toString(16)):Ve<=115?console.error("WK1 unsupported function opcode "+Ve.toString(16)):console.error("WK1 unrecognized opcode "+Ve.toString(16))}}ee.length==1?ae[1].f=""+ee[0]:console.error("WK1 bad formula parse |"+ee.join("|")+"|")}function Se(j){var ae=[{c:0,r:0},{t:"n",v:0},0];return ae[0].r=j.read_shift(2),ae[3]=j[j.l++],ae[0].c=j[j.l++],ae}function ve(j,ae){var ee=Se(j);return ee[1].t="s",ee[1].v=j.read_shift(ae-4,"cstr"),ee}function G(j,ae,ee,re){var oe=Oe(6+re.length);oe.write_shift(2,j),oe.write_shift(1,ee),oe.write_shift(1,ae),oe.write_shift(1,39);for(var qe=0;qe<re.length;++qe){var De=re.charCodeAt(qe);oe.write_shift(1,De>=128?95:De)}return oe.write_shift(1,0),oe}function fe(j,ae){var ee=Se(j);ee[1].v=j.read_shift(2);var re=ee[1].v>>1;if(ee[1].v&1)switch(re&7){case 0:re=(re>>3)*5e3;break;case 1:re=(re>>3)*500;break;case 2:re=(re>>3)/20;break;case 3:re=(re>>3)/200;break;case 4:re=(re>>3)/2e3;break;case 5:re=(re>>3)/2e4;break;case 6:re=(re>>3)/16;break;case 7:re=(re>>3)/64;break}return ee[1].v=re,ee}function Z(j,ae){var ee=Se(j),re=j.read_shift(4),oe=j.read_shift(4),qe=j.read_shift(2);if(qe==65535)return re===0&&oe===3221225472?(ee[1].t="e",ee[1].v=15):re===0&&oe===3489660928?(ee[1].t="e",ee[1].v=42):ee[1].v=0,ee;var De=qe&32768;return qe=(qe&32767)-16446,ee[1].v=(1-De*2)*(oe*Math.pow(2,qe+32)+re*Math.pow(2,qe)),ee}function Ne(j,ae,ee,re){var oe=Oe(14);if(oe.write_shift(2,j),oe.write_shift(1,ee),oe.write_shift(1,ae),re==0)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var qe=0,De=0,Xe=0,Ve=0;return re<0&&(qe=1,re=-re),De=Math.log2(re)|0,re/=Math.pow(2,De-31),Ve=re>>>0,(Ve&2147483648)==0&&(re/=2,++De,Ve=re>>>0),re-=Ve,Ve|=2147483648,Ve>>>=0,re*=Math.pow(2,32),Xe=re>>>0,oe.write_shift(4,Xe),oe.write_shift(4,Ve),De+=16383+(qe?32768:0),oe.write_shift(2,De),oe}function Te(j,ae){var ee=Z(j);return j.l+=ae-14,ee}function we(j,ae){var ee=Se(j),re=j.read_shift(4);return ee[1].v=re>>6,ee}function Re(j,ae){var ee=Se(j),re=j.read_shift(8,"f");return ee[1].v=re,ee}function at(j,ae){var ee=Re(j);return j.l+=ae-10,ee}function le(j,ae){return j[j.l+ae-1]==0?j.read_shift(ae,"cstr"):""}function pt(j,ae){var ee=j[j.l++];ee>ae-1&&(ee=ae-1);for(var re="";re.length<ee;)re+=String.fromCharCode(j[j.l++]);return re}function Ke(j,ae,ee){if(!(!ee.qpro||ae<21)){var re=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var oe=j.read_shift(ae-21,"cstr");return[re,oe]}}function We(j,ae){for(var ee={},re=j.l+ae;j.l<re;){var oe=j.read_shift(2);if(oe==14e3){for(ee[oe]=[0,""],ee[oe][0]=j.read_shift(2);j[j.l];)ee[oe][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return ee}function nt(j,ae){var ee=Oe(5+j.length);ee.write_shift(2,14e3),ee.write_shift(2,ae);for(var re=0;re<j.length;++re){var oe=j.charCodeAt(re);ee[ee.l++]=oe>127?95:oe}return ee[ee.l++]=0,ee}var $e={0:{n:"BOF",f:am},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:m},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:C},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:E},16:{n:"FORMULA",f:k},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:E},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:le},222:{n:"SHEETNAMELP",f:pt},65535:{n:""}},ue={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ve},23:{n:"NUMBER17",f:Z},24:{n:"NUMBER18",f:fe},25:{n:"FORMULA19",f:Te},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:We},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:we},38:{n:"??"},39:{n:"NUMBER27",f:Re},40:{n:"FORMULA28",f:at},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:le},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ke},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:i,book_to_wk3:o,to_workbook:e}})(),u4=/^\s|\s$|[\t\n\r]/;function hm(t,e){if(!e.bookSST)return"";var r=[Qr];r[r.length]=tt("sst",null,{xmlns:yl[0],count:t.Count,uniqueCount:t.Unique});for(var i=0;i!=t.length;++i)if(t[i]!=null){var o=t[i],c="<si>";o.r?c+=o.r:(c+="<t",o.t||(o.t=""),o.t.match(u4)&&(c+=' xml:space="preserve"'),c+=">"+nr(o.t)+"</t>"),c+="</si>",r[r.length]=c}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function c4(t){return[t.read_shift(4),t.read_shift(4)]}function f4(t,e){return e||(e=Oe(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var h4=rS;function d4(t){var e=ei();ke(e,159,f4(t));for(var r=0;r<t.length;++r)ke(e,19,h4(t[r]));return ke(e,160),e.end()}function g4(t){for(var e=[],r=t.split(""),i=0;i<r.length;++i)e[i]=r[i].charCodeAt(0);return e}function dm(t){var e=0,r,i=g4(t),o=i.length+1,c,d,m,w,x;for(r=ho(o),r[0]=i.length,c=1;c!=o;++c)r[c]=i[c-1];for(c=o-1;c>=0;--c)d=r[c],m=(e&16384)===0?0:1,w=e<<1&32767,x=m|w,e=x^d;return e^52811}var p4=(function(){function t(o,c){switch(c.type){case"base64":return e(zs(o),c);case"binary":return e(o,c);case"buffer":return e(Qt&&Buffer.isBuffer(o)?o.toString("binary"):Du(o),c);case"array":return e(D0(o),c)}throw new Error("Unrecognized type "+c.type)}function e(o,c){var d=c||{},m=d.dense?[]:{},w=o.match(/\\trowd.*?\\row\b/g);if(!w.length)throw new Error("RTF missing table");var x={s:{c:0,r:0},e:{c:0,r:w.length-1}};return w.forEach(function(E,A){Array.isArray(m)&&(m[A]=[]);for(var C=/\\\w+\b/g,N=0,b,O=-1;b=C.exec(E);){switch(b[0]){case"\\cell":var k=E.slice(N,C.lastIndex-b[0].length);if(k[0]==" "&&(k=k.slice(1)),++O,k.length){var K={v:k,t:"s"};Array.isArray(m)?m[A][O]=K:m[ir({r:A,c:O})]=K}break}N=C.lastIndex}O>x.e.c&&(x.e.c=O)}),m["!ref"]=qr(x),m}function r(o,c){return xo(t(o,c),c)}function i(o){for(var c=["{\\rtf1\\ansi"],d=vr(o["!ref"]),m,w=Array.isArray(o),x=d.s.r;x<=d.e.r;++x){c.push("\\trowd\\trautofit1");for(var E=d.s.c;E<=d.e.c;++E)c.push("\\cellx"+(E+1));for(c.push("\\pard\\intbl"),E=d.s.c;E<=d.e.c;++E){var A=ir({r:x,c:E});m=w?(o[x]||[])[E]:o[A],!(!m||m.v==null&&(!m.f||m.F))&&(c.push(" "+(m.w||(Ws(m),m.w))),c.push("\\cell"))}c.push("\\pard\\intbl\\row")}return c.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:i}})();function o2(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var x4=6,Hs=x4;function w0(t){return Math.floor((t+Math.round(128/Hs)/256)*Hs)}function v0(t){return Math.floor((t-5)/Hs*100+.5)/100}function qh(t){return Math.round((t*Hs+5)/Hs*256)/256}function A1(t){t.width?(t.wpx=w0(t.width),t.wch=v0(t.wpx),t.MDW=Hs):t.wpx?(t.wch=v0(t.wpx),t.width=qh(t.wch),t.MDW=Hs):typeof t.wch=="number"&&(t.width=qh(t.wch),t.wpx=w0(t.width),t.MDW=Hs),t.customWidth&&delete t.customWidth}var m4=96,gm=m4;function y0(t){return t*96/gm}function pm(t){return t*gm/96}function w4(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&(e[e.length]=tt("numFmt",null,{numFmtId:i,formatCode:nr(t[i])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=tt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function v4(t){var e=[];return e[e.length]=tt("cellXfs",null),t.forEach(function(r){e[e.length]=tt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=tt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function xm(t,e){var r=[Qr,tt("styleSheet",null,{xmlns:yl[0],"xmlns:vt":gn.vt})],i;return t.SSF&&(i=w4(t.SSF))!=null&&(r[r.length]=i),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(i=v4(e.cellXfs))&&(r[r.length]=i),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function y4(t,e){var r=t.read_shift(2),i=jn(t);return[r,i]}function E4(t,e,r){r||(r=Oe(6+4*e.length)),r.write_shift(2,t),xn(e,r);var i=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),i}function _4(t,e,r){var i={};i.sz=t.read_shift(2)/20;var o=uS(t);o.fItalic&&(i.italic=1),o.fCondense&&(i.condense=1),o.fExtend&&(i.extend=1),o.fShadow&&(i.shadow=1),o.fOutline&&(i.outline=1),o.fStrikeout&&(i.strike=1);var c=t.read_shift(2);switch(c===700&&(i.bold=1),t.read_shift(2)){case 1:i.vertAlign="superscript";break;case 2:i.vertAlign="subscript";break}var d=t.read_shift(1);d!=0&&(i.underline=d);var m=t.read_shift(1);m>0&&(i.family=m);var w=t.read_shift(1);switch(w>0&&(i.charset=w),t.l++,i.color=lS(t),t.read_shift(1)){case 1:i.scheme="major";break;case 2:i.scheme="minor";break}return i.name=jn(t),i}function A4(t,e){e||(e=Oe(153)),e.write_shift(2,t.sz*20),cS(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),x0(t.color,e);var i=0;return i=2,e.write_shift(1,i),xn(t.name,e),e.length>e.l?e.slice(0,e.l):e}var S4=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Sh,T4=vs;function l2(t,e){e||(e=Oe(84)),Sh||(Sh=f1(S4));var r=Sh[t.patternType];r==null&&(r=40),e.write_shift(4,r);var i=0;if(r!=40)for(x0({auto:1},e),x0({auto:1},e);i<12;++i)e.write_shift(4,0);else{for(;i<4;++i)e.write_shift(4,0);for(;i<12;++i)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function C4(t,e){var r=t.l+e,i=t.read_shift(2),o=t.read_shift(2);return t.l=r,{ixfe:i,numFmtId:o}}function mm(t,e,r){r||(r=Oe(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var i=0;return r.write_shift(1,i),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function su(t,e){return e||(e=Oe(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var I4=vs;function O4(t,e){return e||(e=Oe(51)),e.write_shift(1,0),su(null,e),su(null,e),su(null,e),su(null,e),su(null,e),e.length>e.l?e.slice(0,e.l):e}function N4(t,e){return e||(e=Oe(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),p0(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function R4(t,e,r){var i=Oe(2052);return i.write_shift(4,t),p0(e,i),p0(r,i),i.length>i.l?i.slice(0,i.l):i}function b4(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var o=i[0];o<=i[1];++o)e[o]!=null&&++r}),r!=0&&(ke(t,615,ns(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var o=i[0];o<=i[1];++o)e[o]!=null&&ke(t,44,E4(o,e[o]))}),ke(t,616))}}function k4(t){var e=1;ke(t,611,ns(e)),ke(t,43,A4({sz:12,color:{theme:1},name:"Calibri",family:2})),ke(t,612)}function D4(t){var e=2;ke(t,603,ns(e)),ke(t,45,l2({patternType:"none"})),ke(t,45,l2({patternType:"gray125"})),ke(t,604)}function M4(t){var e=1;ke(t,613,ns(e)),ke(t,46,O4()),ke(t,614)}function P4(t){var e=1;ke(t,626,ns(e)),ke(t,47,mm({numFmtId:0},65535)),ke(t,627)}function L4(t,e){ke(t,617,ns(e.length)),e.forEach(function(r){ke(t,47,mm(r,0))}),ke(t,618)}function F4(t){var e=1;ke(t,619,ns(e)),ke(t,48,N4({xfId:0,name:"Normal"})),ke(t,620)}function B4(t){var e=0;ke(t,505,ns(e)),ke(t,506)}function U4(t){var e=0;ke(t,508,R4(e,"TableStyleMedium9","PivotStyleMedium4")),ke(t,509)}function j4(t,e){var r=ei();return ke(r,278),b4(r,t.SSF),k4(r),D4(r),M4(r),P4(r),L4(r,e.cellXfs),F4(r),B4(r),U4(r),ke(r,279),r.end()}function wm(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Qr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function H4(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:jn(t)}}function z4(t){var e=Oe(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),xn(t.name,e),e.slice(0,e.l)}function W4(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function V4(t){var e=Oe(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function G4(t,e){var r=Oe(8+2*e.length);return r.write_shift(4,t),xn(e,r),r.slice(0,r.l)}function X4(t){return t.l+=4,t.read_shift(4)!=0}function Y4(t,e){var r=Oe(8);return r.write_shift(4,t),r.write_shift(4,1),r}function K4(){var t=ei();return ke(t,332),ke(t,334,ns(1)),ke(t,335,z4({name:"XLDAPR",version:12e4,flags:3496657072})),ke(t,336),ke(t,339,G4(1,"XLDAPR")),ke(t,52),ke(t,35,ns(514)),ke(t,4096,ns(0)),ke(t,4097,Pi(1)),ke(t,36),ke(t,53),ke(t,340),ke(t,337,Y4(1)),ke(t,51,V4([[1,0]])),ke(t,338),ke(t,333),t.end()}function vm(){var t=[Qr];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function $4(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=ir(r);var i=t.read_shift(1);return i&2&&(e.l="1"),i&8&&(e.a="1"),e}var ul=1024;function ym(t,e){for(var r=[21600,21600],i=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),o=[tt("xml",null,{"xmlns:v":mi.v,"xmlns:o":mi.o,"xmlns:x":mi.x,"xmlns:mv":mi.mv}).replace(/\/>/,">"),tt("o:shapelayout",tt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),tt("v:shapetype",[tt("v:stroke",null,{joinstyle:"miter"}),tt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:i})];ul<t*1e3;)ul+=1e3;return e.forEach(function(c){var d=pn(c[0]),m={color2:"#BEFF82",type:"gradient"};m.type=="gradient"&&(m.angle="-180");var w=m.type=="gradient"?tt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,x=tt("v:fill",w,m),E={on:"t",obscured:"t"};++ul,o=o.concat(["<v:shape"+Nu({id:"_x0000_s"+ul,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(c[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",x,tt("v:shadow",null,E),tt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",On("x:Anchor",[d.c+1,0,d.r+1,0,d.c+3,20,d.r+5,20].join(",")),On("x:AutoFill","False"),On("x:Row",String(d.r)),On("x:Column",String(d.c)),c[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),o.push("</xml>"),o.join("")}function Em(t){var e=[Qr,tt("comments",null,{xmlns:yl[0]})],r=[];return e.push("<authors>"),t.forEach(function(i){i[1].forEach(function(o){var c=nr(o.a);r.indexOf(c)==-1&&(r.push(c),e.push("<author>"+c+"</author>")),o.T&&o.ID&&r.indexOf("tc="+o.ID)==-1&&(r.push("tc="+o.ID),e.push("<author>tc="+o.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(i){var o=0,c=[];if(i[1][0]&&i[1][0].T&&i[1][0].ID?o=r.indexOf("tc="+i[1][0].ID):i[1].forEach(function(w){w.a&&(o=r.indexOf(nr(w.a))),c.push(w.t||"")}),e.push('<comment ref="'+i[0]+'" authorId="'+o+'"><text>'),c.length<=1)e.push(On("t",nr(c[0]||"")));else{for(var d=`Comment:
    `+c[0]+`
`,m=1;m<c.length;++m)d+=`Reply:
    `+c[m]+`
`;e.push(On("t",nr(d)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function q4(t,e,r){var i=[Qr,tt("ThreadedComments",null,{xmlns:gn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(o){var c="";(o[1]||[]).forEach(function(d,m){if(!d.T){delete d.ID;return}d.a&&e.indexOf(d.a)==-1&&e.push(d.a);var w={ref:o[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};m==0?c=w.id:w.parentId=c,d.ID=w.id,d.a&&(w.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(d.a)).slice(-12)+"}"),i.push(tt("threadedComment",On("text",d.t||""),w))})}),i.push("</ThreadedComments>"),i.join("")}function Q4(t){var e=[Qr,tt("personList",null,{xmlns:gn.TCMNT,"xmlns:x":yl[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,i){e.push(tt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+i).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Z4(t){var e={};e.iauthor=t.read_shift(4);var r=yo(t);return e.rfx=r.s,e.ref=ir(r.s),t.l+=16,e}function J4(t,e){return e==null&&(e=Oe(36)),e.write_shift(4,t[1].iauthor),_l(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var eT=jn;function tT(t){return xn(t.slice(0,54))}function rT(t){var e=ei(),r=[];return ke(e,628),ke(e,630),t.forEach(function(i){i[1].forEach(function(o){r.indexOf(o.a)>-1||(r.push(o.a.slice(0,54)),ke(e,632,tT(o.a)))})}),ke(e,631),ke(e,633),t.forEach(function(i){i[1].forEach(function(o){o.iauthor=r.indexOf(o.a);var c={s:pn(i[0]),e:pn(i[0])};ke(e,635,J4([c,o])),o.t&&o.t.length>0&&ke(e,637,iS(o)),ke(e,636),delete o.iauthor})}),ke(e,634),ke(e,629),e.end()}function nT(t,e){e.FullPaths.forEach(function(r,i){if(i!=0){var o=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");o.slice(-1)!=="/"&&lr.utils.cfb_add(t,o,e.FileIndex[i].content)}})}var _m=["xlsb","xlsm","xlam","biff8","xla"],iT=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(i,o,c,d){var m=!1,w=!1;c.length==0?w=!0:c.charAt(0)=="["&&(w=!0,c=c.slice(1,-1)),d.length==0?m=!0:d.charAt(0)=="["&&(m=!0,d=d.slice(1,-1));var x=c.length>0?parseInt(c,10)|0:0,E=d.length>0?parseInt(d,10)|0:0;return m?E+=e.c:--E,w?x+=e.r:--x,o+(m?"":"$")+Un(E)+(w?"":"$")+Nn(x)}return function(o,c){return e=c,o.replace(t,r)}})(),S1=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,T1=(function(){return function(e,r){return e.replace(S1,function(i,o,c,d,m,w){var x=w1(d)-(c?0:r.c),E=m1(w)-(m?0:r.r),A=E==0?"":m?E+1:"["+E+"]",C=x==0?"":c?x+1:"["+x+"]";return o+"R"+A+"C"+C})}})();function sT(t,e){return t.replace(S1,function(r,i,o,c,d,m){return i+(o=="$"?o+c:Un(w1(c)+e.c))+(d=="$"?d+m:Nn(m1(m)+e.r))})}function aT(t){return t.length!=1}function Kr(t){t.l+=1}function Na(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Am(t,e,r){var i=2;if(r){if(r.biff>=2&&r.biff<=5)return Sm(t);r.biff==12&&(i=4)}var o=t.read_shift(i),c=t.read_shift(i),d=Na(t),m=Na(t);return{s:{r:o,c:d[0],cRel:d[1],rRel:d[2]},e:{r:c,c:m[0],cRel:m[1],rRel:m[2]}}}function Sm(t){var e=Na(t),r=Na(t),i=t.read_shift(1),o=t.read_shift(1);return{s:{r:e[0],c:i,cRel:e[1],rRel:e[2]},e:{r:r[0],c:o,cRel:r[1],rRel:r[2]}}}function oT(t,e,r){if(r.biff<8)return Sm(t);var i=t.read_shift(r.biff==12?4:2),o=t.read_shift(r.biff==12?4:2),c=Na(t),d=Na(t);return{s:{r:i,c:c[0],cRel:c[1],rRel:c[2]},e:{r:o,c:d[0],cRel:d[1],rRel:d[2]}}}function Tm(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return lT(t);var i=t.read_shift(r&&r.biff==12?4:2),o=Na(t);return{r:i,c:o[0],cRel:o[1],rRel:o[2]}}function lT(t){var e=Na(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function uT(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function cT(t,e,r){var i=r&&r.biff?r.biff:8;if(i>=2&&i<=5)return fT(t);var o=t.read_shift(i>=12?4:2),c=t.read_shift(2),d=(c&16384)>>14,m=(c&32768)>>15;if(c&=16383,m==1)for(;o>524287;)o-=1048576;if(d==1)for(;c>8191;)c=c-16384;return{r:o,c,cRel:d,rRel:m}}function fT(t){var e=t.read_shift(2),r=t.read_shift(1),i=(e&32768)>>15,o=(e&16384)>>14;return e&=16383,i==1&&e>=8192&&(e=e-16384),o==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:o,rRel:i}}function hT(t,e,r){var i=(t[t.l++]&96)>>5,o=Am(t,r.biff>=2&&r.biff<=5?6:8,r);return[i,o]}function dT(t,e,r){var i=(t[t.l++]&96)>>5,o=t.read_shift(2,"i"),c=8;if(r)switch(r.biff){case 5:t.l+=12,c=6;break;case 12:c=12;break}var d=Am(t,c,r);return[i,o,d]}function gT(t,e,r){var i=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[i]}function pT(t,e,r){var i=(t[t.l++]&96)>>5,o=t.read_shift(2),c=8;if(r)switch(r.biff){case 5:t.l+=12,c=6;break;case 12:c=12;break}return t.l+=c,[i,o]}function xT(t,e,r){var i=(t[t.l++]&96)>>5,o=oT(t,e-1,r);return[i,o]}function mT(t,e,r){var i=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[i]}function u2(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function wT(t,e,r){t.l+=2;for(var i=t.read_shift(r&&r.biff==2?1:2),o=[],c=0;c<=i;++c)o.push(t.read_shift(r&&r.biff==2?1:2));return o}function vT(t,e,r){var i=t[t.l+1]&255?1:0;return t.l+=2,[i,t.read_shift(r&&r.biff==2?1:2)]}function yT(t,e,r){var i=t[t.l+1]&255?1:0;return t.l+=2,[i,t.read_shift(r&&r.biff==2?1:2)]}function ET(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function _T(t,e,r){var i=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[i]}function Cm(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function AT(t){return t.read_shift(2),Cm(t)}function ST(t){return t.read_shift(2),Cm(t)}function TT(t,e,r){var i=(t[t.l]&96)>>5;t.l+=1;var o=Tm(t,0,r);return[i,o]}function CT(t,e,r){var i=(t[t.l]&96)>>5;t.l+=1;var o=cT(t,0,r);return[i,o]}function IT(t,e,r){var i=(t[t.l]&96)>>5;t.l+=1;var o=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var c=Tm(t,0,r);return[i,o,c]}function OT(t,e,r){var i=(t[t.l]&96)>>5;t.l+=1;var o=t.read_shift(r&&r.biff<=3?1:2);return[OC[o],Nm[o],i]}function NT(t,e,r){var i=t[t.l++],o=t.read_shift(1),c=r&&r.biff<=3?[i==88?-1:0,t.read_shift(1)]:RT(t);return[o,(c[0]===0?Nm:IC)[c[1]]]}function RT(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function bT(t,e,r){t.l+=r&&r.biff==2?3:4}function kT(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var i=t.read_shift(2),o=t.read_shift(r&&r.biff==2?1:2);return[i,o]}function DT(t){return t.l++,Lu[t.read_shift(1)]}function MT(t){return t.l++,t.read_shift(2)}function PT(t){return t.l++,t.read_shift(1)!==0}function LT(t){return t.l++,Al(t)}function FT(t,e,r){return t.l++,lm(t,e-1,r)}function BT(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=IS(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Lu[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Al(t);break;case 2:r[1]=bS(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function UT(t,e,r){for(var i=t.read_shift(r.biff==12?4:2),o=[],c=0;c!=i;++c)o.push((r.biff==12?yo:MS)(t));return o}function jT(t,e,r){var i=0,o=0;r.biff==12?(i=t.read_shift(4),o=t.read_shift(4)):(o=1+t.read_shift(1),i=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--i,--o==0&&(o=256));for(var c=0,d=[];c!=i&&(d[c]=[]);++c)for(var m=0;m!=o;++m)d[c][m]=BT(t,r.biff);return d}function HT(t,e,r){var i=t.read_shift(1)>>>5&3,o=!r||r.biff>=8?4:2,c=t.read_shift(o);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[i,0,c]}function zT(t,e,r){if(r.biff==5)return WT(t);var i=t.read_shift(1)>>>5&3,o=t.read_shift(2),c=t.read_shift(4);return[i,o,c]}function WT(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var i=t.read_shift(2);return t.l+=12,[e,r,i]}function VT(t,e,r){var i=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var o=t.read_shift(r&&r.biff==2?1:2);return[i,o]}function GT(t,e,r){var i=t.read_shift(1)>>>5&3,o=t.read_shift(r&&r.biff==2?1:2);return[i,o]}function XT(t,e,r){var i=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[i]}function YT(t,e,r){var i=(t[t.l++]&96)>>5,o=t.read_shift(2),c=4;if(r)switch(r.biff){case 5:c=15;break;case 12:c=6;break}return t.l+=c,[i,o]}var KT=vs,$T=vs,qT=vs;function Fu(t,e,r){return t.l+=2,[uT(t)]}function C1(t){return t.l+=6,[]}var QT=Fu,ZT=C1,JT=C1,eC=Fu;function Im(t){return t.l+=2,[am(t),t.read_shift(2)&1]}var tC=Fu,rC=Im,nC=C1,iC=Fu,sC=Fu,aC=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function oC(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(4),o=t.read_shift(2),c=t.read_shift(2),d=aC[r>>2&31];return{ixti:e,coltype:r&3,rt:d,idx:i,c:o,C:c}}function lC(t){return t.l+=2,[t.read_shift(4)]}function uC(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function cC(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function fC(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function hC(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function dC(t){return t.l+=4,[0,0]}var c2={1:{n:"PtgExp",f:kT},2:{n:"PtgTbl",f:qT},3:{n:"PtgAdd",f:Kr},4:{n:"PtgSub",f:Kr},5:{n:"PtgMul",f:Kr},6:{n:"PtgDiv",f:Kr},7:{n:"PtgPower",f:Kr},8:{n:"PtgConcat",f:Kr},9:{n:"PtgLt",f:Kr},10:{n:"PtgLe",f:Kr},11:{n:"PtgEq",f:Kr},12:{n:"PtgGe",f:Kr},13:{n:"PtgGt",f:Kr},14:{n:"PtgNe",f:Kr},15:{n:"PtgIsect",f:Kr},16:{n:"PtgUnion",f:Kr},17:{n:"PtgRange",f:Kr},18:{n:"PtgUplus",f:Kr},19:{n:"PtgUminus",f:Kr},20:{n:"PtgPercent",f:Kr},21:{n:"PtgParen",f:Kr},22:{n:"PtgMissArg",f:Kr},23:{n:"PtgStr",f:FT},26:{n:"PtgSheet",f:uC},27:{n:"PtgEndSheet",f:cC},28:{n:"PtgErr",f:DT},29:{n:"PtgBool",f:PT},30:{n:"PtgInt",f:MT},31:{n:"PtgNum",f:LT},32:{n:"PtgArray",f:mT},33:{n:"PtgFunc",f:OT},34:{n:"PtgFuncVar",f:NT},35:{n:"PtgName",f:HT},36:{n:"PtgRef",f:TT},37:{n:"PtgArea",f:hT},38:{n:"PtgMemArea",f:VT},39:{n:"PtgMemErr",f:KT},40:{n:"PtgMemNoMem",f:$T},41:{n:"PtgMemFunc",f:GT},42:{n:"PtgRefErr",f:XT},43:{n:"PtgAreaErr",f:gT},44:{n:"PtgRefN",f:CT},45:{n:"PtgAreaN",f:xT},46:{n:"PtgMemAreaN",f:fC},47:{n:"PtgMemNoMemN",f:hC},57:{n:"PtgNameX",f:zT},58:{n:"PtgRef3d",f:IT},59:{n:"PtgArea3d",f:dT},60:{n:"PtgRefErr3d",f:YT},61:{n:"PtgAreaErr3d",f:pT},255:{}},gC={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},pC={1:{n:"PtgElfLel",f:Im},2:{n:"PtgElfRw",f:iC},3:{n:"PtgElfCol",f:QT},6:{n:"PtgElfRwV",f:sC},7:{n:"PtgElfColV",f:eC},10:{n:"PtgElfRadical",f:tC},11:{n:"PtgElfRadicalS",f:nC},13:{n:"PtgElfColS",f:ZT},15:{n:"PtgElfColSV",f:JT},16:{n:"PtgElfRadicalLel",f:rC},25:{n:"PtgList",f:oC},29:{n:"PtgSxName",f:lC},255:{}},xC={0:{n:"PtgAttrNoop",f:dC},1:{n:"PtgAttrSemi",f:_T},2:{n:"PtgAttrIf",f:yT},4:{n:"PtgAttrChoose",f:wT},8:{n:"PtgAttrGoto",f:vT},16:{n:"PtgAttrSum",f:bT},32:{n:"PtgAttrBaxcel",f:u2},33:{n:"PtgAttrBaxcel",f:u2},64:{n:"PtgAttrSpace",f:AT},65:{n:"PtgAttrSpaceSemi",f:ST},128:{n:"PtgAttrIfError",f:ET},255:{}};function mC(t,e,r,i){if(i.biff<8)return vs(t,e);for(var o=t.l+e,c=[],d=0;d!==r.length;++d)switch(r[d][0]){case"PtgArray":r[d][1]=jT(t,0,i),c.push(r[d][1]);break;case"PtgMemArea":r[d][2]=UT(t,r[d][1],i),c.push(r[d][2]);break;case"PtgExp":i&&i.biff==12&&(r[d][1][1]=t.read_shift(4),c.push(r[d][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[d][0]}return e=o-t.l,e!==0&&c.push(vs(t,e)),c}function wC(t,e,r){for(var i=t.l+e,o,c,d=[];i!=t.l;)e=i-t.l,c=t[t.l],o=c2[c]||c2[gC[c]],(c===24||c===25)&&(o=(c===24?pC:xC)[t[t.l+1]]),!o||!o.f?vs(t,e):d.push([o.n,o.f(t,e,r)]);return d}function vC(t){for(var e=[],r=0;r<t.length;++r){for(var i=t[r],o=[],c=0;c<i.length;++c){var d=i[c];d?d[0]===2?o.push('"'+d[1].replace(/"/g,'""')+'"'):o.push(d[1]):o.push("")}e.push(o.join(","))}return e.join(";")}var yC={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function EC(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function Om(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var i=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!i)return"SH33TJSERR1";var o="";if(r.biff>8)switch(t[i[0]][0]){case 357:return o=i[1]==-1?"#REF":t.SheetNames[i[1]],i[1]==i[2]?o:o+":"+t.SheetNames[i[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[i[0]][0];default:return"SH33TJSSRC"+t[i[0]][0]}switch(t[i[0]][0][0]){case 1025:return o=i[1]==-1?"#REF":t.SheetNames[i[1]]||"SH33TJSERR3",i[1]==i[2]?o:o+":"+t.SheetNames[i[2]];case 14849:return t[i[0]].slice(1).map(function(c){return c.Name}).join(";;");default:return t[i[0]][0][3]?(o=i[1]==-1?"#REF":t[i[0]][0][3][i[1]]||"SH33TJSERR4",i[1]==i[2]?o:o+":"+t[i[0]][0][3][i[2]]):"SH33TJSERR2"}}function f2(t,e,r){var i=Om(t,e,r);return i=="#REF"?i:EC(i,r)}function xl(t,e,r,i,o){var c=o&&o.biff||8,d={s:{c:0,r:0}},m=[],w,x,E,A=0,C=0,N,b="";if(!t[0]||!t[0][0])return"";for(var O=-1,k="",K=0,z=t[0].length;K<z;++K){var B=t[0][K];switch(B[0]){case"PtgUminus":m.push("-"+m.pop());break;case"PtgUplus":m.push("+"+m.pop());break;case"PtgPercent":m.push(m.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(w=m.pop(),x=m.pop(),O>=0){switch(t[0][O][1][0]){case 0:k=Fr(" ",t[0][O][1][1]);break;case 1:k=Fr("\r",t[0][O][1][1]);break;default:if(k="",o.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][O][1][0])}x=x+k,O=-1}m.push(x+yC[B[0]]+w);break;case"PtgIsect":w=m.pop(),x=m.pop(),m.push(x+" "+w);break;case"PtgUnion":w=m.pop(),x=m.pop(),m.push(x+","+w);break;case"PtgRange":w=m.pop(),x=m.pop(),m.push(x+":"+w);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":E=gu(B[1][1],d,o),m.push(pu(E,c));break;case"PtgRefN":E=r?gu(B[1][1],r,o):B[1][1],m.push(pu(E,c));break;case"PtgRef3d":A=B[1][1],E=gu(B[1][2],d,o),b=f2(i,A,o),m.push(b+"!"+pu(E,c));break;case"PtgFunc":case"PtgFuncVar":var Q=B[1][0],Se=B[1][1];Q||(Q=0),Q&=127;var ve=Q==0?[]:m.slice(-Q);m.length-=Q,Se==="User"&&(Se=ve.shift()),m.push(Se+"("+ve.join(",")+")");break;case"PtgBool":m.push(B[1]?"TRUE":"FALSE");break;case"PtgInt":m.push(B[1]);break;case"PtgNum":m.push(String(B[1]));break;case"PtgStr":m.push('"'+B[1].replace(/"/g,'""')+'"');break;case"PtgErr":m.push(B[1]);break;case"PtgAreaN":N=$p(B[1][1],r?{s:r}:d,o),m.push(_h(N,o));break;case"PtgArea":N=$p(B[1][1],d,o),m.push(_h(N,o));break;case"PtgArea3d":A=B[1][1],N=B[1][2],b=f2(i,A,o),m.push(b+"!"+_h(N,o));break;case"PtgAttrSum":m.push("SUM("+m.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":C=B[1][2];var G=(i.names||[])[C-1]||(i[0]||[])[C],fe=G?G.Name:"SH33TJSNAME"+String(C);fe&&fe.slice(0,6)=="_xlfn."&&!o.xlfn&&(fe=fe.slice(6)),m.push(fe);break;case"PtgNameX":var Z=B[1][1];C=B[1][2];var Ne;if(o.biff<=5)Z<0&&(Z=-Z),i[Z]&&(Ne=i[Z][C]);else{var Te="";if(((i[Z]||[])[0]||[])[0]==14849||(((i[Z]||[])[0]||[])[0]==1025?i[Z][C]&&i[Z][C].itab>0&&(Te=i.SheetNames[i[Z][C].itab-1]+"!"):Te=i.SheetNames[C-1]+"!"),i[Z]&&i[Z][C])Te+=i[Z][C].Name;else if(i[0]&&i[0][C])Te+=i[0][C].Name;else{var we=(Om(i,Z,o)||"").split(";;");we[C-1]?Te=we[C-1]:Te+="SH33TJSERRX"}m.push(Te);break}Ne||(Ne={Name:"SH33TJSERRY"}),m.push(Ne.Name);break;case"PtgParen":var Re="(",at=")";if(O>=0){switch(k="",t[0][O][1][0]){case 2:Re=Fr(" ",t[0][O][1][1])+Re;break;case 3:Re=Fr("\r",t[0][O][1][1])+Re;break;case 4:at=Fr(" ",t[0][O][1][1])+at;break;case 5:at=Fr("\r",t[0][O][1][1])+at;break;default:if(o.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][O][1][0])}O=-1}m.push(Re+m.pop()+at);break;case"PtgRefErr":m.push("#REF!");break;case"PtgRefErr3d":m.push("#REF!");break;case"PtgExp":E={c:B[1][1],r:B[1][0]};var le={c:r.c,r:r.r};if(i.sharedf[ir(E)]){var pt=i.sharedf[ir(E)];m.push(xl(pt,d,le,i,o))}else{var Ke=!1;for(w=0;w!=i.arrayf.length;++w)if(x=i.arrayf[w],!(E.c<x[0].s.c||E.c>x[0].e.c)&&!(E.r<x[0].s.r||E.r>x[0].e.r)){m.push(xl(x[1],d,le,i,o)),Ke=!0;break}Ke||m.push(B[1])}break;case"PtgArray":m.push("{"+vC(B[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":O=K;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":m.push("");break;case"PtgAreaErr":m.push("#REF!");break;case"PtgAreaErr3d":m.push("#REF!");break;case"PtgList":m.push("Table"+B[1].idx+"[#"+B[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(B));default:throw new Error("Unrecognized Formula Token: "+String(B))}var We=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(o.biff!=3&&O>=0&&We.indexOf(t[0][K][0])==-1){B=t[0][O];var nt=!0;switch(B[1][0]){case 4:nt=!1;case 0:k=Fr(" ",B[1][1]);break;case 5:nt=!1;case 1:k=Fr("\r",B[1][1]);break;default:if(k="",o.WTF)throw new Error("Unexpected PtgAttrSpaceType "+B[1][0])}m.push((nt?k:"")+m.pop()+(nt?"":k)),O=-1}}if(m.length>1&&o.WTF)throw new Error("bad formula stack");return m[0]}function _C(t){if(t==null){var e=Oe(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return go(t);return go(0)}function AC(t,e,r,i,o){var c=po(e,r,o),d=_C(t.v),m=Oe(6),w=33;m.write_shift(2,w),m.write_shift(4,0);for(var x=Oe(t.bf.length),E=0;E<t.bf.length;++E)x[E]=t.bf[E];var A=In([c,d,m,x]);return A}function M0(t,e,r){var i=t.read_shift(4),o=wC(t,i,r),c=t.read_shift(4),d=c>0?mC(t,c,o,r):null;return[o,d]}var SC=M0,P0=M0,TC=M0,CC=M0,IC={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Nm={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},OC={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function NC(t){var e="of:="+t.replace(S1,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function RC(t){return t.replace(/\./,"!")}var xu=typeof Map<"u";function I1(t,e,r){var i=0,o=t.length;if(r){if(xu?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var c=xu?r.get(e):r[e];i<c.length;++i)if(t[c[i]].t===e)return t.Count++,c[i]}}else for(;i<o;++i)if(t[i].t===e)return t.Count++,i;return t[o]={t:e},t.Count++,t.Unique++,r&&(xu?(r.has(e)||r.set(e,[]),r.get(e).push(o)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(o))),o}function L0(t,e){var r={min:t+1,max:t+1},i=-1;return e.MDW&&(Hs=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?i=v0(e.wpx):e.wch!=null&&(i=e.wch),i>-1?(r.width=qh(i),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function Rm(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function ka(t,e,r){var i=r.revssf[e.z!=null?e.z:"General"],o=60,c=t.length;if(i==null&&r.ssf){for(;o<392;++o)if(r.ssf[o]==null){Tx(e.z,o),r.ssf[o]=e.z,r.revssf[e.z]=i=o;break}}for(o=0;o!=c;++o)if(t[o].numFmtId===i)return o;return t[c]={numFmtId:i,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},c}function bC(t,e,r){if(t&&t["!ref"]){var i=vr(t["!ref"]);if(i.e.c<i.s.c||i.e.r<i.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function kC(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+qr(t[r])+'"/>';return e+"</mergeCells>"}function DC(t,e,r,i,o){var c=!1,d={},m=null;if(i.bookType!=="xlsx"&&e.vbaraw){var w=e.SheetNames[r];try{e.Workbook&&(w=e.Workbook.Sheets[r].CodeName||w)}catch{}c=!0,d.codeName=Ou(nr(w))}if(t&&t["!outline"]){var x={summaryBelow:1,summaryRight:1};t["!outline"].above&&(x.summaryBelow=0),t["!outline"].left&&(x.summaryRight=0),m=(m||"")+tt("outlinePr",null,x)}!c&&!m||(o[o.length]=tt("sheetPr",m,d))}var MC=["objects","scenarios","selectLockedCells","selectUnlockedCells"],PC=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function LC(t){var e={sheet:1};return MC.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),PC.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=dm(t.password).toString(16).toUpperCase()),tt("sheetProtection",null,e)}function FC(t){return Rm(t),tt("pageMargins",null,t)}function BC(t,e){for(var r=["<cols>"],i,o=0;o!=e.length;++o)(i=e[o])&&(r[r.length]=tt("col",null,L0(o,i)));return r[r.length]="</cols>",r.join("")}function UC(t,e,r,i){var o=typeof t.ref=="string"?t.ref:qr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var c=r.Workbook.Names,d=_i(o);d.s.r==d.e.r&&(d.e.r=_i(e["!ref"]).e.r,o=qr(d));for(var m=0;m<c.length;++m){var w=c[m];if(w.Name=="_xlnm._FilterDatabase"&&w.Sheet==i){w.Ref="'"+r.SheetNames[i]+"'!"+o;break}}return m==c.length&&c.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+r.SheetNames[i]+"'!"+o}),tt("autoFilter",null,{ref:o})}function jC(t,e,r,i){var o={workbookViewId:"0"};return(((i||{}).Workbook||{}).Views||[])[0]&&(o.rightToLeft=i.Workbook.Views[0].RTL?"1":"0"),tt("sheetViews",tt("sheetView",null,o),{})}function HC(t,e,r,i){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var o="",c=t.t,d=t.v;if(t.t!=="z")switch(t.t){case"b":o=t.v?"1":"0";break;case"n":o=""+t.v;break;case"e":o=Lu[t.v];break;case"d":i&&i.cellDates?o=Gn(t.v,-1).toISOString():(t=ri(t),t.t="n",o=""+(t.v=ti(Gn(t.v)))),typeof t.z>"u"&&(t.z=Br[14]);break;default:o=t.v;break}var m=On("v",nr(o)),w={r:e},x=ka(i.cellXfs,t,i);switch(x!==0&&(w.s=x),t.t){case"n":break;case"d":w.t="d";break;case"b":w.t="b";break;case"e":w.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(i&&i.bookSST){m=On("v",""+I1(i.Strings,t.v,i.revStrings)),w.t="s";break}w.t="str";break}if(t.t!=c&&(t.t=c,t.v=d),typeof t.f=="string"&&t.f){var E=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;m=tt("f",nr(t.f),E)+(t.v!=null?m:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(w.cm=1),tt("c",m,w)}function zC(t,e,r,i){var o=[],c=[],d=vr(t["!ref"]),m="",w,x="",E=[],A=0,C=0,N=t["!rows"],b=Array.isArray(t),O={r:x},k,K=-1;for(C=d.s.c;C<=d.e.c;++C)E[C]=Un(C);for(A=d.s.r;A<=d.e.r;++A){for(c=[],x=Nn(A),C=d.s.c;C<=d.e.c;++C){w=E[C]+x;var z=b?(t[A]||[])[C]:t[w];z!==void 0&&(m=HC(z,w,t,e))!=null&&c.push(m)}(c.length>0||N&&N[A])&&(O={r:x},N&&N[A]&&(k=N[A],k.hidden&&(O.hidden=1),K=-1,k.hpx?K=y0(k.hpx):k.hpt&&(K=k.hpt),K>-1&&(O.ht=K,O.customHeight=1),k.level&&(O.outlineLevel=k.level)),o[o.length]=tt("row",c.join(""),O))}if(N)for(;A<N.length;++A)N&&N[A]&&(O={r:A+1},k=N[A],k.hidden&&(O.hidden=1),K=-1,k.hpx?K=y0(k.hpx):k.hpt&&(K=k.hpt),K>-1&&(O.ht=K,O.customHeight=1),k.level&&(O.outlineLevel=k.level),o[o.length]=tt("row","",O));return o.join("")}function bm(t,e,r,i){var o=[Qr,tt("worksheet",null,{xmlns:yl[0],"xmlns:r":gn.r})],c=r.SheetNames[t],d=0,m="",w=r.Sheets[c];w==null&&(w={});var x=w["!ref"]||"A1",E=vr(x);if(E.e.c>16383||E.e.r>1048575){if(e.WTF)throw new Error("Range "+x+" exceeds format limit A1:XFD1048576");E.e.c=Math.min(E.e.c,16383),E.e.r=Math.min(E.e.c,1048575),x=qr(E)}i||(i={}),w["!comments"]=[];var A=[];DC(w,r,t,e,o),o[o.length]=tt("dimension",null,{ref:x}),o[o.length]=jC(w,e,t,r),e.sheetFormat&&(o[o.length]=tt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),w["!cols"]!=null&&w["!cols"].length>0&&(o[o.length]=BC(w,w["!cols"])),o[d=o.length]="<sheetData/>",w["!links"]=[],w["!ref"]!=null&&(m=zC(w,e),m.length>0&&(o[o.length]=m)),o.length>d+1&&(o[o.length]="</sheetData>",o[d]=o[d].replace("/>",">")),w["!protect"]&&(o[o.length]=LC(w["!protect"])),w["!autofilter"]!=null&&(o[o.length]=UC(w["!autofilter"],w,r,t)),w["!merges"]!=null&&w["!merges"].length>0&&(o[o.length]=kC(w["!merges"]));var C=-1,N,b=-1;return w["!links"].length>0&&(o[o.length]="<hyperlinks>",w["!links"].forEach(function(O){O[1].Target&&(N={ref:O[0]},O[1].Target.charAt(0)!="#"&&(b=rr(i,-1,nr(O[1].Target).replace(/#.*$/,""),Kt.HLINK),N["r:id"]="rId"+b),(C=O[1].Target.indexOf("#"))>-1&&(N.location=nr(O[1].Target.slice(C+1))),O[1].Tooltip&&(N.tooltip=nr(O[1].Tooltip)),o[o.length]=tt("hyperlink",null,N))}),o[o.length]="</hyperlinks>"),delete w["!links"],w["!margins"]!=null&&(o[o.length]=FC(w["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(o[o.length]=On("ignoredErrors",tt("ignoredError",null,{numberStoredAsText:1,sqref:x}))),A.length>0&&(b=rr(i,-1,"../drawings/drawing"+(t+1)+".xml",Kt.DRAW),o[o.length]=tt("drawing",null,{"r:id":"rId"+b}),w["!drawing"]=A),w["!comments"].length>0&&(b=rr(i,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Kt.VML),o[o.length]=tt("legacyDrawing",null,{"r:id":"rId"+b}),w["!legacy"]=b),o.length>1&&(o[o.length]="</worksheet>",o[1]=o[1].replace("/>",">")),o.join("")}function WC(t,e){var r={},i=t.l+e;r.r=t.read_shift(4),t.l+=4;var o=t.read_shift(2);t.l+=1;var c=t.read_shift(1);return t.l=i,c&7&&(r.level=c&7),c&16&&(r.hidden=!0),c&32&&(r.hpt=o/20),r}function VC(t,e,r){var i=Oe(145),o=(r["!rows"]||[])[t]||{};i.write_shift(4,t),i.write_shift(4,0);var c=320;o.hpx?c=y0(o.hpx)*20:o.hpt&&(c=o.hpt*20),i.write_shift(2,c),i.write_shift(1,0);var d=0;o.level&&(d|=o.level),o.hidden&&(d|=16),(o.hpx||o.hpt)&&(d|=32),i.write_shift(1,d),i.write_shift(1,0);var m=0,w=i.l;i.l+=4;for(var x={r:t,c:0},E=0;E<16;++E)if(!(e.s.c>E+1<<10||e.e.c<E<<10)){for(var A=-1,C=-1,N=E<<10;N<E+1<<10;++N){x.c=N;var b=Array.isArray(r)?(r[x.r]||[])[x.c]:r[ir(x)];b&&(A<0&&(A=N),C=N)}A<0||(++m,i.write_shift(4,A),i.write_shift(4,C))}var O=i.l;return i.l=w,i.write_shift(4,m),i.l=O,i.length>i.l?i.slice(0,i.l):i}function GC(t,e,r,i){var o=VC(i,r,e);(o.length>17||(e["!rows"]||[])[i])&&ke(t,0,o)}var XC=yo,YC=_l;function KC(){}function $C(t,e){var r={},i=t[t.l];return++t.l,r.above=!(i&64),r.left=!(i&128),t.l+=18,r.name=sS(t),r}function qC(t,e,r){r==null&&(r=Oe(84+4*t.length));var i=192;e&&(e.above&&(i&=-65),e.left&&(i&=-129)),r.write_shift(1,i);for(var o=1;o<3;++o)r.write_shift(1,0);return x0({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Xx(t,r),r.slice(0,r.l)}function QC(t){var e=Li(t);return[e]}function ZC(t,e,r){return r==null&&(r=Oe(8)),mo(e,r)}function JC(t){var e=wo(t);return[e]}function e8(t,e,r){return r==null&&(r=Oe(4)),vo(e,r)}function t8(t){var e=Li(t),r=t.read_shift(1);return[e,r,"b"]}function r8(t,e,r){return r==null&&(r=Oe(9)),mo(e,r),r.write_shift(1,t.v?1:0),r}function n8(t){var e=wo(t),r=t.read_shift(1);return[e,r,"b"]}function i8(t,e,r){return r==null&&(r=Oe(5)),vo(e,r),r.write_shift(1,t.v?1:0),r}function s8(t){var e=Li(t),r=t.read_shift(1);return[e,r,"e"]}function a8(t,e,r){return r==null&&(r=Oe(9)),mo(e,r),r.write_shift(1,t.v),r}function o8(t){var e=wo(t),r=t.read_shift(1);return[e,r,"e"]}function l8(t,e,r){return r==null&&(r=Oe(8)),vo(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function u8(t){var e=Li(t),r=t.read_shift(4);return[e,r,"s"]}function c8(t,e,r){return r==null&&(r=Oe(12)),mo(e,r),r.write_shift(4,e.v),r}function f8(t){var e=wo(t),r=t.read_shift(4);return[e,r,"s"]}function h8(t,e,r){return r==null&&(r=Oe(8)),vo(e,r),r.write_shift(4,e.v),r}function d8(t){var e=Li(t),r=Al(t);return[e,r,"n"]}function g8(t,e,r){return r==null&&(r=Oe(16)),mo(e,r),go(t.v,r),r}function p8(t){var e=wo(t),r=Al(t);return[e,r,"n"]}function x8(t,e,r){return r==null&&(r=Oe(12)),vo(e,r),go(t.v,r),r}function m8(t){var e=Li(t),r=Yx(t);return[e,r,"n"]}function w8(t,e,r){return r==null&&(r=Oe(12)),mo(e,r),Kx(t.v,r),r}function v8(t){var e=wo(t),r=Yx(t);return[e,r,"n"]}function y8(t,e,r){return r==null&&(r=Oe(8)),vo(e,r),Kx(t.v,r),r}function E8(t){var e=Li(t),r=v1(t);return[e,r,"is"]}function _8(t){var e=Li(t),r=jn(t);return[e,r,"str"]}function A8(t,e,r){return r==null&&(r=Oe(12+4*t.v.length)),mo(e,r),xn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function S8(t){var e=wo(t),r=jn(t);return[e,r,"str"]}function T8(t,e,r){return r==null&&(r=Oe(8+4*t.v.length)),vo(e,r),xn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function C8(t,e,r){var i=t.l+e,o=Li(t);o.r=r["!row"];var c=t.read_shift(1),d=[o,c,"b"];if(r.cellFormula){t.l+=2;var m=P0(t,i-t.l,r);d[3]=xl(m,null,o,r.supbooks,r)}else t.l=i;return d}function I8(t,e,r){var i=t.l+e,o=Li(t);o.r=r["!row"];var c=t.read_shift(1),d=[o,c,"e"];if(r.cellFormula){t.l+=2;var m=P0(t,i-t.l,r);d[3]=xl(m,null,o,r.supbooks,r)}else t.l=i;return d}function O8(t,e,r){var i=t.l+e,o=Li(t);o.r=r["!row"];var c=Al(t),d=[o,c,"n"];if(r.cellFormula){t.l+=2;var m=P0(t,i-t.l,r);d[3]=xl(m,null,o,r.supbooks,r)}else t.l=i;return d}function N8(t,e,r){var i=t.l+e,o=Li(t);o.r=r["!row"];var c=jn(t),d=[o,c,"str"];if(r.cellFormula){t.l+=2;var m=P0(t,i-t.l,r);d[3]=xl(m,null,o,r.supbooks,r)}else t.l=i;return d}var R8=yo,b8=_l;function k8(t,e){return e==null&&(e=Oe(4)),e.write_shift(4,t),e}function D8(t,e){var r=t.l+e,i=yo(t),o=y1(t),c=jn(t),d=jn(t),m=jn(t);t.l=r;var w={rfx:i,relId:o,loc:c,display:m};return d&&(w.Tooltip=d),w}function M8(t,e){var r=Oe(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));_l({s:pn(t[0]),e:pn(t[0])},r),E1("rId"+e,r);var i=t[1].Target.indexOf("#"),o=i==-1?"":t[1].Target.slice(i+1);return xn(o||"",r),xn(t[1].Tooltip||"",r),xn("",r),r.slice(0,r.l)}function P8(){}function L8(t,e,r){var i=t.l+e,o=$x(t),c=t.read_shift(1),d=[o];if(d[2]=c,r.cellFormula){var m=SC(t,i-t.l,r);d[1]=m}else t.l=i;return d}function F8(t,e,r){var i=t.l+e,o=yo(t),c=[o];if(r.cellFormula){var d=CC(t,i-t.l,r);c[1]=d,t.l=i}else t.l=i;return c}function B8(t,e,r){r==null&&(r=Oe(18));var i=L0(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(i.width||10)*256),r.write_shift(4,0);var o=0;return e.hidden&&(o|=1),typeof i.width=="number"&&(o|=2),e.level&&(o|=e.level<<8),r.write_shift(2,o),r}var km=["left","right","top","bottom","header","footer"];function U8(t){var e={};return km.forEach(function(r){e[r]=Al(t)}),e}function j8(t,e){return e==null&&(e=Oe(48)),Rm(t),km.forEach(function(r){go(t[r],e)}),e}function H8(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function z8(t,e,r){r==null&&(r=Oe(30));var i=924;return(((e||{}).Views||[])[0]||{}).RTL&&(i|=32),r.write_shift(2,i),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function W8(t){var e=Oe(24);return e.write_shift(4,4),e.write_shift(4,1),_l(t,e),e}function V8(t,e){return e==null&&(e=Oe(66)),e.write_shift(2,t.password?dm(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function G8(){}function X8(){}function Y8(t,e,r,i,o,c,d){if(e.v===void 0)return!1;var m="";switch(e.t){case"b":m=e.v?"1":"0";break;case"d":e=ri(e),e.z=e.z||Br[14],e.v=ti(Gn(e.v)),e.t="n";break;case"n":case"e":m=""+e.v;break;default:m=e.v;break}var w={r,c:i};switch(w.s=ka(o.cellXfs,e,o),e.l&&c["!links"].push([ir(w),e.l]),e.c&&c["!comments"].push([ir(w),e.c]),e.t){case"s":case"str":return o.bookSST?(m=I1(o.Strings,e.v,o.revStrings),w.t="s",w.v=m,d?ke(t,18,h8(e,w)):ke(t,7,c8(e,w))):(w.t="str",d?ke(t,17,T8(e,w)):ke(t,6,A8(e,w))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?d?ke(t,13,y8(e,w)):ke(t,2,w8(e,w)):d?ke(t,16,x8(e,w)):ke(t,5,g8(e,w)),!0;case"b":return w.t="b",d?ke(t,15,i8(e,w)):ke(t,4,r8(e,w)),!0;case"e":return w.t="e",d?ke(t,14,l8(e,w)):ke(t,3,a8(e,w)),!0}return d?ke(t,12,e8(e,w)):ke(t,1,ZC(e,w)),!0}function K8(t,e,r,i){var o=vr(e["!ref"]||"A1"),c,d="",m=[];ke(t,145);var w=Array.isArray(e),x=o.e.r;e["!rows"]&&(x=Math.max(o.e.r,e["!rows"].length-1));for(var E=o.s.r;E<=x;++E){d=Nn(E),GC(t,e,o,E);var A=!1;if(E<=o.e.r)for(var C=o.s.c;C<=o.e.c;++C){E===o.s.r&&(m[C]=Un(C)),c=m[C]+d;var N=w?(e[E]||[])[C]:e[c];if(!N){A=!1;continue}A=Y8(t,N,E,C,i,e,A)}}ke(t,146)}function $8(t,e){!e||!e["!merges"]||(ke(t,177,k8(e["!merges"].length)),e["!merges"].forEach(function(r){ke(t,176,b8(r))}),ke(t,178))}function q8(t,e){!e||!e["!cols"]||(ke(t,390),e["!cols"].forEach(function(r,i){r&&ke(t,60,B8(i,r))}),ke(t,391))}function Q8(t,e){!e||!e["!ref"]||(ke(t,648),ke(t,649,W8(vr(e["!ref"]))),ke(t,650))}function Z8(t,e,r){e["!links"].forEach(function(i){if(i[1].Target){var o=rr(r,-1,i[1].Target.replace(/#.*$/,""),Kt.HLINK);ke(t,494,M8(i,o))}}),delete e["!links"]}function J8(t,e,r,i){if(e["!comments"].length>0){var o=rr(i,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Kt.VML);ke(t,551,E1("rId"+o)),e["!legacy"]=o}}function eI(t,e,r,i){if(e["!autofilter"]){var o=e["!autofilter"],c=typeof o.ref=="string"?o.ref:qr(o.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var d=r.Workbook.Names,m=_i(c);m.s.r==m.e.r&&(m.e.r=_i(e["!ref"]).e.r,c=qr(m));for(var w=0;w<d.length;++w){var x=d[w];if(x.Name=="_xlnm._FilterDatabase"&&x.Sheet==i){x.Ref="'"+r.SheetNames[i]+"'!"+c;break}}w==d.length&&d.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+r.SheetNames[i]+"'!"+c}),ke(t,161,_l(vr(c))),ke(t,162)}}function tI(t,e,r){ke(t,133),ke(t,137,z8(e,r)),ke(t,138),ke(t,134)}function rI(t,e){e["!protect"]&&ke(t,535,V8(e["!protect"]))}function nI(t,e,r,i){var o=ei(),c=r.SheetNames[t],d=r.Sheets[c]||{},m=c;try{r&&r.Workbook&&(m=r.Workbook.Sheets[t].CodeName||m)}catch{}var w=vr(d["!ref"]||"A1");if(w.e.c>16383||w.e.r>1048575){if(e.WTF)throw new Error("Range "+(d["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");w.e.c=Math.min(w.e.c,16383),w.e.r=Math.min(w.e.c,1048575)}return d["!links"]=[],d["!comments"]=[],ke(o,129),(r.vbaraw||d["!outline"])&&ke(o,147,qC(m,d["!outline"])),ke(o,148,YC(w)),tI(o,d,r.Workbook),q8(o,d),K8(o,d,t,e),rI(o,d),eI(o,d,r,t),$8(o,d),Z8(o,d,i),d["!margins"]&&ke(o,476,j8(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Q8(o,d),J8(o,d,t,i),ke(o,130),o.end()}function iI(t,e){t.l+=10;var r=jn(t);return{name:r}}var sI=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function aI(t){return!t.Workbook||!t.Workbook.WBProps?"false":FA(t.Workbook.WBProps.date1904)?"true":"false"}var oI="][*?/\\".split("");function Dm(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return oI.forEach(function(i){if(t.indexOf(i)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function lI(t,e,r){t.forEach(function(i,o){Dm(i);for(var c=0;c<o;++c)if(i==t[c])throw new Error("Duplicate Sheet Name: "+i);if(r){var d=e&&e[o]&&e[o].CodeName||i;if(d.charCodeAt(0)==95&&d.length>22)throw new Error("Bad Code Name: Worksheet"+d)}})}function uI(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];lI(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)bC(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function Mm(t){var e=[Qr];e[e.length]=tt("workbook",null,{xmlns:yl[0],"xmlns:r":gn.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,i={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(sI.forEach(function(m){t.Workbook.WBProps[m[0]]!=null&&t.Workbook.WBProps[m[0]]!=m[1]&&(i[m[0]]=t.Workbook.WBProps[m[0]])}),t.Workbook.WBProps.CodeName&&(i.codeName=t.Workbook.WBProps.CodeName,delete i.CodeName)),e[e.length]=tt("workbookPr",null,i);var o=t.Workbook&&t.Workbook.Sheets||[],c=0;if(o&&o[0]&&o[0].Hidden){for(e[e.length]="<bookViews>",c=0;c!=t.SheetNames.length&&!(!o[c]||!o[c].Hidden);++c);c==t.SheetNames.length&&(c=0),e[e.length]='<workbookView firstSheet="'+c+'" activeTab="'+c+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",c=0;c!=t.SheetNames.length;++c){var d={name:nr(t.SheetNames[c].slice(0,31))};if(d.sheetId=""+(c+1),d["r:id"]="rId"+(c+1),o[c])switch(o[c].Hidden){case 1:d.state="hidden";break;case 2:d.state="veryHidden";break}e[e.length]=tt("sheet",null,d)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(m){var w={name:m.Name};m.Comment&&(w.comment=m.Comment),m.Sheet!=null&&(w.localSheetId=""+m.Sheet),m.Hidden&&(w.hidden="1"),m.Ref&&(e[e.length]=tt("definedName",nr(m.Ref),w))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function cI(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=$h(t),r.name=jn(t),r}function fI(t,e){return e||(e=Oe(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),E1(t.strRelID,e),xn(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function hI(t,e){var r={},i=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var o=e>8?jn(t):"";return o.length>0&&(r.CodeName=o),r.autoCompressPictures=!!(i&65536),r.backupFile=!!(i&64),r.checkCompatibility=!!(i&4096),r.date1904=!!(i&1),r.filterPrivacy=!!(i&8),r.hidePivotFieldList=!!(i&1024),r.promptedSolutions=!!(i&16),r.publishItems=!!(i&2048),r.refreshAllConnections=!!(i&262144),r.saveExternalLinkValues=!!(i&128),r.showBorderUnselectedTables=!!(i&4),r.showInkAnnotation=!!(i&32),r.showObjects=["all","placeholders","none"][i>>13&3],r.showPivotChartFilter=!!(i&32768),r.updateLinks=["userSet","never","always"][i>>8&3],r}function dI(t,e){e||(e=Oe(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),Xx(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function gI(t,e,r){var i=t.l+e;t.l+=4,t.l+=1;var o=t.read_shift(4),c=aS(t),d=TC(t,0,r),m=y1(t);t.l=i;var w={Name:c,Ptg:d};return o<268435455&&(w.Sheet=o),m&&(w.Comment=m),w}function pI(t,e){ke(t,143);for(var r=0;r!=e.SheetNames.length;++r){var i=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,o={Hidden:i,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};ke(t,156,fI(o))}ke(t,144)}function xI(t,e){e||(e=Oe(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return xn("SheetJS",e),xn(l0.version,e),xn(l0.version,e),xn("7262",e),e.length>e.l?e.slice(0,e.l):e}function mI(t,e){e||(e=Oe(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function wI(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,i=0,o=-1,c=-1;i<r.length;++i)!r[i]||!r[i].Hidden&&o==-1?o=i:r[i].Hidden==1&&c==-1&&(c=i);c>o||(ke(t,135),ke(t,158,mI(o)),ke(t,136))}}function vI(t,e){var r=ei();return ke(r,131),ke(r,128,xI()),ke(r,153,dI(t.Workbook&&t.Workbook.WBProps||null)),wI(r,t),pI(r,t),ke(r,132),r.end()}function yI(t,e,r){return(e.slice(-4)===".bin"?vI:Mm)(t)}function EI(t,e,r,i,o){return(e.slice(-4)===".bin"?nI:bm)(t,r,i,o)}function _I(t,e,r){return(e.slice(-4)===".bin"?j4:xm)(t,r)}function AI(t,e,r){return(e.slice(-4)===".bin"?d4:hm)(t,r)}function SI(t,e,r){return(e.slice(-4)===".bin"?rT:Em)(t)}function TI(t){return(t.slice(-4)===".bin"?K4:vm)()}function CI(t,e){var r=[];return t.Props&&r.push(_S(t.Props,e)),t.Custprops&&r.push(AS(t.Props,t.Custprops)),r.join("")}function II(){return""}function OI(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(i,o){var c=[];c.push(tt("NumberFormat",null,{"ss:Format":nr(Br[i.numFmtId])}));var d={"ss:ID":"s"+(21+o)};r.push(tt("Style",c.join(""),d))}),tt("Styles",r.join(""))}function Pm(t){return tt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+T1(t.Ref,{r:0,c:0})})}function NI(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],i=0;i<e.length;++i){var o=e[i];o.Sheet==null&&(o.Name.match(/^_xlfn\./)||r.push(Pm(o)))}return tt("Names",r.join(""))}function RI(t,e,r,i){if(!t||!((i||{}).Workbook||{}).Names)return"";for(var o=i.Workbook.Names,c=[],d=0;d<o.length;++d){var m=o[d];m.Sheet==r&&(m.Name.match(/^_xlfn\./)||c.push(Pm(m)))}return c.join("")}function bI(t,e,r,i){if(!t)return"";var o=[];if(t["!margins"]&&(o.push("<PageSetup>"),t["!margins"].header&&o.push(tt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&o.push(tt("Footer",null,{"x:Margin":t["!margins"].footer})),o.push(tt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),o.push("</PageSetup>")),i&&i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[r])if(i.Workbook.Sheets[r].Hidden)o.push(tt("Visible",i.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var c=0;c<r&&!(i.Workbook.Sheets[c]&&!i.Workbook.Sheets[c].Hidden);++c);c==r&&o.push("<Selected/>")}return((((i||{}).Workbook||{}).Views||[])[0]||{}).RTL&&o.push("<DisplayRightToLeft/>"),t["!protect"]&&(o.push(On("ProtectContents","True")),t["!protect"].objects&&o.push(On("ProtectObjects","True")),t["!protect"].scenarios&&o.push(On("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?o.push(On("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&o.push(On("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(d){t["!protect"][d[0]]&&o.push("<"+d[1]+"/>")})),o.length==0?"":tt("WorksheetOptions",o.join(""),{xmlns:mi.x})}function kI(t){return t.map(function(e){var r=LA(e.t||""),i=tt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return tt("Comment",i,{"ss:Author":e.a})}).join("")}function DI(t,e,r,i,o,c,d){if(!t||t.v==null&&t.f==null)return"";var m={};if(t.f&&(m["ss:Formula"]="="+nr(T1(t.f,d))),t.F&&t.F.slice(0,e.length)==e){var w=pn(t.F.slice(e.length+1));m["ss:ArrayRange"]="RC:R"+(w.r==d.r?"":"["+(w.r-d.r)+"]")+"C"+(w.c==d.c?"":"["+(w.c-d.c)+"]")}if(t.l&&t.l.Target&&(m["ss:HRef"]=nr(t.l.Target),t.l.Tooltip&&(m["x:HRefScreenTip"]=nr(t.l.Tooltip))),r["!merges"])for(var x=r["!merges"],E=0;E!=x.length;++E)x[E].s.c!=d.c||x[E].s.r!=d.r||(x[E].e.c>x[E].s.c&&(m["ss:MergeAcross"]=x[E].e.c-x[E].s.c),x[E].e.r>x[E].s.r&&(m["ss:MergeDown"]=x[E].e.r-x[E].s.r));var A="",C="";switch(t.t){case"z":if(!i.sheetStubs)return"";break;case"n":A="Number",C=String(t.v);break;case"b":A="Boolean",C=t.v?"1":"0";break;case"e":A="Error",C=Lu[t.v];break;case"d":A="DateTime",C=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Br[14]);break;case"s":A="String",C=PA(t.v||"");break}var N=ka(i.cellXfs,t,i);m["ss:StyleID"]="s"+(21+N),m["ss:Index"]=d.c+1;var b=t.v!=null?C:"",O=t.t=="z"?"":'<Data ss:Type="'+A+'">'+b+"</Data>";return(t.c||[]).length>0&&(O+=kI(t.c)),tt("Cell",O,m)}function MI(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=pm(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function PI(t,e,r,i){if(!t["!ref"])return"";var o=vr(t["!ref"]),c=t["!merges"]||[],d=0,m=[];t["!cols"]&&t["!cols"].forEach(function(k,K){A1(k);var z=!!k.width,B=L0(K,k),Q={"ss:Index":K+1};z&&(Q["ss:Width"]=w0(B.width)),k.hidden&&(Q["ss:Hidden"]="1"),m.push(tt("Column",null,Q))});for(var w=Array.isArray(t),x=o.s.r;x<=o.e.r;++x){for(var E=[MI(x,(t["!rows"]||[])[x])],A=o.s.c;A<=o.e.c;++A){var C=!1;for(d=0;d!=c.length;++d)if(!(c[d].s.c>A)&&!(c[d].s.r>x)&&!(c[d].e.c<A)&&!(c[d].e.r<x)){(c[d].s.c!=A||c[d].s.r!=x)&&(C=!0);break}if(!C){var N={r:x,c:A},b=ir(N),O=w?(t[x]||[])[A]:t[b];E.push(DI(O,b,t,e,r,i,N))}}E.push("</Row>"),E.length>2&&m.push(E.join(""))}return m.join("")}function LI(t,e,r){var i=[],o=r.SheetNames[t],c=r.Sheets[o],d=c?RI(c,e,t,r):"";return d.length>0&&i.push("<Names>"+d+"</Names>"),d=c?PI(c,e,t,r):"",d.length>0&&i.push("<Table>"+d+"</Table>"),i.push(bI(c,e,t,r)),i.join("")}function FI(t,e){e||(e={}),t.SSF||(t.SSF=ri(Br)),t.SSF&&(b0(),R0(t.SSF),e.revssf=k0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],ka(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(CI(t,e)),r.push(II()),r.push(""),r.push("");for(var i=0;i<t.SheetNames.length;++i)r.push(tt("Worksheet",LI(i,e,t),{"ss:Name":nr(t.SheetNames[i])}));return r[2]=OI(t,e),r[3]=NI(t),Qr+tt("Workbook",r.join(""),{xmlns:mi.ss,"xmlns:o":mi.o,"xmlns:x":mi.x,"xmlns:ss":mi.ss,"xmlns:dt":mi.dt,"xmlns:html":mi.html})}var Th={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function BI(t,e){var r=[],i=[],o=[],c=0,d,m=Bp(Qp,"n"),w=Bp(Zp,"n");if(t.Props)for(d=Rn(t.Props),c=0;c<d.length;++c)(Object.prototype.hasOwnProperty.call(m,d[c])?r:Object.prototype.hasOwnProperty.call(w,d[c])?i:o).push([d[c],t.Props[d[c]]]);if(t.Custprops)for(d=Rn(t.Custprops),c=0;c<d.length;++c)Object.prototype.hasOwnProperty.call(t.Props||{},d[c])||(Object.prototype.hasOwnProperty.call(m,d[c])?r:Object.prototype.hasOwnProperty.call(w,d[c])?i:o).push([d[c],t.Custprops[d[c]]]);var x=[];for(c=0;c<o.length;++c)sm.indexOf(o[c][0])>-1||rm.indexOf(o[c][0])>-1||o[c][1]!=null&&x.push(o[c]);i.length&&lr.utils.cfb_add(e,"/SummaryInformation",n2(i,Th.SI,w,Zp)),(r.length||x.length)&&lr.utils.cfb_add(e,"/DocumentSummaryInformation",n2(r,Th.DSI,m,Qp,x.length?x:null,Th.UDI))}function UI(t,e){var r=e||{},i=lr.utils.cfb_new({root:"R"}),o="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":o="/Workbook",r.biff=8;break;case"biff5":o="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return lr.utils.cfb_add(i,o,Lm(t,r)),r.biff==8&&(t.Props||t.Custprops)&&BI(t,i),r.biff==8&&t.vbaraw&&nT(i,lr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),i}var jI={0:{f:WC},1:{f:QC},2:{f:m8},3:{f:s8},4:{f:t8},5:{f:d8},6:{f:_8},7:{f:u8},8:{f:N8},9:{f:O8},10:{f:C8},11:{f:I8},12:{f:JC},13:{f:v8},14:{f:o8},15:{f:n8},16:{f:p8},17:{f:S8},18:{f:f8},19:{f:v1},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:gI},40:{},42:{},43:{f:_4},44:{f:y4},45:{f:T4},46:{f:I4},47:{f:C4},48:{},49:{f:JA},50:{},51:{f:W4},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:e4},62:{f:E8},63:{f:$4},64:{f:G8},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:vs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:H8},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:$C},148:{f:XC,p:16},151:{f:P8},152:{},153:{f:hI},154:{},155:{},156:{f:cI},157:{},158:{},159:{T:1,f:c4},160:{T:-1},161:{T:1,f:yo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:R8},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:H4},336:{T:-1},337:{f:X4,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:$h},357:{},358:{},359:{},360:{T:1},361:{},362:{f:KS},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:L8},427:{f:F8},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:U8},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:KC},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:D8},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:$h},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:eT},633:{T:1},634:{T:-1},635:{T:1,f:Z4},636:{T:-1},637:{f:nS},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:iI},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:X8},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function rt(t,e,r,i){var o=e;if(!isNaN(o)){var c=i||(r||[]).length||0,d=t.next(4);d.write_shift(2,o),d.write_shift(2,c),c>0&&x1(r)&&t.push(r)}}function HI(t,e,r,i){var o=(r||[]).length||0;if(o<=8224)return rt(t,e,r,o);var c=e;if(!isNaN(c)){for(var d=r.parts||[],m=0,w=0,x=0;x+(d[m]||8224)<=8224;)x+=d[m]||8224,m++;var E=t.next(4);for(E.write_shift(2,c),E.write_shift(2,x),t.push(r.slice(w,w+x)),w+=x;w<o;){for(E=t.next(4),E.write_shift(2,60),x=0;x+(d[m]||8224)<=8224;)x+=d[m]||8224,m++;E.write_shift(2,x),t.push(r.slice(w,w+x)),w+=x}}}function Bu(t,e,r){return t||(t=Oe(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function zI(t,e,r,i){var o=Oe(9);return Bu(o,t,e),om(r,i||"b",o),o}function WI(t,e,r){var i=Oe(8+2*r.length);return Bu(i,t,e),i.write_shift(1,r.length),i.write_shift(r.length,r,"sbcs"),i.l<i.length?i.slice(0,i.l):i}function VI(t,e,r,i){if(e.v!=null)switch(e.t){case"d":case"n":var o=e.t=="d"?ti(Gn(e.v)):e.v;o==(o|0)&&o>=0&&o<65536?rt(t,2,i4(r,i,o)):rt(t,3,n4(r,i,o));return;case"b":case"e":rt(t,5,zI(r,i,e.v,e.t));return;case"s":case"str":rt(t,4,WI(r,i,(e.v||"").slice(0,255)));return}rt(t,1,Bu(null,r,i))}function GI(t,e,r,i){var o=Array.isArray(e),c=vr(e["!ref"]||"A1"),d,m="",w=[];if(c.e.c>255||c.e.r>16383){if(i.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");c.e.c=Math.min(c.e.c,255),c.e.r=Math.min(c.e.c,16383),d=qr(c)}for(var x=c.s.r;x<=c.e.r;++x){m=Nn(x);for(var E=c.s.c;E<=c.e.c;++E){x===c.s.r&&(w[E]=Un(E)),d=w[E]+m;var A=o?(e[x]||[])[E]:e[d];A&&VI(t,A,x,E)}}}function XI(t,e){for(var r=e||{},i=ei(),o=0,c=0;c<t.SheetNames.length;++c)t.SheetNames[c]==r.sheet&&(o=c);if(o==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return rt(i,r.biff==4?1033:r.biff==3?521:9,_1(t,16,r)),GI(i,t.Sheets[t.SheetNames[o]],o,r),rt(i,10),i.end()}function YI(t,e,r){rt(t,49,jS({sz:12,name:"Arial"},r))}function KI(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var o=i[0];o<=i[1];++o)e[o]!=null&&rt(t,1054,WS(o,e[o],r))})}function $I(t,e){var r=Oe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),rt(t,2151,r),r=Oe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),cm(vr(e["!ref"]||"A1"),r),r.write_shift(4,4),rt(t,2152,r)}function qI(t,e){for(var r=0;r<16;++r)rt(t,224,s2({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(i){rt(t,224,s2(i,0,e))})}function QI(t,e){for(var r=0;r<e["!links"].length;++r){var i=e["!links"][r];rt(t,440,QS(i)),i[1].Tooltip&&rt(t,2048,ZS(i))}delete e["!links"]}function ZI(t,e){if(e){var r=0;e.forEach(function(i,o){++r<=256&&i&&rt(t,125,t4(L0(o,i),o))})}}function JI(t,e,r,i,o){var c=16+ka(o.cellXfs,e,o);if(e.v==null&&!e.bf){rt(t,513,po(r,i,c));return}if(e.bf)rt(t,6,AC(e,r,i,o,c));else switch(e.t){case"d":case"n":var d=e.t=="d"?ti(Gn(e.v)):e.v;rt(t,515,YS(r,i,d,c));break;case"b":case"e":rt(t,517,XS(r,i,e.v,c,o,e.t));break;case"s":case"str":if(o.bookSST){var m=I1(o.Strings,e.v,o.revStrings);rt(t,253,HS(r,i,m,c))}else rt(t,516,zS(r,i,(e.v||"").slice(0,255),c,o));break;default:rt(t,513,po(r,i,c))}}function e6(t,e,r){var i=ei(),o=r.SheetNames[t],c=r.Sheets[o]||{},d=(r||{}).Workbook||{},m=(d.Sheets||[])[t]||{},w=Array.isArray(c),x=e.biff==8,E,A="",C=[],N=vr(c["!ref"]||"A1"),b=x?65536:16384;if(N.e.c>255||N.e.r>=b){if(e.WTF)throw new Error("Range "+(c["!ref"]||"A1")+" exceeds format limit A1:IV16384");N.e.c=Math.min(N.e.c,255),N.e.r=Math.min(N.e.c,b-1)}rt(i,2057,_1(r,16,e)),rt(i,13,Pi(1)),rt(i,12,Pi(100)),rt(i,15,Vn(!0)),rt(i,17,Vn(!1)),rt(i,16,go(.001)),rt(i,95,Vn(!0)),rt(i,42,Vn(!1)),rt(i,43,Vn(!1)),rt(i,130,Pi(1)),rt(i,128,GS()),rt(i,131,Vn(!1)),rt(i,132,Vn(!1)),x&&ZI(i,c["!cols"]),rt(i,512,VS(N,e)),x&&(c["!links"]=[]);for(var O=N.s.r;O<=N.e.r;++O){A=Nn(O);for(var k=N.s.c;k<=N.e.c;++k){O===N.s.r&&(C[k]=Un(k)),E=C[k]+A;var K=w?(c[O]||[])[k]:c[E];K&&(JI(i,K,O,k,e),x&&K.l&&c["!links"].push([E,K.l]))}}var z=m.CodeName||m.name||o;return x&&rt(i,574,US((d.Views||[])[0])),x&&(c["!merges"]||[]).length&&rt(i,229,qS(c["!merges"])),x&&QI(i,c),rt(i,442,um(z)),x&&$I(i,c),rt(i,10),i.end()}function t6(t,e,r){var i=ei(),o=(t||{}).Workbook||{},c=o.Sheets||[],d=o.WBProps||{},m=r.biff==8,w=r.biff==5;if(rt(i,2057,_1(t,5,r)),r.bookType=="xla"&&rt(i,135),rt(i,225,m?Pi(1200):null),rt(i,193,CS(2)),w&&rt(i,191),w&&rt(i,192),rt(i,226),rt(i,92,PS("SheetJS",r)),rt(i,66,Pi(m?1200:1252)),m&&rt(i,353,Pi(0)),m&&rt(i,448),rt(i,317,r4(t.SheetNames.length)),m&&t.vbaraw&&rt(i,211),m&&t.vbaraw){var x=d.CodeName||"ThisWorkbook";rt(i,442,um(x))}rt(i,156,Pi(17)),rt(i,25,Vn(!1)),rt(i,18,Vn(!1)),rt(i,19,Pi(0)),m&&rt(i,431,Vn(!1)),m&&rt(i,444,Pi(0)),rt(i,61,BS()),rt(i,64,Vn(!1)),rt(i,141,Pi(0)),rt(i,34,Vn(aI(t)=="true")),rt(i,14,Vn(!0)),m&&rt(i,439,Vn(!1)),rt(i,218,Pi(0)),YI(i,t,r),KI(i,t.SSF,r),qI(i,r),m&&rt(i,352,Vn(!1));var E=i.end(),A=ei();m&&rt(A,140,JS()),m&&r.Strings&&HI(A,252,FS(r.Strings)),rt(A,10);var C=A.end(),N=ei(),b=0,O=0;for(O=0;O<t.SheetNames.length;++O)b+=(m?12:11)+(m?2:1)*t.SheetNames[O].length;var k=E.length+b+C.length;for(O=0;O<t.SheetNames.length;++O){var K=c[O]||{};rt(N,133,LS({pos:k,hs:K.Hidden||0,dt:0,name:t.SheetNames[O]},r)),k+=e[O].length}var z=N.end();if(b!=z.length)throw new Error("BS8 "+b+" != "+z.length);var B=[];return E.length&&B.push(E),z.length&&B.push(z),C.length&&B.push(C),In(B)}function r6(t,e){var r=e||{},i=[];t&&!t.SSF&&(t.SSF=ri(Br)),t&&t.SSF&&(b0(),R0(t.SSF),r.revssf=k0(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,O1(r),r.cellXfs=[],ka(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var o=0;o<t.SheetNames.length;++o)i[i.length]=e6(o,r,t);return i.unshift(t6(t,i,r)),In(i)}function Lm(t,e){for(var r=0;r<=t.SheetNames.length;++r){var i=t.Sheets[t.SheetNames[r]];if(!(!i||!i["!ref"])){var o=_i(i["!ref"]);o.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var c=e||{};switch(c.biff||2){case 8:case 5:return r6(t,e);case 4:case 3:case 2:return XI(t,e)}throw new Error("invalid type "+c.bookType+" for BIFF")}function n6(t,e,r,i){for(var o=t["!merges"]||[],c=[],d=e.s.c;d<=e.e.c;++d){for(var m=0,w=0,x=0;x<o.length;++x)if(!(o[x].s.r>r||o[x].s.c>d)&&!(o[x].e.r<r||o[x].e.c<d)){if(o[x].s.r<r||o[x].s.c<d){m=-1;break}m=o[x].e.r-o[x].s.r+1,w=o[x].e.c-o[x].s.c+1;break}if(!(m<0)){var E=ir({r,c:d}),A=i.dense?(t[r]||[])[d]:t[E],C=A&&A.v!=null&&(A.h||MA(A.w||(Ws(A),A.w)||""))||"",N={};m>1&&(N.rowspan=m),w>1&&(N.colspan=w),i.editable?C='<span contenteditable="true">'+C+"</span>":A&&(N["data-t"]=A&&A.t||"z",A.v!=null&&(N["data-v"]=A.v),A.z!=null&&(N["data-z"]=A.z),A.l&&(A.l.Target||"#").charAt(0)!="#"&&(C='<a href="'+A.l.Target+'">'+C+"</a>")),N.id=(i.id||"sjs")+"-"+E,c.push(tt("td",C,N))}}var b="<tr>";return b+c.join("")+"</tr>"}var i6='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',s6="</body></html>";function a6(t,e,r){var i=[];return i.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Fm(t,e){var r=e||{},i=r.header!=null?r.header:i6,o=r.footer!=null?r.footer:s6,c=[i],d=_i(t["!ref"]);r.dense=Array.isArray(t),c.push(a6(t,d,r));for(var m=d.s.r;m<=d.e.r;++m)c.push(n6(t,d,m,r));return c.push("</table>"+o),c.join("")}function Bm(t,e,r){var i=r||{},o=0,c=0;if(i.origin!=null)if(typeof i.origin=="number")o=i.origin;else{var d=typeof i.origin=="string"?pn(i.origin):i.origin;o=d.r,c=d.c}var m=e.getElementsByTagName("tr"),w=Math.min(i.sheetRows||1e7,m.length),x={s:{r:0,c:0},e:{r:o,c}};if(t["!ref"]){var E=_i(t["!ref"]);x.s.r=Math.min(x.s.r,E.s.r),x.s.c=Math.min(x.s.c,E.s.c),x.e.r=Math.max(x.e.r,E.e.r),x.e.c=Math.max(x.e.c,E.e.c),o==-1&&(x.e.r=o=E.e.r+1)}var A=[],C=0,N=t["!rows"]||(t["!rows"]=[]),b=0,O=0,k=0,K=0,z=0,B=0;for(t["!cols"]||(t["!cols"]=[]);b<m.length&&O<w;++b){var Q=m[b];if(h2(Q)){if(i.display)continue;N[O]={hidden:!0}}var Se=Q.children;for(k=K=0;k<Se.length;++k){var ve=Se[k];if(!(i.display&&h2(ve))){var G=ve.hasAttribute("data-v")?ve.getAttribute("data-v"):ve.hasAttribute("v")?ve.getAttribute("v"):BA(ve.innerHTML),fe=ve.getAttribute("data-z")||ve.getAttribute("z");for(C=0;C<A.length;++C){var Z=A[C];Z.s.c==K+c&&Z.s.r<O+o&&O+o<=Z.e.r&&(K=Z.e.c+1-c,C=-1)}B=+ve.getAttribute("colspan")||1,((z=+ve.getAttribute("rowspan")||1)>1||B>1)&&A.push({s:{r:O+o,c:K+c},e:{r:O+o+(z||1)-1,c:K+c+(B||1)-1}});var Ne={t:"s",v:G},Te=ve.getAttribute("data-t")||ve.getAttribute("t")||"";G!=null&&(G.length==0?Ne.t=Te||"z":i.raw||G.trim().length==0||Te=="s"||(G==="TRUE"?Ne={t:"b",v:!0}:G==="FALSE"?Ne={t:"b",v:!1}:isNaN(js(G))?isNaN(Iu(G).getDate())||(Ne={t:"d",v:Gn(G)},i.cellDates||(Ne={t:"n",v:ti(Ne.v)}),Ne.z=i.dateNF||Br[14]):Ne={t:"n",v:js(G)})),Ne.z===void 0&&fe!=null&&(Ne.z=fe);var we="",Re=ve.getElementsByTagName("A");if(Re&&Re.length)for(var at=0;at<Re.length&&!(Re[at].hasAttribute("href")&&(we=Re[at].getAttribute("href"),we.charAt(0)!="#"));++at);we&&we.charAt(0)!="#"&&(Ne.l={Target:we}),i.dense?(t[O+o]||(t[O+o]=[]),t[O+o][K+c]=Ne):t[ir({c:K+c,r:O+o})]=Ne,x.e.c<K+c&&(x.e.c=K+c),K+=B}}++O}return A.length&&(t["!merges"]=(t["!merges"]||[]).concat(A)),x.e.r=Math.max(x.e.r,O-1+o),t["!ref"]=qr(x),O>=w&&(t["!fullref"]=qr((x.e.r=m.length-b+O-1+o,x))),t}function Um(t,e){var r=e||{},i=r.dense?[]:{};return Bm(i,t,e)}function o6(t,e){return xo(Um(t,e),e)}function h2(t){var e="",r=l6(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function l6(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var u6=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Nu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Qr+e}})(),d2=(function(){var t=function(c){return nr(c).replace(/  +/g,function(d){return'<text:s text:c="'+d.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,i=function(c,d,m){var w=[];w.push('      <table:table table:name="'+nr(d.SheetNames[m])+`" table:style-name="ta1">
`);var x=0,E=0,A=_i(c["!ref"]||"A1"),C=c["!merges"]||[],N=0,b=Array.isArray(c);if(c["!cols"])for(E=0;E<=A.e.c;++E)w.push("        <table:table-column"+(c["!cols"][E]?' table:style-name="co'+c["!cols"][E].ods+'"':"")+`></table:table-column>
`);var O="",k=c["!rows"]||[];for(x=0;x<A.s.r;++x)O=k[x]?' table:style-name="ro'+k[x].ods+'"':"",w.push("        <table:table-row"+O+`></table:table-row>
`);for(;x<=A.e.r;++x){for(O=k[x]?' table:style-name="ro'+k[x].ods+'"':"",w.push("        <table:table-row"+O+`>
`),E=0;E<A.s.c;++E)w.push(e);for(;E<=A.e.c;++E){var K=!1,z={},B="";for(N=0;N!=C.length;++N)if(!(C[N].s.c>E)&&!(C[N].s.r>x)&&!(C[N].e.c<E)&&!(C[N].e.r<x)){(C[N].s.c!=E||C[N].s.r!=x)&&(K=!0),z["table:number-columns-spanned"]=C[N].e.c-C[N].s.c+1,z["table:number-rows-spanned"]=C[N].e.r-C[N].s.r+1;break}if(K){w.push(r);continue}var Q=ir({r:x,c:E}),Se=b?(c[x]||[])[E]:c[Q];if(Se&&Se.f&&(z["table:formula"]=nr(NC(Se.f)),Se.F&&Se.F.slice(0,Q.length)==Q)){var ve=_i(Se.F);z["table:number-matrix-columns-spanned"]=ve.e.c-ve.s.c+1,z["table:number-matrix-rows-spanned"]=ve.e.r-ve.s.r+1}if(!Se){w.push(e);continue}switch(Se.t){case"b":B=Se.v?"TRUE":"FALSE",z["office:value-type"]="boolean",z["office:boolean-value"]=Se.v?"true":"false";break;case"n":B=Se.w||String(Se.v||0),z["office:value-type"]="float",z["office:value"]=Se.v||0;break;case"s":case"str":B=Se.v==null?"":Se.v,z["office:value-type"]="string";break;case"d":B=Se.w||Gn(Se.v).toISOString(),z["office:value-type"]="date",z["office:date-value"]=Gn(Se.v).toISOString(),z["table:style-name"]="ce1";break;default:w.push(e);continue}var G=t(B);if(Se.l&&Se.l.Target){var fe=Se.l.Target;fe=fe.charAt(0)=="#"?"#"+RC(fe.slice(1)):fe,fe.charAt(0)!="#"&&!fe.match(/^\w+:/)&&(fe="../"+fe),G=tt("text:a",G,{"xlink:href":fe.replace(/&/g,"&amp;")})}w.push("          "+tt("table:table-cell",tt("text:p",G,{}),z)+`
`)}w.push(`        </table:table-row>
`)}return w.push(`      </table:table>
`),w.join("")},o=function(c,d){c.push(` <office:automatic-styles>
`),c.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),c.push(`   <number:month number:style="long"/>
`),c.push(`   <number:text>/</number:text>
`),c.push(`   <number:day number:style="long"/>
`),c.push(`   <number:text>/</number:text>
`),c.push(`   <number:year/>
`),c.push(`  </number:date-style>
`);var m=0;d.SheetNames.map(function(x){return d.Sheets[x]}).forEach(function(x){if(x&&x["!cols"]){for(var E=0;E<x["!cols"].length;++E)if(x["!cols"][E]){var A=x["!cols"][E];if(A.width==null&&A.wpx==null&&A.wch==null)continue;A1(A),A.ods=m;var C=x["!cols"][E].wpx+"px";c.push('  <style:style style:name="co'+m+`" style:family="table-column">
`),c.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+C+`"/>
`),c.push(`  </style:style>
`),++m}}});var w=0;d.SheetNames.map(function(x){return d.Sheets[x]}).forEach(function(x){if(x&&x["!rows"]){for(var E=0;E<x["!rows"].length;++E)if(x["!rows"][E]){x["!rows"][E].ods=w;var A=x["!rows"][E].hpx+"px";c.push('  <style:style style:name="ro'+w+`" style:family="table-row">
`),c.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+A+`"/>
`),c.push(`  </style:style>
`),++w}}}),c.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),c.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),c.push(`  </style:style>
`),c.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),c.push(` </office:automatic-styles>
`)};return function(d,m){var w=[Qr],x=Nu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),E=Nu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});m.bookType=="fods"?(w.push("<office:document"+x+E+`>
`),w.push(em().replace(/office:document-meta/g,"office:meta"))):w.push("<office:document-content"+x+`>
`),o(w,d),w.push(`  <office:body>
`),w.push(`    <office:spreadsheet>
`);for(var A=0;A!=d.SheetNames.length;++A)w.push(i(d.Sheets[d.SheetNames[A]],d,A));return w.push(`    </office:spreadsheet>
`),w.push(`  </office:body>
`),m.bookType=="fods"?w.push("</office:document>"):w.push("</office:document-content>"),w.join("")}})();function jm(t,e){if(e.bookType=="fods")return d2(t,e);var r=h1(),i="",o=[],c=[];return i="mimetype",Ut(r,i,"application/vnd.oasis.opendocument.spreadsheet"),i="content.xml",Ut(r,i,d2(t,e)),o.push([i,"text/xml"]),c.push([i,"ContentFile"]),i="styles.xml",Ut(r,i,u6(t,e)),o.push([i,"text/xml"]),c.push([i,"StylesFile"]),i="meta.xml",Ut(r,i,Qr+em()),o.push([i,"text/xml"]),c.push([i,"MetadataFile"]),i="manifest.rdf",Ut(r,i,ES(c)),o.push([i,"application/rdf+xml"]),i="META-INF/manifest.xml",Ut(r,i,vS(o)),r}function E0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function c6(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):ts(Ou(t))}function f6(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var i=0;i<e.length;++i)if(t[r+i]!=e[i])continue e;return!0}return!1}function Ra(t){var e=t.reduce(function(o,c){return o+c.length},0),r=new Uint8Array(e),i=0;return t.forEach(function(o){r.set(o,i),i+=o.length}),r}function h6(t,e,r){var i=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,o=r/Math.pow(10,i-6176);t[e+15]|=i>>7,t[e+14]|=(i&127)<<1;for(var c=0;o>=1;++c,o/=256)t[e+c]=o&255;t[e+15]|=r>=0?0:128}function Ru(t,e){var r=e?e[0]:0,i=t[r]&127;e:if(t[r++]>=128&&(i|=(t[r]&127)<<7,t[r++]<128||(i|=(t[r]&127)<<14,t[r++]<128)||(i|=(t[r]&127)<<21,t[r++]<128)||(i+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(i+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(i+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),i}function er(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function gl(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function an(t){for(var e=[],r=[0];r[0]<t.length;){var i=r[0],o=Ru(t,r),c=o&7;o=Math.floor(o/8);var d=0,m;if(o==0)break;switch(c){case 0:{for(var w=r[0];t[r[0]++]>=128;);m=t.slice(w,r[0])}break;case 5:d=4,m=t.slice(r[0],r[0]+d),r[0]+=d;break;case 1:d=8,m=t.slice(r[0],r[0]+d),r[0]+=d;break;case 2:d=Ru(t,r),m=t.slice(r[0],r[0]+d),r[0]+=d;break;default:throw new Error("PB Type ".concat(c," for Field ").concat(o," at offset ").concat(i))}var x={data:m,type:c};e[o]==null?e[o]=[x]:e[o].push(x)}return e}function Tn(t){var e=[];return t.forEach(function(r,i){r.forEach(function(o){o.data&&(e.push(er(i*8+o.type)),o.type==2&&e.push(er(o.data.length)),e.push(o.data))})}),Ra(e)}function $i(t){for(var e,r=[],i=[0];i[0]<t.length;){var o=Ru(t,i),c=an(t.slice(i[0],i[0]+o));i[0]+=o;var d={id:gl(c[1][0].data),messages:[]};c[2].forEach(function(m){var w=an(m.data),x=gl(w[3][0].data);d.messages.push({meta:w,data:t.slice(i[0],i[0]+x)}),i[0]+=x}),(e=c[3])!=null&&e[0]&&(d.merge=gl(c[3][0].data)>>>0>0),r.push(d)}return r}function el(t){var e=[];return t.forEach(function(r){var i=[];i[1]=[{data:er(r.id),type:0}],i[2]=[],r.merge!=null&&(i[3]=[{data:er(+!!r.merge),type:0}]);var o=[];r.messages.forEach(function(d){o.push(d.data),d.meta[3]=[{type:0,data:er(d.data.length)}],i[2].push({data:Tn(d.meta),type:2})});var c=Tn(i);e.push(er(c.length)),e.push(c),o.forEach(function(d){return e.push(d)})}),Ra(e)}function d6(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],i=Ru(e,r),o=[];r[0]<e.length;){var c=e[r[0]]&3;if(c==0){var d=e[r[0]++]>>2;if(d<60)++d;else{var m=d-59;d=e[r[0]],m>1&&(d|=e[r[0]+1]<<8),m>2&&(d|=e[r[0]+2]<<16),m>3&&(d|=e[r[0]+3]<<24),d>>>=0,d++,r[0]+=m}o.push(e.slice(r[0],r[0]+d)),r[0]+=d;continue}else{var w=0,x=0;if(c==1?(x=(e[r[0]]>>2&7)+4,w=(e[r[0]++]&224)<<3,w|=e[r[0]++]):(x=(e[r[0]++]>>2)+1,c==2?(w=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(w=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),o=[Ra(o)],w==0)throw new Error("Invalid offset 0");if(w>o[0].length)throw new Error("Invalid offset beyond length");if(x>=w)for(o.push(o[0].slice(-w)),x-=w;x>=o[o.length-1].length;)o.push(o[o.length-1]),x-=o[o.length-1].length;o.push(o[0].slice(-w,-w+x))}}var E=Ra(o);if(E.length!=i)throw new Error("Unexpected length: ".concat(E.length," != ").concat(i));return E}function qi(t){for(var e=[],r=0;r<t.length;){var i=t[r++],o=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(d6(i,t.slice(r,r+o))),r+=o}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Ra(e)}function tl(t){for(var e=[],r=0;r<t.length;){var i=Math.min(t.length-r,268435455),o=new Uint8Array(4);e.push(o);var c=er(i),d=c.length;e.push(c),i<=60?(d++,e.push(new Uint8Array([i-1<<2]))):i<=256?(d+=2,e.push(new Uint8Array([240,i-1&255]))):i<=65536?(d+=3,e.push(new Uint8Array([244,i-1&255,i-1>>8&255]))):i<=16777216?(d+=4,e.push(new Uint8Array([248,i-1&255,i-1>>8&255,i-1>>16&255]))):i<=4294967296&&(d+=5,e.push(new Uint8Array([252,i-1&255,i-1>>8&255,i-1>>16&255,i-1>>>24&255]))),e.push(t.slice(r,r+i)),d+=i,o[0]=0,o[1]=d&255,o[2]=d>>8&255,o[3]=d>>16&255,r+=i}return Ra(e)}function Ch(t,e){var r=new Uint8Array(32),i=E0(r),o=12,c=0;switch(r[0]=5,t.t){case"n":r[1]=2,h6(r,o,t.v),c|=1,o+=16;break;case"b":r[1]=6,i.setFloat64(o,t.v?1:0,!0),c|=2,o+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,i.setUint32(o,e.indexOf(t.v),!0),c|=8,o+=4;break;default:throw"unsupported cell type "+t.t}return i.setUint32(8,c,!0),r.slice(0,o)}function Ih(t,e){var r=new Uint8Array(32),i=E0(r),o=12,c=0;switch(r[0]=3,t.t){case"n":r[2]=2,i.setFloat64(o,t.v,!0),c|=32,o+=8;break;case"b":r[2]=6,i.setFloat64(o,t.v?1:0,!0),c|=32,o+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,i.setUint32(o,e.indexOf(t.v),!0),c|=16,o+=4;break;default:throw"unsupported cell type "+t.t}return i.setUint32(4,c,!0),r.slice(0,o)}function va(t){var e=an(t);return Ru(e[1][0].data)}function g6(t,e,r){var i,o,c,d;if(!((i=t[6])!=null&&i[0])||!((o=t[7])!=null&&o[0]))throw"Mutation only works on post-BNC storages!";var m=((d=(c=t[8])==null?void 0:c[0])==null?void 0:d.data)&&gl(t[8][0].data)>0||!1;if(m)throw"Math only works with normal offsets";for(var w=0,x=E0(t[7][0].data),E=0,A=[],C=E0(t[4][0].data),N=0,b=[],O=0;O<e.length;++O){if(e[O]==null){x.setUint16(O*2,65535,!0),C.setUint16(O*2,65535);continue}x.setUint16(O*2,E,!0),C.setUint16(O*2,N,!0);var k,K;switch(typeof e[O]){case"string":k=Ch({t:"s",v:e[O]},r),K=Ih({t:"s",v:e[O]},r);break;case"number":k=Ch({t:"n",v:e[O]},r),K=Ih({t:"n",v:e[O]},r);break;case"boolean":k=Ch({t:"b",v:e[O]},r),K=Ih({t:"b",v:e[O]},r);break;default:throw new Error("Unsupported value "+e[O])}A.push(k),E+=k.length,b.push(K),N+=K.length,++w}for(t[2][0].data=er(w);O<t[7][0].data.length/2;++O)x.setUint16(O*2,65535,!0),C.setUint16(O*2,65535,!0);return t[6][0].data=Ra(A),t[3][0].data=Ra(b),w}function p6(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var i=_i(r["!ref"]);i.s.r=i.s.c=0;var o=!1;i.e.c>9&&(o=!0,i.e.c=9),i.e.r>49&&(o=!0,i.e.r=49),o&&console.error("The Numbers writer is currently limited to ".concat(qr(i)));var c=_0(r,{range:i,header:1}),d=["~Sh33tJ5~"];c.forEach(function(ae){return ae.forEach(function(ee){typeof ee=="string"&&d.push(ee)})});var m={},w=[],x=lr.read(e.numbers,{type:"base64"});x.FileIndex.map(function(ae,ee){return[ae,x.FullPaths[ee]]}).forEach(function(ae){var ee=ae[0],re=ae[1];if(ee.type==2&&ee.name.match(/\.iwa/)){var oe=ee.content,qe=qi(oe),De=$i(qe);De.forEach(function(Xe){w.push(Xe.id),m[Xe.id]={deps:[],location:re,type:gl(Xe.messages[0].meta[1][0].data)}})}}),w.sort(function(ae,ee){return ae-ee});var E=w.filter(function(ae){return ae>1}).map(function(ae){return[ae,er(ae)]});x.FileIndex.map(function(ae,ee){return[ae,x.FullPaths[ee]]}).forEach(function(ae){var ee=ae[0];if(ae[1],!!ee.name.match(/\.iwa/)){var re=$i(qi(ee.content));re.forEach(function(oe){oe.messages.forEach(function(qe){E.forEach(function(De){oe.messages.some(function(Xe){return gl(Xe.meta[1][0].data)!=11006&&f6(Xe.data,De[1])})&&m[De[0]].deps.push(oe.id)})})})}});for(var A=lr.find(x,m[1].location),C=$i(qi(A.content)),N,b=0;b<C.length;++b){var O=C[b];O.id==1&&(N=O)}var k=va(an(N.messages[0].data)[1][0].data);for(A=lr.find(x,m[k].location),C=$i(qi(A.content)),b=0;b<C.length;++b)O=C[b],O.id==k&&(N=O);for(k=va(an(N.messages[0].data)[2][0].data),A=lr.find(x,m[k].location),C=$i(qi(A.content)),b=0;b<C.length;++b)O=C[b],O.id==k&&(N=O);for(k=va(an(N.messages[0].data)[2][0].data),A=lr.find(x,m[k].location),C=$i(qi(A.content)),b=0;b<C.length;++b)O=C[b],O.id==k&&(N=O);var K=an(N.messages[0].data);{K[6][0].data=er(i.e.r+1),K[7][0].data=er(i.e.c+1);var z=va(K[46][0].data),B=lr.find(x,m[z].location),Q=$i(qi(B.content));{for(var Se=0;Se<Q.length&&Q[Se].id!=z;++Se);if(Q[Se].id!=z)throw"Bad ColumnRowUIDMapArchive";var ve=an(Q[Se].messages[0].data);ve[1]=[],ve[2]=[],ve[3]=[];for(var G=0;G<=i.e.c;++G){var fe=[];fe[1]=fe[2]=[{type:0,data:er(G+420690)}],ve[1].push({type:2,data:Tn(fe)}),ve[2].push({type:0,data:er(G)}),ve[3].push({type:0,data:er(G)})}ve[4]=[],ve[5]=[],ve[6]=[];for(var Z=0;Z<=i.e.r;++Z)fe=[],fe[1]=fe[2]=[{type:0,data:er(Z+726270)}],ve[4].push({type:2,data:Tn(fe)}),ve[5].push({type:0,data:er(Z)}),ve[6].push({type:0,data:er(Z)});Q[Se].messages[0].data=Tn(ve)}B.content=tl(el(Q)),B.size=B.content.length,delete K[46];var Ne=an(K[4][0].data);{Ne[7][0].data=er(i.e.r+1);var Te=an(Ne[1][0].data),we=va(Te[2][0].data);B=lr.find(x,m[we].location),Q=$i(qi(B.content));{if(Q[0].id!=we)throw"Bad HeaderStorageBucket";var Re=an(Q[0].messages[0].data);for(Z=0;Z<c.length;++Z){var at=an(Re[2][0].data);at[1][0].data=er(Z),at[4][0].data=er(c[Z].length),Re[2][Z]={type:Re[2][0].type,data:Tn(at)}}Q[0].messages[0].data=Tn(Re)}B.content=tl(el(Q)),B.size=B.content.length;var le=va(Ne[2][0].data);B=lr.find(x,m[le].location),Q=$i(qi(B.content));{if(Q[0].id!=le)throw"Bad HeaderStorageBucket";for(Re=an(Q[0].messages[0].data),G=0;G<=i.e.c;++G)at=an(Re[2][0].data),at[1][0].data=er(G),at[4][0].data=er(i.e.r+1),Re[2][G]={type:Re[2][0].type,data:Tn(at)};Q[0].messages[0].data=Tn(Re)}B.content=tl(el(Q)),B.size=B.content.length;var pt=va(Ne[4][0].data);(function(){for(var ae=lr.find(x,m[pt].location),ee=$i(qi(ae.content)),re,oe=0;oe<ee.length;++oe){var qe=ee[oe];qe.id==pt&&(re=qe)}var De=an(re.messages[0].data);{De[3]=[];var Xe=[];d.forEach(function(Mt,mt){Xe[1]=[{type:0,data:er(mt)}],Xe[2]=[{type:0,data:er(1)}],Xe[3]=[{type:2,data:c6(Mt)}],De[3].push({type:2,data:Tn(Xe)})})}re.messages[0].data=Tn(De);var Ve=el(ee),Tt=tl(Ve);ae.content=Tt,ae.size=ae.content.length})();var Ke=an(Ne[3][0].data);{var We=Ke[1][0];delete Ke[2];var nt=an(We.data);{var $e=va(nt[2][0].data);(function(){for(var ae=lr.find(x,m[$e].location),ee=$i(qi(ae.content)),re,oe=0;oe<ee.length;++oe){var qe=ee[oe];qe.id==$e&&(re=qe)}var De=an(re.messages[0].data);{delete De[6],delete Ke[7];var Xe=new Uint8Array(De[5][0].data);De[5]=[];for(var Ve=0,Tt=0;Tt<=i.e.r;++Tt){var Mt=an(Xe);Ve+=g6(Mt,c[Tt],d),Mt[1][0].data=er(Tt),De[5].push({data:Tn(Mt),type:2})}De[1]=[{type:0,data:er(i.e.c+1)}],De[2]=[{type:0,data:er(i.e.r+1)}],De[3]=[{type:0,data:er(Ve)}],De[4]=[{type:0,data:er(i.e.r+1)}]}re.messages[0].data=Tn(De);var mt=el(ee),Pt=tl(mt);ae.content=Pt,ae.size=ae.content.length})()}We.data=Tn(nt)}Ne[3][0].data=Tn(Ke)}K[4][0].data=Tn(Ne)}N.messages[0].data=Tn(K);var ue=el(C),j=tl(ue);return A.content=j,A.size=A.content.length,x}function x6(t){return function(r){for(var i=0;i!=t.length;++i){var o=t[i];r[o[0]]===void 0&&(r[o[0]]=o[1]),o[2]==="n"&&(r[o[0]]=Number(r[o[0]]))}}}function O1(t){x6([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function m6(t,e){return e.bookType=="ods"?jm(t,e):e.bookType=="numbers"?p6(t,e):e.bookType=="xlsb"?w6(t,e):v6(t,e)}function w6(t,e){ul=1024,t&&!t.SSF&&(t.SSF=ri(Br)),t&&t.SSF&&(b0(),R0(t.SSF),e.revssf=k0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,xu?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",i=_m.indexOf(e.bookType)>-1,o=Qx();O1(e=e||{});var c=h1(),d="",m=0;if(e.cellXfs=[],ka(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),d="docProps/core.xml",Ut(c,d,tm(t.Props,e)),o.coreprops.push(d),rr(e.rels,2,d,Kt.CORE_PROPS),d="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var w=[],x=0;x<t.SheetNames.length;++x)(t.Workbook.Sheets[x]||{}).Hidden!=2&&w.push(t.SheetNames[x]);t.Props.SheetNames=w}for(t.Props.Worksheets=t.Props.SheetNames.length,Ut(c,d,nm(t.Props)),o.extprops.push(d),rr(e.rels,3,d,Kt.EXT_PROPS),t.Custprops!==t.Props&&Rn(t.Custprops||{}).length>0&&(d="docProps/custom.xml",Ut(c,d,im(t.Custprops)),o.custprops.push(d),rr(e.rels,4,d,Kt.CUST_PROPS)),m=1;m<=t.SheetNames.length;++m){var E={"!id":{}},A=t.Sheets[t.SheetNames[m-1]],C=(A||{})["!type"]||"sheet";if(d="xl/worksheets/sheet"+m+"."+r,Ut(c,d,EI(m-1,d,e,t,E)),o.sheets.push(d),rr(e.wbrels,-1,"worksheets/sheet"+m+"."+r,Kt.WS[0]),A){var N=A["!comments"],b=!1,O="";N&&N.length>0&&(O="xl/comments"+m+"."+r,Ut(c,O,SI(N,O)),o.comments.push(O),rr(E,-1,"../comments"+m+"."+r,Kt.CMNT),b=!0),A["!legacy"]&&b&&Ut(c,"xl/drawings/vmlDrawing"+m+".vml",ym(m,A["!comments"])),delete A["!comments"],delete A["!legacy"]}E["!id"].rId1&&Ut(c,Jx(d),hl(E))}return e.Strings!=null&&e.Strings.length>0&&(d="xl/sharedStrings."+r,Ut(c,d,AI(e.Strings,d,e)),o.strs.push(d),rr(e.wbrels,-1,"sharedStrings."+r,Kt.SST)),d="xl/workbook."+r,Ut(c,d,yI(t,d)),o.workbooks.push(d),rr(e.rels,1,d,Kt.WB),d="xl/theme/theme1.xml",Ut(c,d,wm(t.Themes,e)),o.themes.push(d),rr(e.wbrels,-1,"theme/theme1.xml",Kt.THEME),d="xl/styles."+r,Ut(c,d,_I(t,d,e)),o.styles.push(d),rr(e.wbrels,-1,"styles."+r,Kt.STY),t.vbaraw&&i&&(d="xl/vbaProject.bin",Ut(c,d,t.vbaraw),o.vba.push(d),rr(e.wbrels,-1,"vbaProject.bin",Kt.VBA)),d="xl/metadata."+r,Ut(c,d,TI(d)),o.metadata.push(d),rr(e.wbrels,-1,"metadata."+r,Kt.XLMETA),Ut(c,"[Content_Types].xml",Zx(o,e)),Ut(c,"_rels/.rels",hl(e.rels)),Ut(c,"xl/_rels/workbook."+r+".rels",hl(e.wbrels)),delete e.revssf,delete e.ssf,c}function v6(t,e){ul=1024,t&&!t.SSF&&(t.SSF=ri(Br)),t&&t.SSF&&(b0(),R0(t.SSF),e.revssf=k0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,xu?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",i=_m.indexOf(e.bookType)>-1,o=Qx();O1(e=e||{});var c=h1(),d="",m=0;if(e.cellXfs=[],ka(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),d="docProps/core.xml",Ut(c,d,tm(t.Props,e)),o.coreprops.push(d),rr(e.rels,2,d,Kt.CORE_PROPS),d="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var w=[],x=0;x<t.SheetNames.length;++x)(t.Workbook.Sheets[x]||{}).Hidden!=2&&w.push(t.SheetNames[x]);t.Props.SheetNames=w}t.Props.Worksheets=t.Props.SheetNames.length,Ut(c,d,nm(t.Props)),o.extprops.push(d),rr(e.rels,3,d,Kt.EXT_PROPS),t.Custprops!==t.Props&&Rn(t.Custprops||{}).length>0&&(d="docProps/custom.xml",Ut(c,d,im(t.Custprops)),o.custprops.push(d),rr(e.rels,4,d,Kt.CUST_PROPS));var E=["SheetJ5"];for(e.tcid=0,m=1;m<=t.SheetNames.length;++m){var A={"!id":{}},C=t.Sheets[t.SheetNames[m-1]],N=(C||{})["!type"]||"sheet";if(d="xl/worksheets/sheet"+m+"."+r,Ut(c,d,bm(m-1,e,t,A)),o.sheets.push(d),rr(e.wbrels,-1,"worksheets/sheet"+m+"."+r,Kt.WS[0]),C){var b=C["!comments"],O=!1,k="";if(b&&b.length>0){var K=!1;b.forEach(function(z){z[1].forEach(function(B){B.T==!0&&(K=!0)})}),K&&(k="xl/threadedComments/threadedComment"+m+"."+r,Ut(c,k,q4(b,E,e)),o.threadedcomments.push(k),rr(A,-1,"../threadedComments/threadedComment"+m+"."+r,Kt.TCMNT)),k="xl/comments"+m+"."+r,Ut(c,k,Em(b)),o.comments.push(k),rr(A,-1,"../comments"+m+"."+r,Kt.CMNT),O=!0}C["!legacy"]&&O&&Ut(c,"xl/drawings/vmlDrawing"+m+".vml",ym(m,C["!comments"])),delete C["!comments"],delete C["!legacy"]}A["!id"].rId1&&Ut(c,Jx(d),hl(A))}return e.Strings!=null&&e.Strings.length>0&&(d="xl/sharedStrings."+r,Ut(c,d,hm(e.Strings,e)),o.strs.push(d),rr(e.wbrels,-1,"sharedStrings."+r,Kt.SST)),d="xl/workbook."+r,Ut(c,d,Mm(t)),o.workbooks.push(d),rr(e.rels,1,d,Kt.WB),d="xl/theme/theme1.xml",Ut(c,d,wm(t.Themes,e)),o.themes.push(d),rr(e.wbrels,-1,"theme/theme1.xml",Kt.THEME),d="xl/styles."+r,Ut(c,d,xm(t,e)),o.styles.push(d),rr(e.wbrels,-1,"styles."+r,Kt.STY),t.vbaraw&&i&&(d="xl/vbaProject.bin",Ut(c,d,t.vbaraw),o.vba.push(d),rr(e.wbrels,-1,"vbaProject.bin",Kt.VBA)),d="xl/metadata."+r,Ut(c,d,vm()),o.metadata.push(d),rr(e.wbrels,-1,"metadata."+r,Kt.XLMETA),E.length>1&&(d="xl/persons/person.xml",Ut(c,d,Q4(E)),o.people.push(d),rr(e.wbrels,-1,"persons/person.xml",Kt.PEOPLE)),Ut(c,"[Content_Types].xml",Zx(o,e)),Ut(c,"_rels/.rels",hl(e.rels)),Ut(c,"xl/_rels/workbook."+r+".rels",hl(e.wbrels)),delete e.revssf,delete e.ssf,c}function y6(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=zs(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Hm(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Mu(e.file,lr.write(t,{type:Qt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return lr.write(t,e)}function E6(t,e){var r=ri(e||{}),i=m6(t,r);return _6(i,r)}function _6(t,e){var r={},i=Qt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=i;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=i;break;default:throw new Error("Unrecognized type "+e.type)}var o=t.FullPaths?lr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof o=="string"){if(e.type=="binary"||e.type=="base64")return o;o=new Uint8Array(N0(o))}return e.password&&typeof encrypt_agile<"u"?Hm(encrypt_agile(o,e.password),e):e.type==="file"?Mu(e.file,o):e.type=="string"?hu(o):o}function A6(t,e){var r=e||{},i=UI(t,r);return Hm(i,r)}function xs(t,e,r){r||(r="");var i=r+t;switch(e.type){case"base64":return Cu(Ou(i));case"binary":return Ou(i);case"string":return t;case"file":return Mu(e.file,i,"utf8");case"buffer":return Qt?Ys(i,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(i):xs(i,{type:"binary"}).split("").map(function(o){return o.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function S6(t,e){switch(e.type){case"base64":return Cu(t);case"binary":return t;case"string":return t;case"file":return Mu(e.file,t,"binary");case"buffer":return Qt?Ys(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Jc(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",i=0;i<t.length;++i)r+=String.fromCharCode(t[i]);return e.type=="base64"?Cu(r):e.type=="string"?hu(r):r;case"file":return Mu(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function zm(t,e){Z3(),uI(t);var r=ri(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var i=zm(t,r);return r.type="array",N0(i)}var o=0;if(r.sheet&&(typeof r.sheet=="number"?o=r.sheet:o=t.SheetNames.indexOf(r.sheet),!t.SheetNames[o]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return xs(FI(t,r),r);case"slk":case"sylk":return xs(a4.from_sheet(t.Sheets[t.SheetNames[o]],r),r);case"htm":case"html":return xs(Fm(t.Sheets[t.SheetNames[o]],r),r);case"txt":return S6(Wm(t.Sheets[t.SheetNames[o]],r),r);case"csv":return xs(N1(t.Sheets[t.SheetNames[o]],r),r,"\uFEFF");case"dif":return xs(o4.from_sheet(t.Sheets[t.SheetNames[o]],r),r);case"dbf":return Jc(s4.from_sheet(t.Sheets[t.SheetNames[o]],r),r);case"prn":return xs(l4.from_sheet(t.Sheets[t.SheetNames[o]],r),r);case"rtf":return xs(p4.from_sheet(t.Sheets[t.SheetNames[o]],r),r);case"eth":return xs(fm.from_sheet(t.Sheets[t.SheetNames[o]],r),r);case"fods":return xs(jm(t,r),r);case"wk1":return Jc(a2.sheet_to_wk1(t.Sheets[t.SheetNames[o]],r),r);case"wk3":return Jc(a2.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Jc(Lm(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),A6(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return E6(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function T6(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function C6(t,e,r){var i={};return i.type="file",i.file=e,T6(i),zm(t,i)}function I6(t,e,r,i,o,c,d,m){var w=Nn(r),x=m.defval,E=m.raw||!Object.prototype.hasOwnProperty.call(m,"raw"),A=!0,C=o===1?[]:{};if(o!==1)if(Object.defineProperty)try{Object.defineProperty(C,"__rowNum__",{value:r,enumerable:!1})}catch{C.__rowNum__=r}else C.__rowNum__=r;if(!d||t[r])for(var N=e.s.c;N<=e.e.c;++N){var b=d?t[r][N]:t[i[N]+w];if(b===void 0||b.t===void 0){if(x===void 0)continue;c[N]!=null&&(C[c[N]]=x);continue}var O=b.v;switch(b.t){case"z":if(O==null)break;continue;case"e":O=O==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(c[N]!=null){if(O==null)if(b.t=="e"&&O===null)C[c[N]]=null;else if(x!==void 0)C[c[N]]=x;else if(E&&O===null)C[c[N]]=null;else continue;else C[c[N]]=E&&(b.t!=="n"||b.t==="n"&&m.rawNumbers!==!1)?O:Ws(b,O,m);O!=null&&(A=!1)}}return{row:C,isempty:A}}function _0(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},i=0,o=1,c=[],d=0,m="",w={s:{r:0,c:0},e:{r:0,c:0}},x=e||{},E=x.range!=null?x.range:t["!ref"];switch(x.header===1?i=1:x.header==="A"?i=2:Array.isArray(x.header)?i=3:x.header==null&&(i=0),typeof E){case"string":w=vr(E);break;case"number":w=vr(t["!ref"]),w.s.r=E;break;default:w=E}i>0&&(o=0);var A=Nn(w.s.r),C=[],N=[],b=0,O=0,k=Array.isArray(t),K=w.s.r,z=0,B={};k&&!t[K]&&(t[K]=[]);var Q=x.skipHidden&&t["!cols"]||[],Se=x.skipHidden&&t["!rows"]||[];for(z=w.s.c;z<=w.e.c;++z)if(!(Q[z]||{}).hidden)switch(C[z]=Un(z),r=k?t[K][z]:t[C[z]+A],i){case 1:c[z]=z-w.s.c;break;case 2:c[z]=C[z];break;case 3:c[z]=x.header[z-w.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),m=d=Ws(r,null,x),O=B[d]||0,!O)B[d]=1;else{do m=d+"_"+O++;while(B[m]);B[d]=O,B[m]=1}c[z]=m}for(K=w.s.r+o;K<=w.e.r;++K)if(!(Se[K]||{}).hidden){var ve=I6(t,w,K,C,i,c,k,x);(ve.isempty===!1||(i===1?x.blankrows!==!1:x.blankrows))&&(N[b++]=ve.row)}return N.length=b,N}var g2=/"/g;function O6(t,e,r,i,o,c,d,m){for(var w=!0,x=[],E="",A=Nn(r),C=e.s.c;C<=e.e.c;++C)if(i[C]){var N=m.dense?(t[r]||[])[C]:t[i[C]+A];if(N==null)E="";else if(N.v!=null){w=!1,E=""+(m.rawNumbers&&N.t=="n"?N.v:Ws(N,null,m));for(var b=0,O=0;b!==E.length;++b)if((O=E.charCodeAt(b))===o||O===c||O===34||m.forceQuotes){E='"'+E.replace(g2,'""')+'"';break}E=="ID"&&(E='"ID"')}else N.f!=null&&!N.F?(w=!1,E="="+N.f,E.indexOf(",")>=0&&(E='"'+E.replace(g2,'""')+'"')):E="";x.push(E)}return m.blankrows===!1&&w?null:x.join(d)}function N1(t,e){var r=[],i=e??{};if(t==null||t["!ref"]==null)return"";var o=vr(t["!ref"]),c=i.FS!==void 0?i.FS:",",d=c.charCodeAt(0),m=i.RS!==void 0?i.RS:`
`,w=m.charCodeAt(0),x=new RegExp((c=="|"?"\\|":c)+"+$"),E="",A=[];i.dense=Array.isArray(t);for(var C=i.skipHidden&&t["!cols"]||[],N=i.skipHidden&&t["!rows"]||[],b=o.s.c;b<=o.e.c;++b)(C[b]||{}).hidden||(A[b]=Un(b));for(var O=0,k=o.s.r;k<=o.e.r;++k)(N[k]||{}).hidden||(E=O6(t,o,k,A,d,w,c,i),E!=null&&(i.strip&&(E=E.replace(x,"")),(E||i.blankrows!==!1)&&r.push((O++?m:"")+E)));return delete i.dense,r.join("")}function Wm(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=N1(t,e);return r}function N6(t){var e="",r,i="";if(t==null||t["!ref"]==null)return[];var o=vr(t["!ref"]),c="",d=[],m,w=[],x=Array.isArray(t);for(m=o.s.c;m<=o.e.c;++m)d[m]=Un(m);for(var E=o.s.r;E<=o.e.r;++E)for(c=Nn(E),m=o.s.c;m<=o.e.c;++m)if(e=d[m]+c,r=x?(t[E]||[])[m]:t[e],i="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;i=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)i=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)i=""+r.v;else if(r.t=="b")i=r.v?"TRUE":"FALSE";else if(r.w!==void 0)i="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?i="'"+r.v:i=""+r.v}}w[w.length]=e+"="+i}return w}function Vm(t,e,r){var i=r||{},o=+!i.skipHeader,c=t||{},d=0,m=0;if(c&&i.origin!=null)if(typeof i.origin=="number")d=i.origin;else{var w=typeof i.origin=="string"?pn(i.origin):i.origin;d=w.r,m=w.c}var x,E={s:{c:0,r:0},e:{c:m,r:d+e.length-1+o}};if(c["!ref"]){var A=vr(c["!ref"]);E.e.c=Math.max(E.e.c,A.e.c),E.e.r=Math.max(E.e.r,A.e.r),d==-1&&(d=A.e.r+1,E.e.r=d+e.length-1+o)}else d==-1&&(d=0,E.e.r=e.length-1+o);var C=i.header||[],N=0;e.forEach(function(O,k){Rn(O).forEach(function(K){(N=C.indexOf(K))==-1&&(C[N=C.length]=K);var z=O[K],B="z",Q="",Se=ir({c:m+N,r:d+k+o});x=bu(c,Se),z&&typeof z=="object"&&!(z instanceof Date)?c[Se]=z:(typeof z=="number"?B="n":typeof z=="boolean"?B="b":typeof z=="string"?B="s":z instanceof Date?(B="d",i.cellDates||(B="n",z=ti(z)),Q=i.dateNF||Br[14]):z===null&&i.nullError&&(B="e",z=0),x?(x.t=B,x.v=z,delete x.w,delete x.R,Q&&(x.z=Q)):c[Se]=x={t:B,v:z},Q&&(x.z=Q))})}),E.e.c=Math.max(E.e.c,m+C.length-1);var b=Nn(d);if(o)for(N=0;N<C.length;++N)c[Un(N+m)+b]={t:"s",v:C[N]};return c["!ref"]=qr(E),c}function R6(t,e){return Vm(null,t,e)}function bu(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var i=pn(e);return t[i.r]||(t[i.r]=[]),t[i.r][i.c]||(t[i.r][i.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?bu(t,ir(e)):bu(t,ir({r:e,c:r||0}))}function b6(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function k6(){return{SheetNames:[],Sheets:{}}}function D6(t,e,r,i){var o=1;if(!r)for(;o<=65535&&t.SheetNames.indexOf(r="Sheet"+o)!=-1;++o,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(i&&t.SheetNames.indexOf(r)>=0){var c=r.match(/(^.*?)(\d+)$/);o=c&&+c[2]||0;var d=c&&c[1]||r;for(++o;o<=65535&&t.SheetNames.indexOf(r=d+o)!=-1;++o);}if(Dm(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function M6(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var i=b6(t,e);switch(t.Workbook.Sheets[i]||(t.Workbook.Sheets[i]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[i].Hidden=r}function P6(t,e){return t.z=e,t}function Gm(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function L6(t,e,r){return Gm(t,"#"+e,r)}function F6(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function B6(t,e,r,i){for(var o=typeof e!="string"?e:vr(e),c=typeof e=="string"?e:qr(e),d=o.s.r;d<=o.e.r;++d)for(var m=o.s.c;m<=o.e.c;++m){var w=bu(t,d,m);w.t="n",w.F=c,delete w.v,d==o.s.r&&m==o.s.c&&(w.f=r,i&&(w.D=!0))}return t}var Oh={encode_col:Un,encode_row:Nn,encode_cell:ir,encode_range:qr,decode_col:w1,decode_row:m1,split_cell:ZA,decode_cell:pn,decode_range:_i,format_cell:Ws,sheet_add_aoa:Gx,sheet_add_json:Vm,sheet_add_dom:Bm,aoa_to_sheet:El,json_to_sheet:R6,table_to_sheet:Um,table_to_book:o6,sheet_to_csv:N1,sheet_to_txt:Wm,sheet_to_json:_0,sheet_to_html:Fm,sheet_to_formulae:N6,sheet_to_row_object_array:_0,sheet_get_cell:bu,book_new:k6,book_append_sheet:D6,book_set_sheet_visibility:M6,cell_set_number_format:P6,cell_set_hyperlink:Gm,cell_set_internal_link:L6,cell_add_comment:F6,sheet_set_array_formula:B6,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function U6(){const t=async()=>{const{data:e}=await ws.from("attendance").select("*"),r=Oh.json_to_sheet(e),i=Oh.book_new();Oh.book_append_sheet(i,r,"Rapport"),C6(i,"rapport.xlsx")};return Je.jsxs("div",{children:[Je.jsx("h1",{className:"text-xl font-bold mb-4",children:"Rapports"}),Je.jsx("button",{onClick:t,className:"btn-primary",children:"Tlcharger Excel"})]})}function j6(){return Je.jsxs("div",{children:[Je.jsx("h1",{className:"text-xl font-bold mb-4",children:"Gestion des utilisateurs"}),Je.jsx("p",{children:"Page rserve aux administrateurs"})]})}function H6(){const[t,e]=ze.useState(null),[r,i]=ze.useState(!0);return ze.useEffect(()=>{ws.auth.getSession().then(({data:c})=>{e(c?.session?.user??null),i(!1)});const{data:o}=ws.auth.onAuthStateChange((c,d)=>{e(d?.user??null)});return()=>{o.subscription.unsubscribe()}},[]),{user:t,loading:r}}function z6(){const{user:t,loading:e}=H6();return e?null:t?Je.jsx(I2,{}):Je.jsx(Fv,{to:"/login",replace:!0})}function W6(){return Je.jsxs("div",{className:"flex min-h-screen",children:[Je.jsx("aside",{className:"hidden md:flex w-64 bg-indigo-700 text-white p-4",children:Je.jsxs("nav",{className:"space-y-4",children:[Je.jsx(ya,{to:"/",icon:Je.jsx(up,{}),label:"Dashboard"}),Je.jsx(ya,{to:"/scan",icon:Je.jsx(cp,{}),label:"Scanner"}),Je.jsx(ya,{to:"/employees",icon:Je.jsx(fp,{}),label:"Employs"}),Je.jsx(ya,{to:"/reports",icon:Je.jsx(W_,{}),label:"Rapports"}),Je.jsx(ya,{to:"/users",icon:Je.jsx($_,{}),label:"Utilisateurs"})]})}),Je.jsxs("nav",{className:"fixed bottom-0 w-full md:hidden bg-white shadow flex justify-around py-2",children:[Je.jsx(ya,{to:"/",icon:Je.jsx(up,{})}),Je.jsx(ya,{to:"/scan",icon:Je.jsx(cp,{})}),Je.jsx(ya,{to:"/employees",icon:Je.jsx(fp,{})})]}),Je.jsx("main",{className:"flex-1 p-4 pb-16 md:pb-4 bg-gray-50",children:Je.jsx(I2,{})})]})}function ya({to:t,icon:e,label:r}){return Je.jsxs(Qv,{to:t,className:"flex items-center gap-2 p-2 rounded hover:bg-indigo-600",children:[e,r&&Je.jsx("span",{children:r})]})}function V6(){return Je.jsx(Yv,{children:Je.jsxs(Uv,{children:[Je.jsx(Ls,{path:"/login",element:Je.jsx(Q_,{})}),Je.jsx(Ls,{element:Je.jsx(z6,{}),children:Je.jsxs(Ls,{element:Je.jsx(W6,{}),children:[Je.jsx(Ls,{path:"/",element:Je.jsx(Z_,{})}),Je.jsx(Ls,{path:"/scan",element:Je.jsx($3,{})}),Je.jsx(Ls,{path:"/employees",element:Je.jsx(l3,{})}),Je.jsx(Ls,{path:"/reports",element:Je.jsx(U6,{})}),Je.jsx(Ls,{path:"/users",element:Je.jsx(j6,{})})]})})]})})}Xw.createRoot(document.getElementById("root")).render(Je.jsx(Gr.StrictMode,{children:Je.jsx(V6,{})}));
